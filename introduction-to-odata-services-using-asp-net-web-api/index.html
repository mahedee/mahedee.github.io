<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.6 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Introduction To OData Services Using ASP.NET Web API - Think Simple</title>
<meta name="description" content="OData Stands for Open Data Protocol. It is a data access protocol for the web. OData provides a uniform way to query and manipulate data sets through CRUD operations (create, read, update, and delete). OData consumption can be done across different Programming Language. ASP.NET Web API supports both OData v3 and V4.">


  <meta name="author" content="Mahedee Hasan">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Think Simple">
<meta property="og:title" content="Introduction To OData Services Using ASP.NET Web API">
<meta property="og:url" content="https://mahedee.net/introduction-to-odata-services-using-asp-net-web-api/">


  <meta property="og:description" content="OData Stands for Open Data Protocol. It is a data access protocol for the web. OData provides a uniform way to query and manipulate data sets through CRUD operations (create, read, update, and delete). OData consumption can be done across different Programming Language. ASP.NET Web API supports both OData v3 and V4.">







  <meta property="article:published_time" content="2015-09-06T00:00:00-04:00">





  

  


<link rel="canonical" href="https://mahedee.net/introduction-to-odata-services-using-asp-net-web-api/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Mahedee Hasan",
      "url": "https://mahedee.net/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Think Simple Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



<!-- SEO tags -->
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Introduction To OData Services Using ASP.NET Web API | Think Simple</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Introduction To OData Services Using ASP.NET Web API" />
<meta name="author" content="Mahedee Hasan" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="OData Stands for Open Data Protocol. It is a data access protocol for the web. OData provides a uniform way to query and manipulate data sets through CRUD operations (create, read, update, and delete). OData consumption can be done across different Programming Language. ASP.NET Web API supports both OData v3 and V4." />
<meta property="og:description" content="OData Stands for Open Data Protocol. It is a data access protocol for the web. OData provides a uniform way to query and manipulate data sets through CRUD operations (create, read, update, and delete). OData consumption can be done across different Programming Language. ASP.NET Web API supports both OData v3 and V4." />
<link rel="canonical" href="https://mahedee.net/introduction-to-odata-services-using-asp-net-web-api/" />
<meta property="og:url" content="https://mahedee.net/introduction-to-odata-services-using-asp-net-web-api/" />
<meta property="og:site_name" content="Think Simple" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-09-06T00:00:00-04:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Introduction To OData Services Using ASP.NET Web API" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@Mahedee Hasan" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Mahedee Hasan"},"dateModified":"2015-09-06T00:00:00-04:00","datePublished":"2015-09-06T00:00:00-04:00","description":"OData Stands for Open Data Protocol. It is a data access protocol for the web. OData provides a uniform way to query and manipulate data sets through CRUD operations (create, read, update, and delete). OData consumption can be done across different Programming Language. ASP.NET Web API supports both OData v3 and V4.","headline":"Introduction To OData Services Using ASP.NET Web API","mainEntityOfPage":{"@type":"WebPage","@id":"https://mahedee.net/introduction-to-odata-services-using-asp-net-web-api/"},"url":"https://mahedee.net/introduction-to-odata-services-using-asp-net-web-api/"}</script>
<!-- End Jekyll SEO tag -->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->



     
  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Think Simple
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/" >Home</a>
            </li><li class="masthead__menu-item">
              <a href="/categories" >Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/about/" >About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/me.jpg" alt="Mahedee Hasan" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Mahedee Hasan</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>I am a Microsoft MVP (10th times), programmer, software developer, software architect, consultant, author, researcher, technical blogger, technical speaker, trainer and learner. I have more than 15 years experience in the field of software design and development.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Toronto, Ontario, Canada</span>
        </li>
      

      
        
          
            <li><a href="mailto:mahedee.hasan@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
          
        
          
            <li><a href="https://mahedee.net" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Website</a></li>
          
        
          
            <li><a href="https://mvp.microsoft.com/en-us/PublicProfile/5001294" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-award" aria-hidden="true"></i> MVP</a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/mahedee/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
          
        
          
            <li><a href="https://twitter.com/mahedeehasan" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
          
        
          
            <li><a href="https://facebook.com/mahedee19" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
          
        
          
            <li><a href="https://github.com/mahedee" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
          
            <li><a href="https://www.buymeacoffee.com/mahedee" rel="nofollow noopener noreferrer"><i class="fab fa fa-coffee" aria-hidden="true"></i> Buy me a Coffee</a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Introduction To OData Services Using ASP.NET Web API">
    <meta itemprop="description" content="OData Stands for Open Data Protocol. It is a data access protocol for the web. OData provides a uniform way to query and manipulate data sets through CRUD operations (create, read, update, and delete). OData consumption can be done across different Programming Language. ASP.NET Web API supports both OData v3 and V4.">
    <meta itemprop="datePublished" content="September 06, 2015">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Introduction To OData Services Using ASP.NET Web API
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p><strong>What is OData?</strong></p>

<p>OData Stands for Open Data Protocol. It is a data access protocol for the web. OData provides a uniform way to query and manipulate data sets through CRUD operations (create, read, update, and delete). OData consumption can be done across different Programming Language. ASP.NET Web API supports both OData v3 and V4.</p>

<p><strong>Advantages of OData Services</strong></p>

<ul>
  <li>OData based on REST Architecture so we can retrieve data using URL</li>
  <li>Support CRUD Operation using HTTP Method like GET, POST, PUT, DELETE</li>
  <li>Support HTTP, JSON and Atom Pub</li>
  <li>It is very light weight, so interaction of client and server is very fast</li>
</ul>

<p><strong>Disadvantage</strong></p>

<ul>
  <li>Since it is URL based so many people think it is less secure</li>
  <li>It does not support all type of custom query</li>
  <li>Let’s implement OData Services using ASP.NET Web API</li>
</ul>

<p><strong>Tools and Technology used</strong><br />
I used following tools and technology to develop the project –</p>

<ul>
  <li>Visual Studio 2013</li>
  <li>Visual C#</li>
  <li>ASP.NET Web API 2</li>
  <li>Entity Framework 6</li>
  <li>Postman(Google postman)</li>
</ul>

<p><strong>Step 1: Create a ASP.net Web API Project</strong></p>

<ul>
  <li>Open visual studio and then go File -&gt; Project -&gt; ASP.NET Web Application</li>
  <li>select Web API and press OK</li>
</ul>

<p><strong>Step 2: Install Microsoft.AspNet.Odata</strong></p>

<ul>
  <li>Select Tool -&gt; NuGet Package Manager &gt; Package Manager Console</li>
  <li>Type following command in package manager console
    <div class="language-ps highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">PM</span><span class="p">&gt;</span> <span class="nf">Install-Package</span> <span class="nf">Microsoft.AspNet.Odata</span>
</code></pre></div>    </div>
    <p>Step 3: Create a model class name Employee</p>
  </li>
</ul>

<p>Create a Model class name Employee in Model folder</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Employee</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Designation</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Dept</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">BloodGroup</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Step 4: Change or Add Connection String</strong></p>

<p>Change or Add connection string in Web.config</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;add</span> <span class="na">name=</span><span class="s">"DefaultConnection"</span> <span class="na">connectionString=</span><span class="s">"Data Source=(LocalDb)\v11.0;AttachDbFilename=|DataDirectory|\HRMDB.mdf;Initial Catalog=HRMDB;Integrated Security=True"</span> <span class="na">providerName=</span><span class="s">"System.Data.SqlClient"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<p><strong>Step 5: Create a Context class</strong></p>

<ul>
  <li>Create HRMContext class in Model  folder.
    <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">public</span> <span class="k">class</span> <span class="nc">HRMContext</span> <span class="p">:</span> <span class="n">DbContext</span>
  <span class="p">{</span>
      <span class="k">public</span> <span class="nf">HRMContext</span><span class="p">()</span>
          <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="s">"DefaultConnection"</span><span class="p">)</span>
      <span class="p">{</span>
      <span class="p">}</span>
      <span class="k">public</span> <span class="n">DbSet</span><span class="p">&lt;</span><span class="n">Employee</span><span class="p">&gt;</span> <span class="n">Employees</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<p><strong>Step 6: Add Employee Controller</strong></p>

<ul>
  <li>
    <p>Press right button on Controller folder -&gt; Add -&gt; Controller</p>
  </li>
  <li>Now choose “Web API 2 OData v3 Controller with actions, using Entity Framework” scaffolding template and then press Add.</li>
  <li>Now choose Controller Name as EmployeeController, Model name as Employee and Context name as HRMContext and click Add.</li>
  <li>The following code will be generated on corresponding for the controller.</li>
</ul>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">EmployeeController</span> <span class="p">:</span> <span class="n">ODataController</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">HRMContext</span> <span class="n">db</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HRMContext</span><span class="p">();</span>
 
    <span class="c1">// GET: odata/Employee</span>
    <span class="p">[</span><span class="n">EnableQuery</span><span class="p">]</span>
    <span class="k">public</span> <span class="n">IQueryable</span><span class="p">&amp;</span><span class="n">ltEmployee</span><span class="p">&amp;</span><span class="n">gt</span> <span class="nf">GetEmployee</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">db</span><span class="p">.</span><span class="n">Employees</span><span class="p">;</span>
    <span class="p">}</span>
 
    <span class="c1">// GET: odata/Employee(5)</span>
    <span class="p">[</span><span class="n">EnableQuery</span><span class="p">]</span>
    <span class="k">public</span> <span class="n">SingleResult</span><span class="p">&amp;</span><span class="n">ltEmployee</span><span class="p">&amp;</span><span class="n">gt</span> <span class="nf">GetEmployee</span><span class="p">([</span><span class="n">FromODataUri</span><span class="p">]</span> <span class="kt">int</span> <span class="n">key</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">SingleResult</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">db</span><span class="p">.</span><span class="n">Employees</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">employee</span> <span class="p">=&gt;</span> <span class="n">employee</span><span class="p">.</span><span class="n">Id</span> <span class="p">==</span> <span class="n">key</span><span class="p">));</span>
    <span class="p">}</span>
 
    <span class="c1">// PUT: odata/Employee(5)</span>
    <span class="k">public</span> <span class="n">IHttpActionResult</span> <span class="nf">Put</span><span class="p">([</span><span class="n">FromODataUri</span><span class="p">]</span> <span class="kt">int</span> <span class="n">key</span><span class="p">,</span> <span class="n">Delta</span><span class="p">&lt;</span><span class="n">Employee</span><span class="p">&gt;</span> <span class="n">patch</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nf">Validate</span><span class="p">(</span><span class="n">patch</span><span class="p">.</span><span class="nf">GetEntity</span><span class="p">());</span>
 
        <span class="k">if</span> <span class="p">(!</span><span class="n">ModelState</span><span class="p">.</span><span class="n">IsValid</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="nf">BadRequest</span><span class="p">(</span><span class="n">ModelState</span><span class="p">);</span>
        <span class="p">}</span>
 
        <span class="n">Employee</span> <span class="n">employee</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">Employees</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="n">key</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">employee</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="nf">NotFound</span><span class="p">();</span>
        <span class="p">}</span>
 
        <span class="n">patch</span><span class="p">.</span><span class="nf">Put</span><span class="p">(</span><span class="n">employee</span><span class="p">);</span>
 
        <span class="k">try</span>
        <span class="p">{</span>
            <span class="n">db</span><span class="p">.</span><span class="nf">SaveChanges</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">catch</span> <span class="p">(</span><span class="n">DbUpdateConcurrencyException</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(!</span><span class="nf">EmployeeExists</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="k">return</span> <span class="nf">NotFound</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="k">throw</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
 
        <span class="k">return</span> <span class="nf">Updated</span><span class="p">(</span><span class="n">employee</span><span class="p">);</span>
    <span class="p">}</span>
 
    <span class="c1">// POST: odata/Employee</span>
    <span class="k">public</span> <span class="n">IHttpActionResult</span> <span class="nf">Post</span><span class="p">(</span><span class="n">Employee</span> <span class="n">employee</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">ModelState</span><span class="p">.</span><span class="n">IsValid</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="nf">BadRequest</span><span class="p">(</span><span class="n">ModelState</span><span class="p">);</span>
        <span class="p">}</span>
 
        <span class="n">db</span><span class="p">.</span><span class="n">Employees</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">employee</span><span class="p">);</span>
        <span class="n">db</span><span class="p">.</span><span class="nf">SaveChanges</span><span class="p">();</span>
 
        <span class="k">return</span> <span class="nf">Created</span><span class="p">(</span><span class="n">employee</span><span class="p">);</span>
    <span class="p">}</span>
 
    <span class="c1">// PATCH: odata/Employee(5)</span>
    <span class="p">[</span><span class="nf">AcceptVerbs</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"MERGE"</span><span class="p">)]</span>
    <span class="k">public</span> <span class="n">IHttpActionResult</span> <span class="nf">Patch</span><span class="p">([</span><span class="n">FromODataUri</span><span class="p">]</span> <span class="kt">int</span> <span class="n">key</span><span class="p">,</span> <span class="n">Delta</span><span class="p">&lt;</span><span class="n">Employee</span><span class="p">&gt;</span> <span class="n">patch</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nf">Validate</span><span class="p">(</span><span class="n">patch</span><span class="p">.</span><span class="nf">GetEntity</span><span class="p">());</span>
 
        <span class="k">if</span> <span class="p">(!</span><span class="n">ModelState</span><span class="p">.</span><span class="n">IsValid</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="nf">BadRequest</span><span class="p">(</span><span class="n">ModelState</span><span class="p">);</span>
        <span class="p">}</span>
 
        <span class="n">Employee</span> <span class="n">employee</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">Employees</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="n">key</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">employee</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="nf">NotFound</span><span class="p">();</span>
        <span class="p">}</span>
 
        <span class="n">patch</span><span class="p">.</span><span class="nf">Patch</span><span class="p">(</span><span class="n">employee</span><span class="p">);</span>
 
        <span class="k">try</span>
        <span class="p">{</span>
            <span class="n">db</span><span class="p">.</span><span class="nf">SaveChanges</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">catch</span> <span class="p">(</span><span class="n">DbUpdateConcurrencyException</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(!</span><span class="nf">EmployeeExists</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="k">return</span> <span class="nf">NotFound</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="k">throw</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
 
        <span class="k">return</span> <span class="nf">Updated</span><span class="p">(</span><span class="n">employee</span><span class="p">);</span>
    <span class="p">}</span>
 
    <span class="c1">// DELETE: odata/Employee(5)</span>
    <span class="k">public</span> <span class="n">IHttpActionResult</span> <span class="nf">Delete</span><span class="p">([</span><span class="n">FromODataUri</span><span class="p">]</span> <span class="kt">int</span> <span class="n">key</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Employee</span> <span class="n">employee</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">Employees</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="n">key</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">employee</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="nf">NotFound</span><span class="p">();</span>
        <span class="p">}</span>
 
        <span class="n">db</span><span class="p">.</span><span class="n">Employees</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="n">employee</span><span class="p">);</span>
        <span class="n">db</span><span class="p">.</span><span class="nf">SaveChanges</span><span class="p">();</span>
 
        <span class="k">return</span> <span class="nf">StatusCode</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">NoContent</span><span class="p">);</span>
    <span class="p">}</span>
 
    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Dispose</span><span class="p">(</span><span class="kt">bool</span> <span class="n">disposing</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">disposing</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">db</span><span class="p">.</span><span class="nf">Dispose</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">base</span><span class="p">.</span><span class="nf">Dispose</span><span class="p">(</span><span class="n">disposing</span><span class="p">);</span>
    <span class="p">}</span>
 
    <span class="k">private</span> <span class="kt">bool</span> <span class="nf">EmployeeExists</span><span class="p">(</span><span class="kt">int</span> <span class="n">key</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">db</span><span class="p">.</span><span class="n">Employees</span><span class="p">.</span><span class="nf">Count</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Id</span> <span class="p">==</span> <span class="n">key</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p><strong>Step 7: Configure OData End Point</strong></p>

<ul>
  <li>Open the file App_Start/WebApiConfig.cs.</li>
  <li>Add the following references</li>
</ul>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Web.Http.OData.Builder</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Web.Http.OData.Extensions</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Web.OData.Models</span><span class="p">;</span>
</code></pre></div></div>

<ul>
  <li>Add the following code in the register method.
    <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">WebApiConfig</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Register</span><span class="p">(</span><span class="n">HttpConfiguration</span> <span class="n">config</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">ODataConventionModelBuilder</span> <span class="n">builder</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ODataConventionModelBuilder</span><span class="p">();</span>
    <span class="n">builder</span><span class="p">.</span><span class="n">EntitySet</span><span class="p">&lt;</span><span class="n">Employee</span><span class="p">&gt;(</span><span class="s">"Employee"</span><span class="p">);</span>
    <span class="n">config</span><span class="p">.</span><span class="n">Routes</span><span class="p">.</span><span class="nf">MapODataServiceRoute</span><span class="p">(</span><span class="s">"odata"</span><span class="p">,</span> <span class="s">"odata"</span><span class="p">,</span> <span class="n">builder</span><span class="p">.</span><span class="nf">GetEdmModel</span><span class="p">());</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<p><strong>Step 8: Enable Migration</strong></p>

<ul>
  <li>Type the following command in package manager console to enable migration
    <div class="language-ps highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">PM</span><span class="p">&gt;</span> <span class="nf">Enable-Migrations</span> <span class="nf">-ContextTypeName</span> <span class="nf">HRMContext</span>
</code></pre></div>    </div>
  </li>
  <li>After pressing enter you will see a class name Configuration is created in Mingrations folder with some codes.</li>
</ul>

<p><strong>Step 9: Add seed data and add migration</strong></p>

<ul>
  <li>Modify the Seed() method of Configuration class like below to add some seed data.</li>
</ul>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Seed</span><span class="p">(</span><span class="n">Web</span><span class="p">.</span><span class="n">OData</span><span class="p">.</span><span class="n">Models</span><span class="p">.</span><span class="n">HRMContext</span> <span class="n">context</span><span class="p">)</span>
        <span class="p">{</span>
 
            <span class="n">context</span><span class="p">.</span><span class="n">Employees</span><span class="p">.</span><span class="nf">AddOrUpdate</span><span class="p">(</span>
              <span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span>
              <span class="k">new</span> <span class="n">Employee</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Mahedee Hasan"</span><span class="p">,</span> <span class="n">Designation</span> <span class="p">=</span> <span class="s">"Software Architect"</span><span class="p">,</span> <span class="n">Dept</span> <span class="p">=</span> <span class="s">"SSD"</span><span class="p">,</span> <span class="n">BloodGroup</span> <span class="p">=</span> <span class="s">"A+"</span> <span class="p">},</span>
              <span class="k">new</span> <span class="n">Employee</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Kazi Aminur Rashid"</span><span class="p">,</span> <span class="n">Designation</span> <span class="p">=</span> <span class="s">"AGM"</span><span class="p">,</span> <span class="n">Dept</span> <span class="p">=</span> <span class="s">"SSD"</span><span class="p">,</span> <span class="n">BloodGroup</span> <span class="p">=</span> <span class="s">"NA"</span> <span class="p">},</span>
              <span class="k">new</span> <span class="n">Employee</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Tauhidul Haque"</span><span class="p">,</span> <span class="n">Designation</span> <span class="p">=</span> <span class="s">"DGM"</span><span class="p">,</span> <span class="n">Dept</span> <span class="p">=</span> <span class="s">"SSD"</span><span class="p">,</span> <span class="n">BloodGroup</span> <span class="p">=</span> <span class="s">"A+"</span> <span class="p">}</span>
            <span class="p">);</span>
 
<span class="p">}</span>

</code></pre></div></div>

<ul>
  <li>Now type the following command in the package manager console to add a migration.</li>
</ul>

<div class="language-ps highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">PM</span><span class="p">&gt;</span> <span class="nf">Add-Migration</span> <span class="nf">initialmigration</span>
</code></pre></div></div>

<p><strong>Step 10: Update database and attaché mdf file</strong></p>

<ul>
  <li>Now type the following command in package manager console.
    <div class="language-ps highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">PM</span><span class="p">&gt;</span> <span class="nf">Update-Database</span> <span class="nf">–Verbose</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>You will see two file .mdf and .ldf is created in your App_data directory. Now attached the file to your application.</p>
  </li>
  <li>Now run you application.</li>
  <li>Run Postman.</li>
  <li>Type http://localhost:64126/odata/Employee in your postbox you will see following output in JSON format. Use port number on which your application currently running instead of 64126.</li>
</ul>

<p><img src="/assets/images/posts/2015/odata-output.jpg" alt="" /></p>

<p>Now, it’s working…!! Cheers!!!</p>

<p><strong><a href="https://github.com/mahedee/code-sample/tree/master/ODataInfo1">Source Code</a></strong></p>

        <!-- AdSense disabled: <!-- AdSense disabled: <!--<!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3654930341568980"
crossorigin="anonymous"></script> -->
<!-- Horizontal Unit -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-3654930341568980"
     data-ad-slot="7189599032"></ins>
<script>
     // (adsbygoogle = window.adsbygoogle || []).push({});
</script> --> -->
-->
        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#aspnetmvc" class="page__taxonomy-item" rel="tag">aspnetmvc</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#csharp" class="page__taxonomy-item" rel="tag">csharp</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#odata" class="page__taxonomy-item" rel="tag">odata</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#webapi" class="page__taxonomy-item" rel="tag">webapi</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#asp-net-mvc" class="page__taxonomy-item" rel="tag">ASP.NET MVC</a><span class="sep">, </span>
    
      
      
      <a href="/categories/#c" class="page__taxonomy-item" rel="tag">C#</a><span class="sep">, </span>
    
      
      
      <a href="/categories/#odata" class="page__taxonomy-item" rel="tag">OData</a><span class="sep">, </span>
    
      
      
      <a href="/categories/#web-api" class="page__taxonomy-item" rel="tag">Web API</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2015-09-06T00:00:00-04:00">September 06, 2015</time></p>
        
      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=Introduction+To+OData+Services+Using+ASP.NET+Web+API%20https%3A%2F%2Fmahedee.net%2Fintroduction-to-odata-services-using-asp-net-web-api%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmahedee.net%2Fintroduction-to-odata-services-using-asp-net-web-api%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fmahedee.net%2Fintroduction-to-odata-services-using-asp-net-web-api%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/introduction-to-omnet/" class="pagination--pager" title="Introduction To OMNeT++
">Previous</a>
    
    
      <a href="/asp-net-application-performance-tuning-and-scalability-improvement-part-1/" class="pagination--pager" title="ASP.NET Application Performance Tuning And Scalability Improvement (Part – 1)
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Comments</h4>
      <div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v18.0&appId=1641495303280571"></script>

<div class="fb-comments" 
     data-href="https://mahedee.net/introduction-to-odata-services-using-asp-net-web-api/" 
     data-width="100%" 
     data-numposts="10"
     data-colorscheme="light"
     data-order-by="social"
     data-mobile="true">
</div>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2010-01-01-could-not-access-network-location-systemdriveinetpubwwwroot/" rel="permalink">
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/procedural-vs-object-oriented-programming/" rel="permalink">Procedural vs Object-Oriented Programming: Key Differences Explained
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  6 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">A comprehensive comparison of procedural and object-oriented programming paradigms, exploring their key differences, advantages, and practical applications i...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/implementing-metrics-and-dashboards-dotnet-core-api-prometheus-grafana/" rel="permalink">Implementing Metrics and Dashboards for .NET Core APIs with Prometheus and Grafana
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  18 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Step-by-step tutorial to implement metrics and dashboards for .NET Core APIs using Prometheus and Grafana for effective monitoring.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/my-vs-code-extensions-for-daily-development/" rel="permalink">My VS Code Extensions for Daily Development Work
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">A comprehensive list of VS Code extensions I use daily for development, productivity, and coding efficiency across multiple languages and frameworks.
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>


      <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3654930341568980"
     data-ad-slot="2244980843"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    <li><i class="fas fa-fw fa-award" aria-hidden="true"></i> <a href = "https://mvp.microsoft.com/en-us/PublicProfile/5001294">MVP Profile</a></li> 
    ||<li><i class="fas fa-fw fa-list-alt" aria-hidden="true"></i> <a href = "/categories/">Categories</a></li>
    ||<li><i class="fas fa-fw fa-code" aria-hidden="true"></i> <a href = "#">Programming</a></li>  
    ||<li><i class="fas fa-fw fa-globe" aria-hidden="true"></i> <a href = "/categories/#asp-net">ASP.NET</a></li> 
    ||<li><a href = "#">AI & ML</a></li>
    ||<li><a href = "#">Javascript</a></li>
    ||<li><a href = "#">Software Architecture</a></li>
    ||<li><a href = "#">Database</a></li>
    ||<li><a href = "#">OOP</a></li>
    ||<li><a href = "#">Design Pattern</a></li>  
    ||<li><a href = "#">Algorithm</a></li>
    ||<li><a href = "#">Interview Tips</a></li>
    ||<li><a href = "#">Opinions</a></li>
    ||<li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2026 Mahedee Hasan. 
  <!-- Powered by  -->
  <!-- <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>. -->
</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', '', { 'anonymize_ip': false});
</script>











        <!-- AdSense disabled: Add sense code for all page : added globaly
<!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3654930341568980"
crossorigin="anonymous"></script> -->
-->

  </body>
</html>
