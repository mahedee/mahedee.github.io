<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://mahedee.net/feed.xml" rel="self" type="application/atom+xml" /><link href="https://mahedee.net/" rel="alternate" type="text/html" /><updated>2026-01-01T20:49:08-05:00</updated><id>https://mahedee.net/feed.xml</id><title type="html">Think Simple</title><subtitle>Think Simple</subtitle><author><name>Mahedee Hasan</name></author><entry><title type="html"></title><link href="https://mahedee.net/2010-01-01-could-not-access-network-location-systemdriveinetpubwwwroot/" rel="alternate" type="text/html" title="" /><published>2026-01-01T20:49:08-05:00</published><updated>2026-01-01T20:49:08-05:00</updated><id>https://mahedee.net/2010-01-01-could-not-access-network-location-systemdriveinetpubwwwroot</id><content type="html" xml:base="https://mahedee.net/2010-01-01-could-not-access-network-location-systemdriveinetpubwwwroot/"><![CDATA[<p>If you’ve encountered the error <strong>“Could not access network location %SystemDrive%\inetpub\wwwroot"</strong> while installing software (like Infragistics NetAdvantage) or configuring IIS on Windows, you’re not alone. This common issue occurs when the Windows registry contains an incorrect path reference to the IIS wwwroot directory.</p>

<h2 id="what-causes-this-error">What Causes This Error?</h2>

<p>This error typically occurs when:</p>
<ul>
  <li>Installing web development software that needs to access IIS</li>
  <li>The registry contains environment variables instead of actual paths</li>
  <li>IIS configuration is corrupted or incomplete</li>
  <li>Software installers cannot resolve the <code class="language-plaintext highlighter-rouge">%SystemDrive%</code> environment variable</li>
</ul>

<h2 id="the-solution-registry-path-fix">The Solution: Registry Path Fix</h2>

<p><strong>⚠️ Important:</strong> Always backup your registry before making changes. Registry editing can be dangerous if done incorrectly.</p>

<h3 id="step-by-step-fix">Step-by-Step Fix</h3>

<ol>
  <li><strong>Open Registry Editor</strong>
    <ul>
      <li>Press <code class="language-plaintext highlighter-rouge">Windows + R</code> to open the Run dialog</li>
      <li>Type <code class="language-plaintext highlighter-rouge">regedit</code> and press Enter</li>
      <li>Click “Yes” if prompted by User Account Control</li>
    </ul>
  </li>
  <li><strong>Navigate to the Registry Key</strong>
    <ul>
      <li>Go to: <code class="language-plaintext highlighter-rouge">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\InetStp\PathWWWRoot</code></li>
      <li>You can paste this path directly into the registry editor’s address bar</li>
    </ul>
  </li>
  <li><strong>Modify the Registry Value</strong>
    <ul>
      <li>Double-click on the <code class="language-plaintext highlighter-rouge">PathWWWRoot</code> entry</li>
      <li><strong>Current (problematic) value:</strong> <code class="language-plaintext highlighter-rouge">%SystemDrive%\inetpub\wwwroot</code> or <code class="language-plaintext highlighter-rouge">\inetpub\wwwroot\</code></li>
      <li><strong>New (fixed) value:</strong> <code class="language-plaintext highlighter-rouge">C:\inetpub\wwwroot</code></li>
      <li>Click OK to save the changes</li>
    </ul>
  </li>
  <li><strong>Verify the Change</strong>
    <ul>
      <li>Ensure the value now shows the full path without environment variables</li>
      <li>Close Registry Editor</li>
    </ul>
  </li>
  <li><strong>Restart and Test</strong>
    <ul>
      <li>Restart your computer or the installer</li>
      <li>Retry the installation or operation that was failing</li>
    </ul>
  </li>
</ol>

<h2 id="alternative-solutions">Alternative Solutions</h2>

<h3 id="method-2-create-the-directory-manually">Method 2: Create the Directory Manually</h3>
<p>If the directory doesn’t exist:</p>
<pre><code class="language-cmd">mkdir C:\inetpub\wwwroot
</code></pre>

<h3 id="method-3-reinstall-iis">Method 3: Reinstall IIS</h3>
<p>If the problem persists, consider reinstalling IIS:</p>
<ol>
  <li>Go to <strong>Control Panel</strong> → <strong>Programs and Features</strong></li>
  <li>Click <strong>Turn Windows features on or off</strong></li>
  <li>Uncheck <strong>Internet Information Services</strong></li>
  <li>Restart Windows</li>
  <li>Re-enable IIS with the same steps</li>
</ol>

<h2 id="custom-iis-installation-paths">Custom IIS Installation Paths</h2>

<p>If your IIS wwwroot is installed in a different location:</p>
<ul>
  <li>Use that custom path instead of <code class="language-plaintext highlighter-rouge">C:\inetpub\wwwroot</code></li>
  <li>Common alternative locations:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">D:\inetpub\wwwroot</code></li>
      <li><code class="language-plaintext highlighter-rouge">C:\wwwroot</code></li>
      <li>Custom enterprise paths</li>
    </ul>
  </li>
</ul>

<h2 id="verification-steps">Verification Steps</h2>

<p>After applying the fix, verify it worked:</p>

<ol>
  <li><strong>Check IIS Manager</strong>
    <ul>
      <li>Open IIS Manager</li>
      <li>Verify the Default Web Site points to the correct physical path</li>
    </ul>
  </li>
  <li><strong>Test Registry Value</strong>
    <ul>
      <li>Run: <code class="language-plaintext highlighter-rouge">reg query "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\InetStp" /v PathWWWRoot</code></li>
      <li>Should return the absolute path without environment variables</li>
    </ul>
  </li>
</ol>

<h2 id="prevention-tips">Prevention Tips</h2>

<ul>
  <li>Always use absolute paths in IIS configuration</li>
  <li>Regularly backup your registry before software installations</li>
  <li>Keep IIS updated to the latest version</li>
  <li>Use IIS Manager to verify paths after installations</li>
</ul>

<h2 id="troubleshooting">Troubleshooting</h2>

<p>If the fix doesn’t work:</p>
<ul>
  <li>Ensure you have administrator privileges</li>
  <li>Check if the path actually exists on your system</li>
  <li>Verify IIS is properly installed</li>
  <li>Look for additional registry keys that might need updating</li>
</ul>

<hr />

<p><strong>Note:</strong> This solution has been tested on Windows 7, Windows 10, and Windows Server versions. The registry path remains consistent across these platforms.</p>

<p><em>Have you encountered this error with other software? Share your experience in the comments below!</em></p>

<!-- Last reviewed and modified: 2026-01-01 -->]]></content><author><name>Mahedee Hasan</name></author></entry><entry><title type="html">Procedural vs Object-Oriented Programming: Key Differences Explained</title><link href="https://mahedee.net/procedural-vs-object-oriented-programming/" rel="alternate" type="text/html" title="Procedural vs Object-Oriented Programming: Key Differences Explained" /><published>2026-01-01T00:00:00-05:00</published><updated>2026-01-01T00:00:00-05:00</updated><id>https://mahedee.net/procedural-vs-object-oriented-programming</id><content type="html" xml:base="https://mahedee.net/procedural-vs-object-oriented-programming/"><![CDATA[<!-- Article banner image (optional) -->
<!-- ![Document Management System Banner](./images/dms-banner.png) -->

<p>Programming paradigms are fundamental approaches to organizing and structuring code. Two of the most widely used paradigms are <strong>Procedural Programming</strong> and <strong>Object-Oriented Programming (OOP)</strong>. Understanding their differences is crucial for choosing the right approach for your projects and becoming a more effective programmer.</p>

<h2 id="what-is-procedural-programming">What is Procedural Programming?</h2>

<p>Procedural programming is a linear approach where code is organized as a sequence of functions or procedures that operate on data. It follows a top-down approach, executing instructions from start to finish.</p>

<h3 id="key-characteristics">Key Characteristics:</h3>
<ul>
  <li><strong>Linear execution flow</strong></li>
  <li><strong>Function-based organization</strong></li>
  <li><strong>Global data access</strong></li>
  <li><strong>Step-by-step problem solving</strong></li>
</ul>

<h3 id="popular-procedural-programming-languages">Popular Procedural Programming Languages:</h3>
<ul>
  <li><strong>C</strong> - The classic procedural language, widely used in system programming</li>
  <li><strong>Pascal</strong> - Structured programming language, popular in education</li>
  <li><strong>FORTRAN</strong> - Early scientific computing language, still used in high-performance computing</li>
  <li><strong>COBOL</strong> - Business-oriented language, legacy systems</li>
  <li><strong>BASIC</strong> - Beginner-friendly language</li>
  <li><strong>Assembly</strong> - Low-level programming, direct hardware control</li>
  <li><strong>Go</strong> - Modern language with procedural features alongside other paradigms</li>
  <li><strong>Bash/Shell Scripting</strong> - System administration and automation</li>
</ul>

<h3 id="example-c-language">Example (C Language):</h3>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span>
<span class="c1">// Global variables</span>
<span class="kt">int</span> <span class="n">balance</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>

<span class="c1">// Functions</span>
<span class="kt">void</span> <span class="nf">deposit</span><span class="p">(</span><span class="kt">int</span> <span class="n">amount</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">balance</span> <span class="o">+=</span> <span class="n">amount</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Deposited: $%d. New balance: $%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="n">balance</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">withdraw</span><span class="p">(</span><span class="kt">int</span> <span class="n">amount</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">balance</span> <span class="o">&gt;=</span> <span class="n">amount</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span><span class="p">;</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"Withdrew: $%d. New balance: $%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="n">balance</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"Insufficient funds!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">deposit</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
    <span class="n">withdraw</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="what-is-object-oriented-programming">What is Object-Oriented Programming?</h2>

<p>Object-Oriented Programming organizes code around objects that encapsulate data (attributes) and functions (methods) that operate on that data. It emphasizes modularity, reusability, and real-world modeling.</p>

<h3 id="key-characteristics-1">Key Characteristics:</h3>
<ul>
  <li><strong>Object-based organization</strong></li>
  <li><strong>Data encapsulation</strong></li>
  <li><strong>Inheritance support</strong></li>
  <li><strong>Polymorphism capabilities</strong></li>
</ul>

<h3 id="popular-object-oriented-programming-languages">Popular Object-Oriented Programming Languages:</h3>
<ul>
  <li><strong>C#</strong> - Microsoft’s flagship OOP language for .NET development</li>
  <li><strong>Java</strong> - Platform-independent, enterprise-focused OOP language</li>
  <li><strong>C++</strong> - Extension of C with OOP features, system programming</li>
  <li><strong>Python</strong> - Multi-paradigm language with strong OOP support</li>
  <li><strong>JavaScript</strong> - Web development language with prototype-based OOP</li>
  <li><strong>Ruby</strong> - Pure object-oriented language, everything is an object</li>
  <li><strong>Swift</strong> - Apple’s modern OOP language for iOS/macOS development</li>
  <li><strong>Kotlin</strong> - Modern JVM language with OOP and functional features</li>
  <li><strong>PHP</strong> - Web development language with OOP capabilities</li>
  <li><strong>Scala</strong> - Functional and object-oriented hybrid on JVM</li>
  <li><strong>Dart</strong> - Google’s language for Flutter app development</li>
</ul>

<h3 id="example-c-language-1">Example (C# Language):</h3>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">BankAccount</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kt">decimal</span> <span class="n">balance</span><span class="p">;</span>
    
    <span class="k">public</span> <span class="nf">BankAccount</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">initialBalance</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">balance</span> <span class="p">=</span> <span class="n">initialBalance</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Deposit</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">amount</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">balance</span> <span class="p">+=</span> <span class="n">amount</span><span class="p">;</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Deposited: $</span><span class="p">{</span><span class="n">amount</span><span class="p">}</span><span class="s">. New balance: $</span><span class="p">{</span><span class="n">balance</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Withdraw</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">amount</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">balance</span> <span class="p">&gt;=</span> <span class="n">amount</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">balance</span> <span class="p">-=</span> <span class="n">amount</span><span class="p">;</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Withdrew: $</span><span class="p">{</span><span class="n">amount</span><span class="p">}</span><span class="s">. New balance: $</span><span class="p">{</span><span class="n">balance</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Insufficient funds!"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="k">public</span> <span class="kt">decimal</span> <span class="nf">GetBalance</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">balance</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="n">BankAccount</span> <span class="n">account</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">BankAccount</span><span class="p">(</span><span class="m">1000</span><span class="p">);</span>
<span class="n">account</span><span class="p">.</span><span class="nf">Deposit</span><span class="p">(</span><span class="m">500</span><span class="p">);</span>
<span class="n">account</span><span class="p">.</span><span class="nf">Withdraw</span><span class="p">(</span><span class="m">200</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="detailed-comparison">Detailed Comparison</h2>

<table>
  <thead>
    <tr>
      <th>Aspect</th>
      <th>Procedural Programming</th>
      <th>Object-Oriented Programming</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Programming Style</strong></td>
      <td>Linear, top-down approach</td>
      <td>Modular, object-based approach</td>
    </tr>
    <tr>
      <td><strong>Fundamental Unit</strong></td>
      <td>Function/Procedure</td>
      <td>Object/Class</td>
    </tr>
    <tr>
      <td><strong>Data Security</strong></td>
      <td>Data is globally accessible</td>
      <td>Data is encapsulated within objects</td>
    </tr>
    <tr>
      <td><strong>Code Organization</strong></td>
      <td>Functions operate on global data</td>
      <td>Data and methods bundled in classes</td>
    </tr>
    <tr>
      <td><strong>Problem Solving</strong></td>
      <td>Break down into functions</td>
      <td>Model real-world entities as objects</td>
    </tr>
  </tbody>
</table>

<h2 id="key-differences-explained">Key Differences Explained</h2>

<h3 id="1-programming-style-and-approach">1. Programming Style and Approach</h3>

<p><strong>Procedural Programming:</strong></p>
<ul>
  <li>Follows a <strong>linear, sequential approach</strong></li>
  <li>Code execution flows from top to bottom</li>
  <li>Problems are broken down into smaller functions</li>
  <li>Also known as “linear programming”</li>
</ul>

<p><strong>Object-Oriented Programming:</strong></p>
<ul>
  <li>Follows a <strong>modular, non-linear approach</strong></li>
  <li>Code is distributed across multiple classes and files</li>
  <li>Problems are modeled as interacting objects</li>
  <li>Emphasizes real-world entity representation</li>
</ul>

<h3 id="2-code-organization-and-structure">2. Code Organization and Structure</h3>

<p><strong>Procedural Programming:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Main Function
├── Function A
├── Function B
│   ├── Sub-function B1
│   └── Sub-function B2
└── Function C
</code></pre></div></div>

<p><strong>Object-Oriented Programming:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Application
├── Class A (Data + Methods)
├── Class B (Data + Methods)
│   ├── Method B1
│   └── Method B2
└── Class C (inherits from Class A)
</code></pre></div></div>

<h3 id="3-data-handling-and-security">3. Data Handling and Security</h3>

<p><strong>Procedural Programming:</strong></p>
<ul>
  <li>Data is <strong>globally accessible</strong></li>
  <li>Functions can access any data</li>
  <li>No built-in data protection mechanisms</li>
  <li>Higher risk of data corruption</li>
</ul>

<p><strong>Object-Oriented Programming:</strong></p>
<ul>
  <li>Data is <strong>encapsulated</strong> within objects</li>
  <li>Access controlled through methods</li>
  <li><strong>Private, protected, and public</strong> access modifiers</li>
  <li>Enhanced data security and integrity</li>
</ul>

<h3 id="4-reusability-and-maintenance">4. Reusability and Maintenance</h3>

<p><strong>Procedural Programming:</strong></p>
<ul>
  <li><strong>Limited reusability</strong> - functions are context-specific</li>
  <li>Code duplication is common</li>
  <li>Difficult to maintain large codebases</li>
  <li>Changes can affect multiple functions</li>
</ul>

<p><strong>Object-Oriented Programming:</strong></p>
<ul>
  <li><strong>High reusability</strong> through inheritance and composition</li>
  <li>Classes can be reused across projects</li>
  <li>Easier maintenance through encapsulation</li>
  <li>Changes are localized within objects</li>
</ul>

<h3 id="5-core-oop-features-absent-in-procedural">5. Core OOP Features (Absent in Procedural)</h3>

<h4 id="inheritance">Inheritance</h4>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Vehicle</span> <span class="p">{</span>  <span class="c1">// Base class</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Brand</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">virtual</span> <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Vehicle starting..."</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Car</span> <span class="p">:</span> <span class="n">Vehicle</span> <span class="p">{</span>  <span class="c1">// Derived class</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Car engine starting..."</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="encapsulation">Encapsulation</h4>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Employee</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kt">decimal</span> <span class="n">salary</span><span class="p">;</span>  <span class="c1">// Private data</span>
    
    <span class="k">public</span> <span class="k">void</span> <span class="nf">SetSalary</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">amount</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// Controlled access</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">amount</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">salary</span> <span class="p">=</span> <span class="n">amount</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="polymorphism">Polymorphism</h4>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Vehicle</span><span class="p">[]</span> <span class="n">vehicles</span> <span class="p">=</span> <span class="p">{</span> <span class="k">new</span> <span class="nf">Car</span><span class="p">(),</span> <span class="k">new</span> <span class="nf">Motorcycle</span><span class="p">(),</span> <span class="k">new</span> <span class="nf">Truck</span><span class="p">()</span> <span class="p">};</span>
<span class="k">foreach</span> <span class="p">(</span><span class="n">Vehicle</span> <span class="n">vehicle</span> <span class="k">in</span> <span class="n">vehicles</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">vehicle</span><span class="p">.</span><span class="nf">Start</span><span class="p">();</span>  <span class="c1">// Different behavior for each type</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="6-coupling-and-cohesion">6. Coupling and Cohesion</h3>

<p><strong>Procedural Programming:</strong></p>
<ul>
  <li><strong>Tight coupling</strong> - functions depend on global data</li>
  <li><strong>Low cohesion</strong> - related functions scattered</li>
  <li>Difficult to modify without affecting other parts</li>
</ul>

<p><strong>Object-Oriented Programming:</strong></p>
<ul>
  <li><strong>Loose coupling</strong> - objects interact through interfaces</li>
  <li><strong>High cohesion</strong> - related data and methods grouped together</li>
  <li>Easy to modify individual objects independently</li>
</ul>

<h3 id="7-cost-and-development-time">7. Cost and Development Time</h3>

<p><strong>Procedural Programming:</strong></p>
<ul>
  <li><strong>Lower initial development cost</strong></li>
  <li>Faster for simple, small applications</li>
  <li>Higher maintenance costs over time</li>
  <li>Difficult to scale for large projects</li>
</ul>

<p><strong>Object-Oriented Programming:</strong></p>
<ul>
  <li><strong>Higher initial development cost</strong></li>
  <li>Longer initial development time</li>
  <li><strong>Lower maintenance costs</strong> long-term</li>
  <li>Better scalability for complex applications</li>
</ul>

<h2 id="when-to-use-each-paradigm">When to Use Each Paradigm</h2>

<h3 id="choose-procedural-programming-when">Choose Procedural Programming When:</h3>
<ul>
  <li>Building <strong>simple, small applications</strong></li>
  <li>Working with <strong>system-level programming</strong></li>
  <li>Performance is critical (embedded systems)</li>
  <li>Team has limited OOP experience</li>
  <li>Linear problem-solving approach fits naturally</li>
</ul>

<h3 id="choose-object-oriented-programming-when">Choose Object-Oriented Programming When:</h3>
<ul>
  <li>Building <strong>complex, large-scale applications</strong></li>
  <li>Need high <strong>code reusability</strong></li>
  <li>Working in <strong>team environments</strong></li>
  <li>Modeling <strong>real-world entities</strong></li>
  <li>Long-term maintenance is important</li>
</ul>

<h2 id="modern-context-and-conclusion">Modern Context and Conclusion</h2>

<p>While both paradigms have their place, modern software development heavily favors object-oriented and hybrid approaches. Most contemporary languages (C#, Java, Python, JavaScript) support OOP principles, and many frameworks are built around object-oriented design.</p>

<p>However, understanding procedural programming remains valuable:</p>
<ul>
  <li>It provides a foundation for understanding program flow</li>
  <li>Useful for scripting and automation tasks</li>
  <li>Essential for system-level and embedded programming</li>
  <li>Helps in understanding functional programming concepts</li>
</ul>

<p>The choice between procedural and object-oriented programming should be based on project requirements, team expertise, and long-term maintenance considerations. Many successful applications use a hybrid approach, combining the best of both paradigms.</p>

<hr />

<p><em>Understanding these programming paradigms is fundamental to becoming a well-rounded developer. Each has its strengths and appropriate use cases in the diverse world of software development.</em></p>

<!-- Last reviewed and modified: 2026-01-01 -->]]></content><author><name>Mahedee Hasan</name></author><category term="OOP" /><category term="Software Architecture" /><category term="Design Pattern" /><category term="oop" /><category term="procedural" /><category term="programming" /><category term="software-architecture" /><category term="designpattern" /><category term="reviewed_v02" /><summary type="html"><![CDATA[A comprehensive comparison of procedural and object-oriented programming paradigms, exploring their key differences, advantages, and practical applications in software development.]]></summary></entry><entry><title type="html">Implementing Metrics and Dashboards for .NET Core APIs with Prometheus and Grafana</title><link href="https://mahedee.net/implementing-metrics-and-dashboards-dotnet-core-api-prometheus-grafana/" rel="alternate" type="text/html" title="Implementing Metrics and Dashboards for .NET Core APIs with Prometheus and Grafana" /><published>2025-12-28T00:00:00-05:00</published><updated>2025-12-28T00:00:00-05:00</updated><id>https://mahedee.net/implementing-metrics-and-dashboards-dotnet-core-api-prometheus-grafana</id><content type="html" xml:base="https://mahedee.net/implementing-metrics-and-dashboards-dotnet-core-api-prometheus-grafana/"><![CDATA[<!-- Article banner image (optional) -->
<!-- ![Document Management System Banner](./images/dms-banner.png) -->

<p><strong>Introduction</strong></p>

<p>In today’s fast-paced software development environment, auditing, security, monitoring the performance and health of your applications is crucial. For .NET Core APIs, integrating Prometheus for metrics collection and Grafana for visualization provides a powerful solution for observability. This article will guide you through the process of implementing metrics and dashboards for your .NET Core APIs using Prometheus and Grafana.</p>

<p><strong>What is Prometheus?</strong>
Prometheus is an open-source systems monitoring and alerting toolkit originally built at SoundCloud. It collects and stores metrics as time series data, allowing you to monitor your applications and infrastructure effectively. Prometheus support for different types of matrics, including counters, gauges, histograms, and summaries.</p>

<p><strong>What is Grafana?</strong>
Grafana is an open-source platform for monitoring and observability that allows you to visualize data from various sources, including Prometheus. It provides a rich set of features for creating interactive and customizable dashboards. It supports visualize data through a pluggable architecture. It supports various data sources, including Prometheus, InfluxDB, Elasticsearch, and many others.</p>

<p><strong>Features Offered by Prometheus and Grafana</strong></p>
<ul>
  <li><strong>Metrics Collection</strong>: Prometheus collects metrics from your .NET Core APIs, including request rates, error rates, and response times.</li>
  <li><strong>Data Storage</strong>: Prometheus stores the collected metrics in a time-series database, allowing for efficient querying and analysis.</li>
  <li><strong>Visualization</strong>: Grafana provides a user-friendly interface to create dashboards and visualize the metrics collected by Prometheus.</li>
  <li><strong>Alerting</strong>: Prometheus can be configured to send alerts based on specific conditions, helping you proactively monitor your applications. For example, you can set up alerts for high error rates or slow response times.</li>
  <li><strong>Custom Dashboards</strong>: Grafana allows you to create custom dashboards tailored to your monitoring needs, enabling you to focus on the metrics that matter most to your applications.</li>
</ul>

<p><strong>Pros and Cons of Using Prometheus and Grafana</strong>
<strong>Pros:</strong></p>
<ul>
  <li>Open-source and free to use.</li>
  <li>Highly customizable and extensible.</li>
  <li>Strong community support and extensive documentation.</li>
  <li>Seamless integration with .NET Core APIs.</li>
  <li>Real-time monitoring and alerting capabilities.</li>
  <li>Broad compatibility with various data sources.</li>
</ul>

<p><strong>Cons:</strong></p>
<ul>
  <li>Requires initial setup and configuration.</li>
  <li>May have a learning curve for beginners.</li>
  <li>Resource-intensive for large-scale deployments.</li>
</ul>

<p><strong>Step-by-Step Guide to Implementing Metrics and Dashboards</strong></p>

<p><strong>Step 1: Create a .NET Core API Project</strong>
Start by creating a new .NET Core API project using the .NET CLI or Visual Studio.</p>

<ul>
  <li>Create a solution and a new Web API project:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dotnet new webapi <span class="nt">-n</span> EcommerceApi
<span class="nb">cd </span>EcommerceApi
dotnet new sln <span class="nt">-n</span> EcommerceSolution
dotnet sln add .<span class="se">\E</span>commerceApi.csproj
</code></pre></div></div>

<p><strong>Step 2: Install the Required NuGet Packages</strong></p>

<p>Install the following NuGet packages for metrics collection and Prometheus integration:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dotnet add package Microsoft.EntityFrameworkCore.InMemory <span class="nt">--version</span> 9.0.0
dotnet add package Swashbuckle.AspNetCore <span class="nt">--version</span> 6.8.1
dotnet add package App.Metrics <span class="nt">--version</span> 4.3.0
dotnet add package App.Metrics.AspNetCore <span class="nt">--version</span> 4.3.0
dotnet add package App.Metrics.AspNetCore.Endpoints <span class="nt">--version</span> 4.3.0
dotnet add package App.Metrics.Formatters.Prometheus <span class="nt">--version</span> 4.3.0
</code></pre></div></div>

<p><strong>Package Overview:</strong></p>
<ul>
  <li><strong>Microsoft.EntityFrameworkCore.InMemory</strong>: Provides in-memory database capabilities for development and testing.</li>
  <li><strong>Swashbuckle.AspNetCore</strong>: Enables Swagger/OpenAPI documentation for your API endpoints.</li>
  <li><strong>App.Metrics</strong>: Core metrics library that provides various metric types (counters, gauges, histograms).</li>
  <li><strong>App.Metrics.AspNetCore</strong>: ASP.NET Core integration for automatic HTTP metrics collection.</li>
  <li><strong>App.Metrics.AspNetCore.Endpoints</strong>: Provides endpoints to expose metrics data via HTTP.</li>
  <li><strong>App.Metrics.Formatters.Prometheus</strong>: Formats metrics data in Prometheus-compatible format for scraping.</li>
</ul>

<p><strong>Step 3: Create Product Entity in Entities Folder</strong>
Create a new folder named <code class="language-plaintext highlighter-rouge">Entities</code> and add a <code class="language-plaintext highlighter-rouge">Product.cs</code> file to define the Product entity.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">namespace</span> <span class="nn">EcommerceApi.Entities</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Product</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Description</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>
        <span class="k">public</span> <span class="kt">decimal</span> <span class="n">Price</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">StockQuantity</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p><strong>Step 4: Set Up the Database Context in Data Folder</strong>
Create a new folder named <code class="language-plaintext highlighter-rouge">Data</code> and add an <code class="language-plaintext highlighter-rouge">EcommerceDbContext.cs</code> file to set up the database context.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">using</span> <span class="nn">EcommerceApi.Entities</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.EntityFrameworkCore</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">EcommerceApi.Data</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">EcommerceDbContext</span> <span class="p">:</span> <span class="n">DbContext</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">EcommerceDbContext</span><span class="p">(</span><span class="n">DbContextOptions</span><span class="p">&lt;</span><span class="n">EcommerceDbContext</span><span class="p">&gt;</span> <span class="n">options</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="n">DbSet</span><span class="p">&lt;</span><span class="n">Product</span><span class="p">&gt;</span> <span class="n">Products</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnModelCreating</span><span class="p">(</span><span class="n">ModelBuilder</span> <span class="n">modelBuilder</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">base</span><span class="p">.</span><span class="nf">OnModelCreating</span><span class="p">(</span><span class="n">modelBuilder</span><span class="p">);</span>

            <span class="c1">// Seed some initial data for testing</span>
            <span class="n">modelBuilder</span><span class="p">.</span><span class="n">Entity</span><span class="p">&lt;</span><span class="n">Product</span><span class="p">&gt;().</span><span class="nf">HasData</span><span class="p">(</span>
                <span class="k">new</span> <span class="n">Product</span>
                <span class="p">{</span>
                    <span class="n">Id</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
                    <span class="n">Name</span> <span class="p">=</span> <span class="s">"Laptop"</span><span class="p">,</span>
                    <span class="n">Description</span> <span class="p">=</span> <span class="s">"High-performance laptop for gaming and work"</span><span class="p">,</span>
                    <span class="n">Price</span> <span class="p">=</span> <span class="m">999.99m</span><span class="p">,</span>
                    <span class="n">StockQuantity</span> <span class="p">=</span> <span class="m">50</span>
                <span class="p">},</span>
                <span class="k">new</span> <span class="n">Product</span>
                <span class="p">{</span>
                    <span class="n">Id</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span>
                    <span class="n">Name</span> <span class="p">=</span> <span class="s">"Smartphone"</span><span class="p">,</span>
                    <span class="n">Description</span> <span class="p">=</span> <span class="s">"Latest smartphone with advanced features"</span><span class="p">,</span>
                    <span class="n">Price</span> <span class="p">=</span> <span class="m">699.99m</span><span class="p">,</span>
                    <span class="n">StockQuantity</span> <span class="p">=</span> <span class="m">100</span>
                <span class="p">},</span>
                <span class="k">new</span> <span class="n">Product</span>
                <span class="p">{</span>
                    <span class="n">Id</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span>
                    <span class="n">Name</span> <span class="p">=</span> <span class="s">"Headphones"</span><span class="p">,</span>
                    <span class="n">Description</span> <span class="p">=</span> <span class="s">"Wireless noise-canceling headphones"</span><span class="p">,</span>
                    <span class="n">Price</span> <span class="p">=</span> <span class="m">199.99m</span><span class="p">,</span>
                    <span class="n">StockQuantity</span> <span class="p">=</span> <span class="m">75</span>
                <span class="p">}</span>
            <span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Step 5: Create Product Repository in Repositories Folder</strong></p>

<p>Create a new folder named <code class="language-plaintext highlighter-rouge">Repositories</code> and add a <code class="language-plaintext highlighter-rouge">IProductRepository.cs</code> file to handle data access for products.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">using</span> <span class="nn">EcommerceApi.Entities</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">EcommerceApi.Repositories</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">interface</span> <span class="nc">IProductRepository</span>
    <span class="p">{</span>
        <span class="n">Task</span><span class="p">&lt;</span><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Product</span><span class="p">&gt;&gt;</span> <span class="nf">GetAllAsync</span><span class="p">();</span>
        <span class="n">Task</span><span class="p">&lt;</span><span class="n">Product</span><span class="p">?&gt;</span> <span class="nf">GetByIdAsync</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">);</span>
        <span class="n">Task</span><span class="p">&lt;</span><span class="n">Product</span><span class="p">&gt;</span> <span class="nf">CreateAsync</span><span class="p">(</span><span class="n">Product</span> <span class="n">product</span><span class="p">);</span>
        <span class="n">Task</span><span class="p">&lt;</span><span class="n">Product</span><span class="p">&gt;</span> <span class="nf">UpdateAsync</span><span class="p">(</span><span class="n">Product</span> <span class="n">product</span><span class="p">);</span>
        <span class="n">Task</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;</span> <span class="nf">DeleteAsync</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Create a <code class="language-plaintext highlighter-rouge">ProductRepository.cs</code> file to implement the repository interface.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">EcommerceApi.Entities</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">EcommerceApi.Data</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.EntityFrameworkCore</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">EcommerceApi.Repositories</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">ProductRepository</span> <span class="p">:</span> <span class="n">IProductRepository</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">EcommerceDbContext</span> <span class="n">_context</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">ProductRepository</span><span class="p">(</span><span class="n">EcommerceDbContext</span> <span class="n">context</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">_context</span> <span class="p">=</span> <span class="n">context</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Product</span><span class="p">&gt;&gt;</span> <span class="nf">GetAllAsync</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">await</span> <span class="n">_context</span><span class="p">.</span><span class="n">Products</span><span class="p">.</span><span class="nf">ToListAsync</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">Product</span><span class="p">?&gt;</span> <span class="nf">GetByIdAsync</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">await</span> <span class="n">_context</span><span class="p">.</span><span class="n">Products</span><span class="p">.</span><span class="nf">FindAsync</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">Product</span><span class="p">&gt;</span> <span class="nf">CreateAsync</span><span class="p">(</span><span class="n">Product</span> <span class="n">product</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">_context</span><span class="p">.</span><span class="n">Products</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
            <span class="k">await</span> <span class="n">_context</span><span class="p">.</span><span class="nf">SaveChangesAsync</span><span class="p">();</span>
            <span class="k">return</span> <span class="n">product</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">Product</span><span class="p">&gt;</span> <span class="nf">UpdateAsync</span><span class="p">(</span><span class="n">Product</span> <span class="n">product</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">_context</span><span class="p">.</span><span class="n">Products</span><span class="p">.</span><span class="nf">Update</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
            <span class="k">await</span> <span class="n">_context</span><span class="p">.</span><span class="nf">SaveChangesAsync</span><span class="p">();</span>
            <span class="k">return</span> <span class="n">product</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;</span> <span class="nf">DeleteAsync</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">product</span> <span class="p">=</span> <span class="k">await</span> <span class="nf">GetByIdAsync</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">product</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
                <span class="k">return</span> <span class="k">false</span><span class="p">;</span>

            <span class="n">_context</span><span class="p">.</span><span class="n">Products</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
            <span class="k">await</span> <span class="n">_context</span><span class="p">.</span><span class="nf">SaveChangesAsync</span><span class="p">();</span>
            <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Step 6: Register Metrics in Metrics Folder</strong>
Create a new folder named <code class="language-plaintext highlighter-rouge">Metrics</code> and add a <code class="language-plaintext highlighter-rouge">MetricsRegistry.cs</code> file to define custom metrics.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">using</span> <span class="nn">App.Metrics</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">App.Metrics.Counter</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">App.Metrics.Histogram</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">App.Metrics.Timer</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">App.Metrics.Gauge</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">EcommerceApi.Metrics</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// Centralized metrics registry for tracking various API performance and business metrics</span>
    <span class="c1">/// Used for monitoring API usage, performance, errors, and business KPIs in Grafana dashboards</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">MetricsRegistry</span>
    <span class="p">{</span>
        <span class="err">#</span><span class="n">region</span> <span class="n">Counter</span> <span class="n">Metrics</span> <span class="p">-</span> <span class="n">Track</span> <span class="n">API</span> <span class="n">Call</span> <span class="n">Frequency</span>
        
        <span class="c1">// Product Read Operations</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">CounterOptions</span> <span class="n">GetByProductIdCounter</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">CounterOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"get_product_by_id_total"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Calls</span><span class="p">,</span>
            <span class="n">Tags</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MetricTags</span><span class="p">(</span><span class="s">"operation"</span><span class="p">,</span> <span class="s">"read"</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">CounterOptions</span> <span class="n">GetAllProductsCounter</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">CounterOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"get_all_products_total"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span> 
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Calls</span><span class="p">,</span>
            <span class="n">Tags</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MetricTags</span><span class="p">(</span><span class="s">"operation"</span><span class="p">,</span> <span class="s">"read"</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="c1">// Product Write Operations</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">CounterOptions</span> <span class="n">CreateProductCounter</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">CounterOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"create_product_total"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Calls</span><span class="p">,</span>
            <span class="n">Tags</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MetricTags</span><span class="p">(</span><span class="s">"operation"</span><span class="p">,</span> <span class="s">"create"</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">CounterOptions</span> <span class="n">UpdateProductCounter</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">CounterOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"update_product_total"</span><span class="p">,</span> 
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Calls</span><span class="p">,</span>
            <span class="n">Tags</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MetricTags</span><span class="p">(</span><span class="s">"operation"</span><span class="p">,</span> <span class="s">"update"</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">CounterOptions</span> <span class="n">DeleteProductCounter</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">CounterOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"delete_product_total"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Calls</span><span class="p">,</span>
            <span class="n">Tags</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MetricTags</span><span class="p">(</span><span class="s">"operation"</span><span class="p">,</span> <span class="s">"delete"</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="c1">// Error Counters</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">CounterOptions</span> <span class="n">ProductNotFoundCounter</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">CounterOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"product_not_found_total"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Errors</span><span class="p">,</span>
            <span class="n">Tags</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MetricTags</span><span class="p">(</span><span class="s">"error_type"</span><span class="p">,</span> <span class="s">"not_found"</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">CounterOptions</span> <span class="n">ValidationErrorCounter</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">CounterOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"validation_error_total"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span> 
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Errors</span><span class="p">,</span>
            <span class="n">Tags</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MetricTags</span><span class="p">(</span><span class="s">"error_type"</span><span class="p">,</span> <span class="s">"validation"</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">CounterOptions</span> <span class="n">ServerErrorCounter</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">CounterOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"server_error_total"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Errors</span><span class="p">,</span>
            <span class="n">Tags</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MetricTags</span><span class="p">(</span><span class="s">"error_type"</span><span class="p">,</span> <span class="s">"server_error"</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="err">#</span><span class="n">endregion</span>

        <span class="err">#</span><span class="n">region</span> <span class="n">Timer</span> <span class="n">Metrics</span> <span class="p">-</span> <span class="n">Track</span> <span class="n">Response</span> <span class="n">Time</span> <span class="n">Performance</span>

        <span class="c1">// API Response Time Timers</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">TimerOptions</span> <span class="n">GetProductByIdTimer</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">TimerOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"get_product_by_id_duration"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Requests</span><span class="p">,</span>
            <span class="n">DurationUnit</span> <span class="p">=</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="n">Milliseconds</span><span class="p">,</span>
            <span class="n">RateUnit</span> <span class="p">=</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="n">Seconds</span>
        <span class="p">};</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">TimerOptions</span> <span class="n">GetAllProductsTimer</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">TimerOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"get_all_products_duration"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span> 
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Requests</span><span class="p">,</span>
            <span class="n">DurationUnit</span> <span class="p">=</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="n">Milliseconds</span><span class="p">,</span>
            <span class="n">RateUnit</span> <span class="p">=</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="n">Seconds</span>
        <span class="p">};</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">TimerOptions</span> <span class="n">CreateProductTimer</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">TimerOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"create_product_duration"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Requests</span><span class="p">,</span>
            <span class="n">DurationUnit</span> <span class="p">=</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="n">Milliseconds</span><span class="p">,</span>
            <span class="n">RateUnit</span> <span class="p">=</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="n">Seconds</span>
        <span class="p">};</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">TimerOptions</span> <span class="n">UpdateProductTimer</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">TimerOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"update_product_duration"</span><span class="p">,</span> 
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Requests</span><span class="p">,</span>
            <span class="n">DurationUnit</span> <span class="p">=</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="n">Milliseconds</span><span class="p">,</span>
            <span class="n">RateUnit</span> <span class="p">=</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="n">Seconds</span>
        <span class="p">};</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">TimerOptions</span> <span class="n">DeleteProductTimer</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">TimerOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"delete_product_duration"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Requests</span><span class="p">,</span>
            <span class="n">DurationUnit</span> <span class="p">=</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="n">Milliseconds</span><span class="p">,</span>
            <span class="n">RateUnit</span> <span class="p">=</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="n">Seconds</span>
        <span class="p">};</span>

        <span class="err">#</span><span class="n">endregion</span>

        <span class="err">#</span><span class="n">region</span> <span class="n">Histogram</span> <span class="n">Metrics</span> <span class="p">-</span> <span class="n">Track</span> <span class="n">Distribution</span> <span class="n">of</span> <span class="n">Values</span>

        <span class="c1">// Request Size Distribution</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">HistogramOptions</span> <span class="n">RequestSizeHistogram</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">HistogramOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"request_size_bytes"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Bytes</span>
        <span class="p">};</span>

        <span class="c1">// Response Size Distribution  </span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">HistogramOptions</span> <span class="n">ResponseSizeHistogram</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">HistogramOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"response_size_bytes"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Bytes</span>
        <span class="p">};</span>

        <span class="err">#</span><span class="n">endregion</span>

        <span class="err">#</span><span class="n">region</span> <span class="n">Gauge</span> <span class="n">Metrics</span> <span class="p">-</span> <span class="n">Track</span> <span class="n">Current</span> <span class="n">State</span> <span class="n">Values</span>

        <span class="c1">// Current System State</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">GaugeOptions</span> <span class="n">ActiveConnectionsGauge</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">GaugeOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"active_connections_current"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Connections</span>
        <span class="p">};</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">GaugeOptions</span> <span class="n">TotalProductsGauge</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">GaugeOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"total_products_current"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Items</span>
        <span class="p">};</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">GaugeOptions</span> <span class="n">MemoryUsageGauge</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">GaugeOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"memory_usage_bytes"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"ProductAPI"</span><span class="p">,</span> 
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Bytes</span>
        <span class="p">};</span>

        <span class="err">#</span><span class="n">endregion</span>

        <span class="err">#</span><span class="n">region</span> <span class="n">Business</span> <span class="n">Metrics</span> <span class="p">-</span> <span class="n">Track</span> <span class="n">Business</span> <span class="n">KPIs</span>

        <span class="c1">// Business Intelligence Counters</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">CounterOptions</span> <span class="n">ProductViewsCounter</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">CounterOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"product_views_total"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"BusinessMetrics"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Events</span><span class="p">,</span>
            <span class="n">Tags</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MetricTags</span><span class="p">(</span><span class="s">"metric_type"</span><span class="p">,</span> <span class="s">"engagement"</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">CounterOptions</span> <span class="n">ProductCreatedTodayCounter</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">CounterOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"products_created_today_total"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"BusinessMetrics"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Items</span><span class="p">,</span>
            <span class="n">Tags</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MetricTags</span><span class="p">(</span><span class="s">"time_period"</span><span class="p">,</span> <span class="s">"daily"</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="c1">// Average Product Price Gauge</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">GaugeOptions</span> <span class="n">AverageProductPriceGauge</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">GaugeOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"average_product_price"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"BusinessMetrics"</span><span class="p">,</span> 
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="nf">Custom</span><span class="p">(</span><span class="s">"currency"</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="err">#</span><span class="n">endregion</span>

        <span class="err">#</span><span class="n">region</span> <span class="n">Health</span> <span class="n">Check</span> <span class="n">Metrics</span>

        <span class="c1">// Database Health</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">GaugeOptions</span> <span class="n">DatabaseHealthGauge</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">GaugeOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"database_health_status"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"HealthCheck"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="nf">Custom</span><span class="p">(</span><span class="s">"status"</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="c1">// API Health Score</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">GaugeOptions</span> <span class="n">ApiHealthScoreGauge</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">GaugeOptions</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"api_health_score"</span><span class="p">,</span>
            <span class="n">Context</span> <span class="p">=</span> <span class="s">"HealthCheck"</span><span class="p">,</span>
            <span class="n">MeasurementUnit</span> <span class="p">=</span> <span class="n">App</span><span class="p">.</span><span class="n">Metrics</span><span class="p">.</span><span class="n">Unit</span><span class="p">.</span><span class="n">Percent</span>
        <span class="p">};</span>

        <span class="err">#</span><span class="n">endregion</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Step 7: Create Product Controller in Controllers Folder</strong></p>
<ul>
  <li>Create a new folder named <code class="language-plaintext highlighter-rouge">Controllers</code> and add a <code class="language-plaintext highlighter-rouge">ProductsController.cs</code> file to handle API requests for products.</li>
  <li>Implement the controller with metrics tracking for each endpoint.</li>
  <li>In the below code, we have implemented metrics tracking for all CRUD operations on products.</li>
</ul>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">EcommerceApi.Entities</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">EcommerceApi.Repositories</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">EcommerceApi.Metrics</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Mvc</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">App.Metrics</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text.Json</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">EcommerceApi.Controllers</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">ApiController</span><span class="p">]</span>
    <span class="p">[</span><span class="nf">Route</span><span class="p">(</span><span class="s">"api/[controller]"</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">ProductController</span> <span class="p">:</span> <span class="n">ControllerBase</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">IProductRepository</span> <span class="n">_productRepository</span><span class="p">;</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">IMetrics</span> <span class="n">_metrics</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">ProductController</span><span class="p">(</span><span class="n">IProductRepository</span> <span class="n">productRepository</span><span class="p">,</span> <span class="n">IMetrics</span> <span class="n">metrics</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">_productRepository</span> <span class="p">=</span> <span class="n">productRepository</span><span class="p">;</span>
            <span class="n">_metrics</span> <span class="p">=</span> <span class="n">metrics</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// GET: api/Product</span>
        <span class="p">[</span><span class="n">HttpGet</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">ActionResult</span><span class="p">&lt;</span><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Product</span><span class="p">&gt;&gt;&gt;</span> <span class="nf">GetAllProducts</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Start timing the operation</span>
            <span class="k">using</span> <span class="nn">var</span> <span class="n">timer</span> <span class="p">=</span> <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Timer</span><span class="p">.</span><span class="nf">Time</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">GetAllProductsTimer</span><span class="p">);</span>
            
            <span class="k">try</span>
            <span class="p">{</span>
                <span class="c1">// Increment API call counter</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">GetAllProductsCounter</span><span class="p">);</span>

                <span class="kt">var</span> <span class="n">products</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_productRepository</span><span class="p">.</span><span class="nf">GetAllAsync</span><span class="p">();</span>
                
                <span class="c1">// Update business metrics</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">TotalProductsGauge</span><span class="p">,</span> <span class="n">products</span><span class="p">.</span><span class="nf">Count</span><span class="p">());</span>
                
                <span class="c1">// Calculate and update average product price</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">products</span><span class="p">.</span><span class="nf">Any</span><span class="p">())</span>
                <span class="p">{</span>
                    <span class="kt">var</span> <span class="n">averagePrice</span> <span class="p">=</span> <span class="n">products</span><span class="p">.</span><span class="nf">Average</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Price</span><span class="p">);</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">AverageProductPriceGauge</span><span class="p">,</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="n">averagePrice</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="c1">// Track response size</span>
                <span class="kt">var</span> <span class="n">responseJson</span> <span class="p">=</span> <span class="n">JsonSerializer</span><span class="p">.</span><span class="nf">Serialize</span><span class="p">(</span><span class="n">products</span><span class="p">);</span>
                <span class="kt">var</span> <span class="n">responseSize</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetByteCount</span><span class="p">(</span><span class="n">responseJson</span><span class="p">);</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Histogram</span><span class="p">.</span><span class="nf">Update</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ResponseSizeHistogram</span><span class="p">,</span> <span class="n">responseSize</span><span class="p">);</span>

                <span class="c1">// Update API health score (100 for successful operations)</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">100</span><span class="p">);</span>

                <span class="k">return</span> <span class="nf">Ok</span><span class="p">(</span><span class="n">products</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// Track server errors</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ServerErrorCounter</span><span class="p">);</span>
                
                <span class="c1">// Update API health score on error</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
                
                <span class="k">throw</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// GET: api/Product/5</span>
        <span class="p">[</span><span class="nf">HttpGet</span><span class="p">(</span><span class="s">"{id}"</span><span class="p">)]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">ActionResult</span><span class="p">&lt;</span><span class="n">Product</span><span class="p">&gt;&gt;</span> <span class="nf">GetProduct</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Start timing the operation</span>
            <span class="k">using</span> <span class="nn">var</span> <span class="n">timer</span> <span class="p">=</span> <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Timer</span><span class="p">.</span><span class="nf">Time</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">GetProductByIdTimer</span><span class="p">);</span>
            
            <span class="k">try</span>
            <span class="p">{</span>
                <span class="c1">// Increment API call counter</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">GetByProductIdCounter</span><span class="p">);</span>
                
                <span class="c1">// Track product views for business analytics</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ProductViewsCounter</span><span class="p">);</span>

                <span class="kt">var</span> <span class="n">product</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_productRepository</span><span class="p">.</span><span class="nf">GetByIdAsync</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
                
                <span class="k">if</span> <span class="p">(</span><span class="n">product</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="c1">// Track not found errors</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ProductNotFoundCounter</span><span class="p">);</span>
                    
                    <span class="c1">// Update API health score for client errors (75 - not as bad as server errors)</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">75</span><span class="p">);</span>
                    
                    <span class="k">return</span> <span class="nf">NotFound</span><span class="p">();</span>
                <span class="p">}</span>

                <span class="c1">// Track response size</span>
                <span class="kt">var</span> <span class="n">responseJson</span> <span class="p">=</span> <span class="n">JsonSerializer</span><span class="p">.</span><span class="nf">Serialize</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
                <span class="kt">var</span> <span class="n">responseSize</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetByteCount</span><span class="p">(</span><span class="n">responseJson</span><span class="p">);</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Histogram</span><span class="p">.</span><span class="nf">Update</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ResponseSizeHistogram</span><span class="p">,</span> <span class="n">responseSize</span><span class="p">);</span>

                <span class="c1">// Update API health score for successful operations</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">100</span><span class="p">);</span>

                <span class="k">return</span> <span class="nf">Ok</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// Track server errors</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ServerErrorCounter</span><span class="p">);</span>
                
                <span class="c1">// Update API health score on server error</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
                
                <span class="k">throw</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// POST: api/Product</span>
        <span class="p">[</span><span class="n">HttpPost</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">ActionResult</span><span class="p">&lt;</span><span class="n">Product</span><span class="p">&gt;&gt;</span> <span class="nf">CreateProduct</span><span class="p">(</span><span class="n">Product</span> <span class="n">product</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Start timing the operation</span>
            <span class="k">using</span> <span class="nn">var</span> <span class="n">timer</span> <span class="p">=</span> <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Timer</span><span class="p">.</span><span class="nf">Time</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">CreateProductTimer</span><span class="p">);</span>
            
            <span class="k">try</span>
            <span class="p">{</span>
                <span class="c1">// Increment API call counter</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">CreateProductCounter</span><span class="p">);</span>

                <span class="c1">// Track request size</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">product</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="kt">var</span> <span class="n">requestJson</span> <span class="p">=</span> <span class="n">JsonSerializer</span><span class="p">.</span><span class="nf">Serialize</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
                    <span class="kt">var</span> <span class="n">requestSize</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetByteCount</span><span class="p">(</span><span class="n">requestJson</span><span class="p">);</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Histogram</span><span class="p">.</span><span class="nf">Update</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">RequestSizeHistogram</span><span class="p">,</span> <span class="n">requestSize</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="c1">// Validation checks</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">product</span> <span class="p">==</span> <span class="k">null</span> <span class="p">||</span> <span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrWhiteSpace</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="n">Name</span><span class="p">))</span>
                <span class="p">{</span>
                    <span class="c1">// Track validation errors</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ValidationErrorCounter</span><span class="p">);</span>
                    
                    <span class="c1">// Update API health score for validation errors</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">80</span><span class="p">);</span>
                    
                    <span class="k">return</span> <span class="nf">BadRequest</span><span class="p">(</span><span class="s">"Product name is required"</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="kt">var</span> <span class="n">createdProduct</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_productRepository</span><span class="p">.</span><span class="nf">CreateAsync</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
                
                <span class="c1">// Track business metrics</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ProductCreatedTodayCounter</span><span class="p">);</span>
                
                <span class="c1">// Update total products count</span>
                <span class="kt">var</span> <span class="n">allProducts</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_productRepository</span><span class="p">.</span><span class="nf">GetAllAsync</span><span class="p">();</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">TotalProductsGauge</span><span class="p">,</span> <span class="n">allProducts</span><span class="p">.</span><span class="nf">Count</span><span class="p">());</span>
                
                <span class="c1">// Update average price</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">allProducts</span><span class="p">.</span><span class="nf">Any</span><span class="p">())</span>
                <span class="p">{</span>
                    <span class="kt">var</span> <span class="n">averagePrice</span> <span class="p">=</span> <span class="n">allProducts</span><span class="p">.</span><span class="nf">Average</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Price</span><span class="p">);</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">AverageProductPriceGauge</span><span class="p">,</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="n">averagePrice</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="c1">// Track response size</span>
                <span class="kt">var</span> <span class="n">responseJson</span> <span class="p">=</span> <span class="n">JsonSerializer</span><span class="p">.</span><span class="nf">Serialize</span><span class="p">(</span><span class="n">createdProduct</span><span class="p">);</span>
                <span class="kt">var</span> <span class="n">responseSize</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetByteCount</span><span class="p">(</span><span class="n">responseJson</span><span class="p">);</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Histogram</span><span class="p">.</span><span class="nf">Update</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ResponseSizeHistogram</span><span class="p">,</span> <span class="n">responseSize</span><span class="p">);</span>

                <span class="c1">// Update API health score for successful operations</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">100</span><span class="p">);</span>

                <span class="k">return</span> <span class="nf">CreatedAtAction</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">GetProduct</span><span class="p">),</span> <span class="k">new</span> <span class="p">{</span> <span class="n">id</span> <span class="p">=</span> <span class="n">createdProduct</span><span class="p">.</span><span class="n">Id</span> <span class="p">},</span> <span class="n">createdProduct</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// Track server errors</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ServerErrorCounter</span><span class="p">);</span>
                
                <span class="c1">// Update API health score on server error</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
                
                <span class="k">throw</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// PUT: api/Product/5</span>
        <span class="p">[</span><span class="nf">HttpPut</span><span class="p">(</span><span class="s">"{id}"</span><span class="p">)]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="nf">UpdateProduct</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">,</span> <span class="n">Product</span> <span class="n">product</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Start timing the operation</span>
            <span class="k">using</span> <span class="nn">var</span> <span class="n">timer</span> <span class="p">=</span> <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Timer</span><span class="p">.</span><span class="nf">Time</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">UpdateProductTimer</span><span class="p">);</span>
            
            <span class="k">try</span>
            <span class="p">{</span>
                <span class="c1">// Increment API call counter</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">UpdateProductCounter</span><span class="p">);</span>

                <span class="c1">// Track request size</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">product</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="kt">var</span> <span class="n">requestJson</span> <span class="p">=</span> <span class="n">JsonSerializer</span><span class="p">.</span><span class="nf">Serialize</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
                    <span class="kt">var</span> <span class="n">requestSize</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetByteCount</span><span class="p">(</span><span class="n">requestJson</span><span class="p">);</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Histogram</span><span class="p">.</span><span class="nf">Update</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">RequestSizeHistogram</span><span class="p">,</span> <span class="n">requestSize</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="c1">// Validation checks</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">product</span> <span class="p">==</span> <span class="k">null</span> <span class="p">||</span> <span class="n">id</span> <span class="p">!=</span> <span class="n">product</span><span class="p">.</span><span class="n">Id</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="c1">// Track validation errors</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ValidationErrorCounter</span><span class="p">);</span>
                    
                    <span class="c1">// Update API health score for validation errors</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">80</span><span class="p">);</span>
                    
                    <span class="k">return</span> <span class="nf">BadRequest</span><span class="p">(</span><span class="s">"Product ID mismatch"</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrWhiteSpace</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="n">Name</span><span class="p">))</span>
                <span class="p">{</span>
                    <span class="c1">// Track validation errors</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ValidationErrorCounter</span><span class="p">);</span>
                    
                    <span class="c1">// Update API health score for validation errors</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">80</span><span class="p">);</span>
                    
                    <span class="k">return</span> <span class="nf">BadRequest</span><span class="p">(</span><span class="s">"Product name is required"</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="kt">var</span> <span class="n">existingProduct</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_productRepository</span><span class="p">.</span><span class="nf">GetByIdAsync</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">existingProduct</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="c1">// Track not found errors</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ProductNotFoundCounter</span><span class="p">);</span>
                    
                    <span class="c1">// Update API health score for client errors</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">75</span><span class="p">);</span>
                    
                    <span class="k">return</span> <span class="nf">NotFound</span><span class="p">();</span>
                <span class="p">}</span>

                <span class="kt">var</span> <span class="n">updatedProduct</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_productRepository</span><span class="p">.</span><span class="nf">UpdateAsync</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
                
                <span class="c1">// Update business metrics after successful update</span>
                <span class="kt">var</span> <span class="n">allProducts</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_productRepository</span><span class="p">.</span><span class="nf">GetAllAsync</span><span class="p">();</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">allProducts</span><span class="p">.</span><span class="nf">Any</span><span class="p">())</span>
                <span class="p">{</span>
                    <span class="kt">var</span> <span class="n">averagePrice</span> <span class="p">=</span> <span class="n">allProducts</span><span class="p">.</span><span class="nf">Average</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Price</span><span class="p">);</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">AverageProductPriceGauge</span><span class="p">,</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="n">averagePrice</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="c1">// Update API health score for successful operations</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">100</span><span class="p">);</span>

                <span class="k">return</span> <span class="nf">Ok</span><span class="p">(</span><span class="n">updatedProduct</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// Track server errors</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ServerErrorCounter</span><span class="p">);</span>
                
                <span class="c1">// Update API health score on server error</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
                
                <span class="k">throw</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// DELETE: api/Product/5</span>
        <span class="p">[</span><span class="nf">HttpDelete</span><span class="p">(</span><span class="s">"{id}"</span><span class="p">)]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="nf">DeleteProduct</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Start timing the operation</span>
            <span class="k">using</span> <span class="nn">var</span> <span class="n">timer</span> <span class="p">=</span> <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Timer</span><span class="p">.</span><span class="nf">Time</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">DeleteProductTimer</span><span class="p">);</span>
            
            <span class="k">try</span>
            <span class="p">{</span>
                <span class="c1">// Increment API call counter</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">DeleteProductCounter</span><span class="p">);</span>

                <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_productRepository</span><span class="p">.</span><span class="nf">DeleteAsync</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
                
                <span class="k">if</span> <span class="p">(!</span><span class="n">result</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="c1">// Track not found errors</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ProductNotFoundCounter</span><span class="p">);</span>
                    
                    <span class="c1">// Update API health score for client errors</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">75</span><span class="p">);</span>
                    
                    <span class="k">return</span> <span class="nf">NotFound</span><span class="p">();</span>
                <span class="p">}</span>

                <span class="c1">// Update business metrics after successful deletion</span>
                <span class="kt">var</span> <span class="n">allProducts</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_productRepository</span><span class="p">.</span><span class="nf">GetAllAsync</span><span class="p">();</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">TotalProductsGauge</span><span class="p">,</span> <span class="n">allProducts</span><span class="p">.</span><span class="nf">Count</span><span class="p">());</span>
                
                <span class="c1">// Update average price</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">allProducts</span><span class="p">.</span><span class="nf">Any</span><span class="p">())</span>
                <span class="p">{</span>
                    <span class="kt">var</span> <span class="n">averagePrice</span> <span class="p">=</span> <span class="n">allProducts</span><span class="p">.</span><span class="nf">Average</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Price</span><span class="p">);</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">AverageProductPriceGauge</span><span class="p">,</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="n">averagePrice</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">AverageProductPriceGauge</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="c1">// Update API health score for successful operations</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">100</span><span class="p">);</span>

                <span class="k">return</span> <span class="nf">NoContent</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// Track server errors</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Counter</span><span class="p">.</span><span class="nf">Increment</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ServerErrorCounter</span><span class="p">);</span>
                
                <span class="c1">// Update API health score on server error</span>
                <span class="n">_metrics</span><span class="p">.</span><span class="n">Measure</span><span class="p">.</span><span class="n">Gauge</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">MetricsRegistry</span><span class="p">.</span><span class="n">ApiHealthScoreGauge</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
                
                <span class="k">throw</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Step 8: Configure Program.cs for Metrics, Middleware, and Database</strong>
Update the <code class="language-plaintext highlighter-rouge">Program.cs</code> file to configure services, middleware, and database context.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">EcommerceApi.Data</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">EcommerceApi.Repositories</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.EntityFrameworkCore</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">App.Metrics</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">App.Metrics.AspNetCore</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">App.Metrics.Formatters.Prometheus</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">builder</span> <span class="p">=</span> <span class="n">WebApplication</span><span class="p">.</span><span class="nf">CreateBuilder</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>

<span class="c1">// Configure metrics with Prometheus formatters and web tracking</span>
<span class="c1">// This enables comprehensive HTTP request monitoring and Prometheus integration for Grafana</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Host</span><span class="p">.</span><span class="nf">UseMetricsWebTracking</span><span class="p">().</span><span class="nf">UseMetrics</span><span class="p">(</span><span class="n">options</span> <span class="p">=&gt;</span>
<span class="p">{</span>
    <span class="n">options</span><span class="p">.</span><span class="n">EndpointOptions</span> <span class="p">=</span> <span class="n">endpointoptions</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="c1">// Configure Prometheus text formatter for /metrics-text endpoint (human readable)</span>
        <span class="n">endpointoptions</span><span class="p">.</span><span class="n">MetricsTextEndpointOutputFormatter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MetricsPrometheusTextOutputFormatter</span><span class="p">();</span>
        <span class="c1">// Configure Prometheus protobuf formatter for /metrics endpoint (efficient binary format)</span>
        <span class="n">endpointoptions</span><span class="p">.</span><span class="n">MetricsEndpointOutputFormatter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MetricsPrometheusProtobufOutputFormatter</span><span class="p">();</span>
        <span class="c1">// Disable environment info endpoint to reduce security exposure</span>
        <span class="n">endpointoptions</span><span class="p">.</span><span class="n">EnvironmentInfoEndpointEnabled</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}).</span><span class="nf">UseMetricsWebTracking</span><span class="p">(</span><span class="n">options</span> <span class="p">=&gt;</span>
<span class="p">{</span>
    <span class="c1">// Enable Apdex (Application Performance Index) tracking for user satisfaction monitoring</span>
    <span class="c1">// Apdex measures response time satisfaction: Satisfied/Tolerating/Frustrated requests</span>
    <span class="n">options</span><span class="p">.</span><span class="n">ApdexTrackingEnabled</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="c1">// Set Apdex T threshold to 0.1 seconds (100ms) - responses faster than this are "satisfied"</span>
    <span class="n">options</span><span class="p">.</span><span class="n">ApdexTSeconds</span> <span class="p">=</span> <span class="m">0.1</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// Add services to the container.</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="nf">AddControllers</span><span class="p">();</span>

<span class="c1">// Add Swagger services</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="nf">AddEndpointsApiExplorer</span><span class="p">();</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="nf">AddSwaggerGen</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span>
<span class="p">{</span>
    <span class="n">c</span><span class="p">.</span><span class="nf">SwaggerDoc</span><span class="p">(</span><span class="s">"v1"</span><span class="p">,</span> <span class="k">new</span> <span class="n">Microsoft</span><span class="p">.</span><span class="n">OpenApi</span><span class="p">.</span><span class="n">Models</span><span class="p">.</span><span class="n">OpenApiInfo</span> 
    <span class="p">{</span> 
        <span class="n">Title</span> <span class="p">=</span> <span class="s">"Ecommerce API"</span><span class="p">,</span> 
        <span class="n">Version</span> <span class="p">=</span> <span class="s">"v1"</span><span class="p">,</span>
        <span class="n">Description</span> <span class="p">=</span> <span class="s">"A simple ecommerce API for product management"</span>
    <span class="p">});</span>
<span class="p">});</span>

<span class="c1">// Configure Entity Framework with In-Memory Database</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddDbContext</span><span class="p">&lt;</span><span class="n">EcommerceDbContext</span><span class="p">&gt;(</span><span class="n">options</span> <span class="p">=&gt;</span>
    <span class="n">options</span><span class="p">.</span><span class="nf">UseInMemoryDatabase</span><span class="p">(</span><span class="s">"EcommerceInMemoryDb"</span><span class="p">));</span>

<span class="c1">// Register Repository</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddScoped</span><span class="p">&lt;</span><span class="n">IProductRepository</span><span class="p">,</span> <span class="n">ProductRepository</span><span class="p">&gt;();</span>

<span class="kt">var</span> <span class="n">app</span> <span class="p">=</span> <span class="n">builder</span><span class="p">.</span><span class="nf">Build</span><span class="p">();</span>

<span class="c1">// Ensure the database is created and seeded</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">scope</span> <span class="p">=</span> <span class="n">app</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="nf">CreateScope</span><span class="p">())</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">context</span> <span class="p">=</span> <span class="n">scope</span><span class="p">.</span><span class="n">ServiceProvider</span><span class="p">.</span><span class="n">GetRequiredService</span><span class="p">&lt;</span><span class="n">EcommerceDbContext</span><span class="p">&gt;();</span>
    <span class="n">context</span><span class="p">.</span><span class="n">Database</span><span class="p">.</span><span class="nf">EnsureCreated</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// Configure the HTTP request pipeline.</span>
<span class="k">if</span> <span class="p">(</span><span class="n">app</span><span class="p">.</span><span class="n">Environment</span><span class="p">.</span><span class="nf">IsDevelopment</span><span class="p">())</span>
<span class="p">{</span>
    <span class="n">app</span><span class="p">.</span><span class="nf">UseSwagger</span><span class="p">();</span>
    <span class="n">app</span><span class="p">.</span><span class="nf">UseSwaggerUI</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="n">c</span><span class="p">.</span><span class="nf">SwaggerEndpoint</span><span class="p">(</span><span class="s">"/swagger/v1/swagger.json"</span><span class="p">,</span> <span class="s">"Ecommerce API v1"</span><span class="p">);</span>
        <span class="n">c</span><span class="p">.</span><span class="n">RoutePrefix</span> <span class="p">=</span> <span class="s">"swagger"</span><span class="p">;</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="n">app</span><span class="p">.</span><span class="nf">UseHttpsRedirection</span><span class="p">();</span>

<span class="c1">// Enable metrics collection middleware - automatically tracks HTTP requests/responses</span>
<span class="c1">// This captures timing, status codes, and other HTTP metrics for Grafana monitoring</span>
<span class="n">app</span><span class="p">.</span><span class="nf">UseMetricsAllMiddleware</span><span class="p">();</span>
<span class="c1">// Expose metrics endpoints (/metrics, /metrics-text, /ping) for Prometheus scraping</span>
<span class="n">app</span><span class="p">.</span><span class="nf">UseMetricsAllEndpoints</span><span class="p">();</span>

<span class="c1">// Map controllers</span>
<span class="n">app</span><span class="p">.</span><span class="nf">MapControllers</span><span class="p">();</span>

<span class="n">app</span><span class="p">.</span><span class="nf">Run</span><span class="p">();</span>
</code></pre></div></div>

<p>Now you can run your .NET Core API project, and it will expose metrics at the <code class="language-plaintext highlighter-rouge">/metrics</code> endpoint in a Prometheus-compatible format. You can then configure Prometheus to scrape this endpoint and set up Grafana dashboards to visualize the collected metrics.</p>

<p>Example Endpoint:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Swagger UI: http://localhost:5262/swagger
Metrics Endpoints (for Grafana):
http://localhost:5262/metrics - Prometheus protobuf format
http://localhost:5262/metrics-text - Prometheus text format
http://localhost:5262/ping - Health check
</code></pre></div></div>

<p><strong>Step 9: Setting Up Prometheus</strong></p>

<p>To set up Prometheus to scrape metrics from your .NET Core API, follow these steps:</p>
<ol>
  <li><strong>Download and Install Prometheus</strong>: You can download Prometheus from the <a href="https://prometheus.io/download/">official website</a>.</li>
</ol>

<ul>
  <li>Download the latest stable version (ex. prometheus-3.8.1.windows-amd64.zip) and extract the files to a directory of your choice.</li>
</ul>

<ol>
  <li><strong>Configure Prometheus</strong>: After extracting Prometheus, navigate to the directory and you will find a <code class="language-plaintext highlighter-rouge">prometheus.yml</code> file. Modify this file to add your .NET Core API as a scrape target.</li>
</ol>

<p>Create a <code class="language-plaintext highlighter-rouge">prometheus.yml</code> configuration file with the following content:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">global</span><span class="pi">:</span>
  <span class="na">scrape_interval</span><span class="pi">:</span> <span class="s">15s</span>
<span class="na">scrape_configs</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">job_name</span><span class="pi">:</span> <span class="s1">'</span><span class="s">ecommerce_api'</span>
    <span class="na">static_configs</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">targets</span><span class="pi">:</span> <span class="pi">[</span><span class="s1">'</span><span class="s">localhost:5262'</span><span class="pi">]</span>  <span class="c1"># Replace with your API's host and port</span>
</code></pre></div></div>

<ul>
  <li>Save and close the file.</li>
</ul>

<ol>
  <li><strong>Run Prometheus</strong>: To start Prometheus with the updated configuration, run the following command in the terminal from the directory where Prometheus is located:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.<span class="se">\p</span>rometheus.exe <span class="nt">--config</span>.file<span class="o">=</span>prometheus.yml
</code></pre></div></div>

<ul>
  <li>Keep the Prometheus server running to allow it to scrape metrics from your .NET Core API.</li>
  <li>Now you can access the Prometheus web interface at <code class="language-plaintext highlighter-rouge">http://localhost:9090</code> to query and visualize the metrics being collected.</li>
</ul>

<p><img src="/assets/images/posts/2025/prometheus_01.png" alt="Prometheus Dashboard" /></p>

<p>As you can see that Prometheus is configured, you can try with different query to verify or move to next step. For example, you can use the following query to see the total number of requests to the <code class="language-plaintext highlighter-rouge">GetAllProducts</code> endpoint:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sum(rate(get_all_products_total[1m]))
</code></pre></div></div>

<p>And you can use the following query to see the average response time for the <code class="language-plaintext highlighter-rouge">GetProductById</code> endpoint:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>avg(rate(get_product_by_id_duration_sum[1m])) / avg(rate(get_product_by_id_duration_count[1m]))
</code></pre></div></div>

<p><strong>Step 10: Setting Up Grafana</strong>
To set up Grafana to visualize the metrics collected by Prometheus, follow these steps:</p>

<ol>
  <li><strong>Download and Install Grafana</strong>: You can download Grafana from the <a href="https://grafana.com/grafana/download">official website</a>.
    <ul>
      <li>Download the latest stable version which match with your OS  (ex. grafana-enterprise_12.3.1_20271043721_windows_amd64.tar.gz) and extract the files to a directory of your choice.</li>
      <li>Run the Grafana server by executing <code class="language-plaintext highlighter-rouge">grafana-server.exe</code> in bin folder from the extracted directory.</li>
      <li>Keep the Grafana server running to allow access to the web interface.</li>
      <li>Now you can access the Grafana web interface at <code class="language-plaintext highlighter-rouge">http://localhost:3000</code>.</li>
    </ul>
  </li>
</ol>

<p><img src="/assets/images/posts/2025/grafana_login_01.png" alt="" /></p>

<ol>
  <li><strong>Add Prometheus as a Data Source</strong>:
    <ul>
      <li>Open Grafana in your web browser (default is <code class="language-plaintext highlighter-rouge">http://localhost:3000</code>).</li>
      <li>Log in with the default credentials (<code class="language-plaintext highlighter-rouge">admin</code>/<code class="language-plaintext highlighter-rouge">admin</code>).</li>
      <li>You can either change the password or skip to keep the default user credential.</li>
      <li>Click on Gear Icon at the top left side and go to “Connections” &gt; “Data Sources” and click “Add data source”.</li>
      <li>Or, from the dashboard home page, click on “Add data source”.</li>
      <li>Select “Prometheus” from the list of data sources.</li>
      <li>Set the URL to <code class="language-plaintext highlighter-rouge">http://localhost:9090</code> (or wherever your Prometheus server is running) and click “Save &amp; Test”.</li>
    </ul>
  </li>
</ol>

<p><img src="/assets/images/posts/2025/prometheus_config_in_grafana_01.png" alt="" /></p>

<p><strong>Step 11: Configure a Custom Dashboards in Grafana</strong></p>

<p><strong>Step i: Create a New Dashboard</strong></p>
<ol>
  <li>Click the <code class="language-plaintext highlighter-rouge">+</code> icon at the top right corner</li>
  <li>Select “Create” → “Dashboard”</li>
  <li>Click “Add visualization”</li>
  <li>Select your “Prometheus” data source</li>
</ol>

<p><strong>Step ii: Add Panels for Your API Metrics</strong></p>

<p>Based on your metrics output from <code class="language-plaintext highlighter-rouge">http://localhost:5262/metrics-text</code>, create these panels:</p>

<p><img src="/assets/images/posts/2025/grafana_panel_setup01.png" alt="" /></p>

<p><strong>Panel 1: Total HTTP Requests</strong></p>
<ul>
  <li><strong>Title</strong>: “Total HTTP Requests”</li>
  <li><strong>Query</strong>: <code class="language-plaintext highlighter-rouge">application_httprequests_transactions_count</code></li>
  <li><strong>Panel Type</strong>: Stat</li>
  <li><strong>Description</strong>: Shows total number of requests processed</li>
  <li><strong>Note</strong>: Select Code option to write query</li>
  <li>Save the panel and save the dashboard. In my case - “Mahedee’s Dashboard”</li>
  <li>Now from your dashboard -&gt; Click on Add -&gt; Visualization and the following panels.</li>
</ul>

<p><strong>Panel 2: Request Rate</strong></p>
<ul>
  <li><strong>Title</strong>: “Requests per Second”</li>
  <li><strong>Query</strong>: <code class="language-plaintext highlighter-rouge">rate(application_httprequests_transactions_count[5m])</code></li>
  <li><strong>Panel Type</strong>: Time Series</li>
  <li><strong>Unit</strong>: requests/sec</li>
</ul>

<p><strong>Panel 3: Average Response Time</strong></p>
<ul>
  <li><strong>Title</strong>: “Average Response Time”</li>
  <li><strong>Query</strong>: <code class="language-plaintext highlighter-rouge">rate(application_httprequests_transactions_sum[5m]) / rate(application_httprequests_transactions_count[5m])</code></li>
  <li><strong>Panel Type</strong>: Stat</li>
  <li><strong>Unit</strong>: seconds</li>
</ul>

<p><strong>Panel 4: Response Time Percentiles</strong></p>
<ul>
  <li><strong>Title</strong>: “Response Time Distribution”</li>
  <li><strong>Queries</strong>:
    <ul>
      <li>Alias “50th”: <code class="language-plaintext highlighter-rouge">application_httprequests_transactions{quantile="0.5"}</code></li>
      <li>Alias “75th”: <code class="language-plaintext highlighter-rouge">application_httprequests_transactions{quantile="0.75"}</code></li>
      <li>Alias “95th”: <code class="language-plaintext highlighter-rouge">application_httprequests_transactions{quantile="0.95"}</code></li>
      <li>Alias “99th”: <code class="language-plaintext highlighter-rouge">application_httprequests_transactions{quantile="0.99"}</code></li>
    </ul>
  </li>
  <li><strong>Panel Type</strong>: Time Series</li>
  <li><strong>Unit</strong>: seconds</li>
</ul>

<p><strong>Panel 5: Apdex Score</strong></p>
<ul>
  <li><strong>Title</strong>: “Application Performance Index (User Satisfaction)”</li>
  <li><strong>Query</strong>: <code class="language-plaintext highlighter-rouge">application_httprequests_apdex</code></li>
  <li><strong>Panel Type</strong>: Stat</li>
  <li><strong>Unit</strong>: percent (0-100)</li>
  <li><strong>Thresholds</strong>: Green &gt; 85, Yellow &gt; 70, Red &lt; 70</li>
</ul>

<p><strong>Panel 6: Active Requests</strong></p>
<ul>
  <li><strong>Title</strong>: “Currently Active Requests”</li>
  <li><strong>Query</strong>: <code class="language-plaintext highlighter-rouge">application_httprequests_active</code></li>
  <li><strong>Panel Type</strong>: Stat</li>
  <li><strong>Unit</strong>: short</li>
</ul>

<p><strong>Note: You can add more panels based on the metrics you have implemented in your .NET Core API. Customize the dashboard layout and styles as per your preference.</strong></p>

<p><strong>Optional Steps: Generate Test Data</strong></p>

<p>Before you can see data in your dashboard, generate some API traffic. You can create a shell script using the following commands and run it in your terminal:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Generate sustained traffic to create visible metrics</span>
<span class="k">for </span>i <span class="k">in</span> <span class="o">{</span>1..100<span class="o">}</span><span class="p">;</span> <span class="k">do
  </span>curl http://localhost:5262/api/Product
  curl http://localhost:5262/api/Product/1
  curl http://localhost:5262/api/Product/2
  <span class="nb">sleep </span>0.2
<span class="k">done</span>

<span class="c"># Create some products</span>
curl <span class="nt">-X</span> POST http://localhost:5262/api/Product <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"name":"Dashboard Test Product","description":"Testing dashboard","price":99.99,"stockQuantity":10}'</span>

<span class="c"># Test 404 errors</span>
curl http://localhost:5262/api/Product/999
curl http://localhost:5262/api/Product/888
</code></pre></div></div>

<p><strong>Step iii: View your dashboard</strong></p>
<ul>
  <li>After adding all the panels, save your dashboard. You should now see real-time metrics from your .NET Core API displayed in Grafana.</li>
</ul>

<p><img src="/assets/images/posts/2025/grafana_custom_dashboard01.png" alt="" /></p>

<p><strong>Step 11: Import Pre-Built Dashboards in Grafana</strong></p>

<ul>
  <li>Click on the “+” icon on the top right and select “Import Dashboard”.</li>
  <li>Let’s import a dashboard from Grafana’s dashboard repository. For example, you can use the dashboard ID <code class="language-plaintext highlighter-rouge">4334</code> for a Prometheus overview dashboard it is called - ‘App Metrics - Web Monitoring - Prometheus’.</li>
  <li>Visit <a href="https://grafana.com/grafana/dashboards">Grafana Dashboards</a> to find more dashboards. If you want to explore more dashboards, you can search for “.NET Core” or “App Metrics” to find relevant dashboards and you will get the dashboard ID from there.</li>
  <li>Enter <code class="language-plaintext highlighter-rouge">4334</code> in the “Import via grafana.com” field and click “Load”.</li>
  <li>Select the Prometheus data source you added earlier and click “Import”.</li>
  <li>Save the dashboard.</li>
  <li>You will see the following dashboard:</li>
</ul>

<p><img src="/assets/images/posts/2025/grafana_dashboard_4334.png" alt="" /></p>

<p><strong>Conclusion</strong>
Implementing metrics and dashboards for your .NET Core APIs using Prometheus and Grafana significantly enhances your application’s observability. By following the steps outlined in this guide, you can effectively monitor your API’s performance, track key metrics, and visualize data through customizable dashboards. This setup not only helps in identifying performance bottlenecks but also aids in proactive issue resolution, ensuring a robust and reliable application.</p>

<p><strong><a href="https://github.com/mahedee/code-sample02/tree/master/grafana-dotnet-core">Source code</a></strong></p>]]></content><author><name>Mahedee Hasan</name></author><category term=".NET Core" /><category term="ASP.NET Core" /><category term="DevOps" /><category term="Monitoring" /><category term="dotnet" /><category term="aspnetcore" /><category term="webapi" /><category term="prometheus" /><category term="grafana" /><category term="monitoring" /><category term="metrics" /><category term="observability" /><category term="devops" /><category term="configuration" /><summary type="html"><![CDATA[Step-by-step tutorial to implement metrics and dashboards for .NET Core APIs using Prometheus and Grafana for effective monitoring.]]></summary></entry><entry><title type="html">My VS Code Extensions for Daily Development Work</title><link href="https://mahedee.net/my-vs-code-extensions-for-daily-development/" rel="alternate" type="text/html" title="My VS Code Extensions for Daily Development Work" /><published>2025-11-05T00:00:00-05:00</published><updated>2025-11-05T00:00:00-05:00</updated><id>https://mahedee.net/my-vs-code-extensions-for-daily-development</id><content type="html" xml:base="https://mahedee.net/my-vs-code-extensions-for-daily-development/"><![CDATA[<!-- Article banner image (optional) -->
<!-- ![Document Management System Banner](./images/dms-banner.png) -->

<p>As a developer, VS Code extensions are essential tools that enhance productivity and streamline the development workflow. Here’s a curated list of all the extensions I use daily, organized by category with explanations of why each one is valuable.</p>

<h2 id="-pro-tip-list-your-extensions">💡 Pro Tip: List Your Extensions</h2>
<p>To see which extensions you have installed, run this command in your terminal:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>code <span class="nt">--list-extensions</span>
</code></pre></div></div>

<p>For detailed info with versions:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>code <span class="nt">--list-extensions</span> <span class="nt">--show-versions</span>
</code></pre></div></div>

<h2 id="-ai--code-assistance">🤖 AI &amp; Code Assistance</h2>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=GitHub.copilot">GitHub Copilot</a></strong><br />
AI-powered code completion that suggests entire lines or blocks of code. Essential for faster coding and learning new patterns.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=GitHub.copilot-chat">GitHub Copilot Chat</a></strong><br />
Interactive AI assistant for code explanation, debugging, and refactoring suggestions directly in VS Code.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=continue.continue">Continue</a></strong><br />
Open-source AI code assistant that provides intelligent code completion and chat capabilities.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=bito.bito">Bito AI</a></strong><br />
AI-powered code assistant for generating, explaining, and optimizing code across multiple programming languages.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=VisualStudioExptTeam.vscodeintellicode">IntelliCode</a></strong><br />
Microsoft’s AI-assisted development with smart code completion based on best practices from thousands of open-source projects.</p>

<h2 id="-documentation--markdown">📝 Documentation &amp; Markdown</h2>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=shd101wyy.markdown-preview-enhanced">Markdown Preview Enhanced</a></strong><br />
Advanced markdown preview with support for diagrams, math expressions, and export options. Perfect for README files and documentation.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=yzane.markdown-pdf">Markdown PDF</a></strong><br />
Convert markdown files to PDF, HTML, PNG, or JPEG formats. Great for sharing documentation in multiple formats.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=huntertran.auto-markdown-toc">Auto Markdown TOC</a></strong><br />
Automatically generates table of contents for markdown files, saving time when creating structured documents.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=mintlify.document">Mintlify Document</a></strong><br />
AI-powered documentation generator that creates detailed docstrings and comments for your code.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=ChrisChinchilla.vscode-pandoc">Pandoc</a></strong><br />
Convert between different document formats using Pandoc directly from VS Code.</p>

<h2 id="-code-quality--formatting">🎨 Code Quality &amp; Formatting</h2>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode">Prettier - Code formatter</a></strong><br />
Automatic code formatting for consistent code style across JavaScript, TypeScript, CSS, and more.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=aaron-bond.better-comments">Better Comments</a></strong><br />
Enhances code comments with color coding for TODO, FIXME, and other comment types.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=timonwong.shellcheck">ShellCheck</a></strong><br />
Linting for shell scripts to catch common errors and improve script quality.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=mkhl.shfmt">Shell Format</a></strong><br />
Formats shell scripts according to standard conventions for better readability.</p>

<h2 id="-language-support">🔧 Language Support</h2>

<h3 id="java--spring">Java &amp; Spring</h3>
<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack">Extension Pack for Java</a></strong><br />
Complete Java development suite including debugger, test runner, and project management.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=vmware.vscode-boot-dev-pack">Spring Boot Extension Pack</a></strong><br />
Tools for Spring Boot development including auto-completion and live application information.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-spring-boot-dashboard">Spring Boot Dashboard</a></strong><br />
Manage and monitor Spring Boot applications directly from VS Code.</p>

<h3 id="c--net">C# &amp; .NET</h3>
<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp">C#</a></strong><br />
Essential for C# development with IntelliSense, debugging, and project templates.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csdevkit">C# DevKit</a></strong><br />
Comprehensive C# development experience with enhanced project management and debugging.</p>

<h3 id="python">Python</h3>
<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=ms-python.python">Python</a></strong><br />
Complete Python development environment with debugging, linting, and IntelliSense.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=ms-python.vscode-pylance">Pylance</a></strong><br />
Fast, feature-rich language support for Python with type checking and auto-imports.</p>

<h3 id="javascript--react">JavaScript &amp; React</h3>
<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=dsznajder.es7-react-js-snippets">ES7+ React/Redux/React-Native snippets</a></strong><br />
Essential code snippets for React development, dramatically speeds up component creation.</p>

<h3 id="angular">Angular</h3>
<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=Angular.ng-template">Angular Language Service</a></strong><br />
Official Angular extension providing IntelliSense and error checking for Angular templates.</p>

<h2 id="-devops--containers">🐳 DevOps &amp; Containers</h2>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-docker">Docker</a></strong><br />
Manage Docker containers and images directly from VS Code with syntax highlighting for Dockerfiles.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">Dev Containers</a></strong><br />
Develop inside Docker containers for consistent development environments.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl">Remote - WSL</a></strong><br />
Seamless development experience using Windows Subsystem for Linux.</p>

<h2 id="-git--version-control">🔍 Git &amp; Version Control</h2>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens">GitLens</a></strong><br />
Supercharges Git capabilities with blame annotations, commit history, and repository insights.</p>

<h2 id="-diagrams--visualization">📊 Diagrams &amp; Visualization</h2>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=hediet.vscode-drawio">Draw.io Integration</a></strong><br />
Create and edit diagrams directly in VS Code for documentation and system design.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml">PlantUML</a></strong><br />
Generate UML diagrams from text descriptions, perfect for technical documentation.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=tehpeng.diagramspreviewer">Diagrams Preview</a></strong><br />
Preview various diagram formats including Mermaid and PlantUML.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=pnp.polacode">Polacode</a></strong><br />
Create beautiful screenshots of your code for presentations and documentation.</p>

<h2 id="️-utilities--productivity">🛠️ Utilities &amp; Productivity</h2>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=humao.rest-client">REST Client</a></strong><br />
Test REST APIs directly from VS Code without leaving the editor.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=AykutSarac.jsoncrack-vscode">JSON Crack</a></strong><br />
Visualize JSON data as interactive graphs for better understanding of complex structures.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=fabiospampinato.vscode-todo-plus">TODO+</a></strong><br />
Advanced TODO management with nested todos, tags, and time tracking.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=steoates.autoimport">Auto Import - ES6, TS, JSX, TSX</a></strong><br />
Automatically finds and adds import statements for TypeScript and JavaScript.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=chrmarti.regex">Regex</a></strong><br />
Test and debug regular expressions with real-time highlighting and explanation.</p>

<h2 id="️-database--cloud">🗄️ Database &amp; Cloud</h2>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=Oracle.sql-developer">Oracle SQL Developer</a></strong><br />
Connect to and manage Oracle databases directly from VS Code.</p>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=dannysteenman.cdk-snippets">AWS CDK Snippets</a></strong><br />
Code snippets for AWS Cloud Development Kit to speed up infrastructure as code development.</p>

<h2 id="-shell--bash">💻 Shell &amp; Bash</h2>

<p><strong><a href="https://marketplace.visualstudio.com/items?itemName=mads-hartmann.bash-ide-vscode">Bash IDE</a></strong><br />
Enhanced Bash scripting experience with syntax highlighting and IntelliSense.</p>

<hr />

<h2 id="summary">Summary</h2>

<p>These 50+ extensions transform VS Code into a powerful, multi-language IDE capable of handling everything from simple scripts to complex enterprise applications. The key is finding the right balance - install extensions that genuinely improve your workflow without overwhelming the editor.</p>

<p><strong>Remember</strong>: Extensions can slow down VS Code startup time, so regularly review and disable extensions you’re not actively using.</p>

<p><em>Have suggestions for other must-have extensions? Feel free to share in the comments below!</em></p>

<!-- Last reviewed and modified: 2026-01-01 -->]]></content><author><name>Mahedee Hasan</name></author><category term="VS Code" /><category term="Tools" /><category term="Productivity" /><category term="DevOps" /><category term="AI" /><category term="vscode" /><category term="extensions" /><category term="tools" /><category term="productivity" /><category term="development" /><category term="ai" /><category term="docker" /><category term="github" /><category term="markdown" /><category term="python" /><category term="csharp" /><category term="java" /><category term="angular" /><category term="reviewed_v02" /><summary type="html"><![CDATA[A comprehensive list of VS Code extensions I use daily for development, productivity, and coding efficiency across multiple languages and frameworks.]]></summary></entry><entry><title type="html">How to Clone a GitHub Issue Using PowerShell and Shell Scripts</title><link href="https://mahedee.net/clone_a_github_issue_using_shellscript/" rel="alternate" type="text/html" title="How to Clone a GitHub Issue Using PowerShell and Shell Scripts" /><published>2025-11-04T00:00:00-05:00</published><updated>2025-11-04T00:00:00-05:00</updated><id>https://mahedee.net/clone_a_github_issue_using_shellscript</id><content type="html" xml:base="https://mahedee.net/clone_a_github_issue_using_shellscript/"><![CDATA[<!-- Article banner image (optional) -->
<!-- ![Document Management System Banner](./images/dms-banner.png) -->

<h2 id="overview">Overview</h2>

<p>This comprehensive guide demonstrates how to clone GitHub issues using both PowerShell and shell scripts. The solution automatically creates a duplicate issue with the same title and body content, then closes the original issue with a reference to the newly created one.</p>

<!-- completed up to -->

<h2 id="what-is-issue-cloning">What is Issue Cloning?</h2>

<p>Issue cloning is the process of creating a new GitHub issue that duplicates the content of an existing issue. This is useful for:</p>
<ul>
  <li>Moving issues between repositories</li>
  <li>Creating templates from existing issues</li>
  <li>Archiving resolved issues while maintaining their content</li>
  <li>Reorganizing project workflows</li>
</ul>

<h2 id="prerequisites">Prerequisites</h2>

<h3 id="1-installing-github-cli">1. Installing GitHub CLI</h3>

<h4 id="on-windows-using-winget">On Windows using winget</h4>

<p>First, check if winget is available:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Get-Command</span><span class="w"> </span><span class="nx">winget</span><span class="w"> </span><span class="nt">-ErrorAction</span><span class="w"> </span><span class="nx">SilentlyContinue</span><span class="w">
</span></code></pre></div></div>

<p>If winget is not found, you can try adding it to your PATH:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PATH</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">";C:\Program Files\WindowsApps\Microsoft.DesktopAppInstaller_1.27.440.0_x64__8wekyb3d8bbwe"</span><span class="w">
</span><span class="n">winget</span><span class="w"> </span><span class="nt">--version</span><span class="w">
</span></code></pre></div></div>

<p>Install GitHub CLI:</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">winget</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="nt">--id</span><span class="w"> </span><span class="nx">GitHub.cli</span><span class="w">
</span></code></pre></div></div>

<h4 id="alternative-installation-methods">Alternative Installation Methods</h4>

<p><strong>Method 1: Manual Download</strong></p>
<ul>
  <li>Download from GitHub: https://github.com/cli/cli/releases</li>
  <li>Install the <code class="language-plaintext highlighter-rouge">.msi</code> file for Windows</li>
</ul>

<p><strong>Method 2: Using Chocolatey</strong></p>
<ul>
  <li>Chocolatey is a package manager for Windows. Install GitHub CLI with:</li>
</ul>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">choco</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="nx">gh</span><span class="w">
</span></code></pre></div></div>

<p><strong>Method 3: Direct Download</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$progressPreference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'silentlyContinue'</span><span class="w">
</span><span class="n">Invoke-WebRequest</span><span class="w"> </span><span class="nt">-Uri</span><span class="w"> </span><span class="nx">https://github.com/cli/cli/releases/latest/download/gh_windows_amd64.msi</span><span class="w"> </span><span class="nt">-OutFile</span><span class="w"> </span><span class="nx">gh_installer.msi</span><span class="w">
</span><span class="n">Start-Process</span><span class="w"> </span><span class="nx">msiexec.exe</span><span class="w"> </span><span class="nt">-ArgumentList</span><span class="w"> </span><span class="s2">"/i"</span><span class="p">,</span><span class="w"> </span><span class="s2">"gh_installer.msi"</span><span class="p">,</span><span class="w"> </span><span class="s2">"/quiet"</span><span class="w"> </span><span class="nt">-Wait</span><span class="w">
</span></code></pre></div></div>

<h3 id="2-add-github-cli-to-path">2. Add GitHub CLI to PATH</h3>

<p>After installation, add GitHub CLI to your system PATH:</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">PATH</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">";C:\Program Files\GitHub CLI"</span><span class="w">
</span><span class="n">gh</span><span class="w"> </span><span class="nt">--version</span><span class="w">
</span></code></pre></div></div>

<h3 id="3-github-authentication">3. GitHub Authentication</h3>

<p>Authenticate with GitHub:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gh auth login
</code></pre></div></div>

<p>Follow the prompts to authenticate using your browser or personal access token.</p>

<h2 id="solution-overview">Solution Overview</h2>

<p>We’ve created two scripts that provide the same functionality:</p>
<ol>
  <li><strong>PowerShell Script</strong> (<code class="language-plaintext highlighter-rouge">clone_issue.ps1</code>) - Cross-platform PowerShell solution</li>
  <li><strong>Shell Script</strong> (<code class="language-plaintext highlighter-rouge">clone_issue.sh</code>) - Traditional bash script</li>
</ol>

<p>Both scripts:</p>
<ul>
  <li>Accept issue number as a parameter</li>
  <li>Retrieve the original issue’s title and body</li>
  <li>Create a new issue with identical content</li>
  <li>Add a reference note (“Cloned from #[original_issue_number]”)</li>
  <li>Automatically close the original issue with a comment referencing the new issue</li>
</ul>

<p><strong>clone_issue.ps1</strong></p>

<div class="language-ps highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nf">#!</span><span class="nv">/usr/bin/env</span> <span class="nf">pwsh</span>

<span class="p">&lt;</span><span class="nf">#</span>
<span class="nf">.SYNOPSIS</span>
    <span class="nf">Clone</span> <span class="nf">a</span> <span class="nf">GitHub</span> <span class="nf">issue</span> <span class="nf">by</span> <span class="nf">creating</span> <span class="nf">a</span> <span class="nf">new</span> <span class="nf">issue</span> <span class="nf">with</span> <span class="nf">the</span> <span class="nf">same</span> <span class="nf">title</span> <span class="kr">and</span> <span class="nf">body.</span>

<span class="nf">.AUTHOR</span>
    <span class="nf">Mahedee</span> <span class="nf">Hasan</span>

<span class="nf">.DESCRIPTION</span>
    <span class="nf">This</span> <span class="nf">script</span> <span class="nf">uses</span> <span class="nf">GitHub</span> <span class="nf">CLI</span> <span class="nf">to</span> <span class="nf">retrieve</span> <span class="nf">an</span> <span class="nf">existing</span> <span class="nf">issue</span> <span class="kr">and</span> <span class="nf">create</span> <span class="nf">a</span> <span class="nf">new</span> <span class="nf">one</span>
    <span class="nf">with</span> <span class="nf">the</span> <span class="nf">same</span> <span class="nf">content,</span> <span class="nf">adding</span> <span class="nf">a</span> <span class="nf">note</span> <span class="nf">that</span> <span class="nf">it</span> <span class="nf">was</span> <span class="nf">cloned</span> <span class="nf">from</span> <span class="nf">the</span> <span class="nf">original.</span>
    <span class="nf">After</span> <span class="nf">successful</span> <span class="nf">creation,</span> <span class="nf">it</span> <span class="nf">closes</span> <span class="nf">the</span> <span class="nf">original</span> <span class="nf">issue</span> <span class="nf">with</span> <span class="nf">a</span> <span class="nf">comment</span> <span class="nf">referencing</span> <span class="nf">the</span> <span class="nf">new</span> <span class="nf">issue.</span>

<span class="nf">.PARAMETER</span> <span class="nf">IssueNumber</span>
    <span class="nf">The</span> <span class="nf">issue</span> <span class="nf">number</span> <span class="nf">to</span> <span class="nf">clone.</span>

<span class="nf">.PARAMETER</span> <span class="nf">Repository</span>
    <span class="nf">The</span> <span class="nf">repository</span> <span class="nf">in</span> <span class="nf">format</span> <span class="nf">"owner</span><span class="nv">/repo".</span> <span class="nf">Defaults</span> <span class="nf">to</span> <span class="nf">"mahedee</span><span class="nv">/rnd".</span>

<span class="nf">.EXAMPLE</span>
    <span class="nf">.\clone_issue.ps1</span> <span class="nf">-IssueNumber</span> <span class="mf">7</span>
    
<span class="nf">.EXAMPLE</span>
    <span class="nf">.\clone_issue.ps1</span> <span class="nf">-IssueNumber</span> <span class="mf">7</span> <span class="nf">-Repository</span> <span class="nf">"username</span><span class="nv">/repository"</span>

<span class="nf">.EXAMPLE</span>
    <span class="nf">.\clone_issue.ps1</span> <span class="mf">9</span>
<span class="nf">#</span><span class="p">&gt;</span>

<span class="nf">param</span><span class="s">(
    [Parameter(Mandatory=$true)]
    [int]$IssueNumber,
    
    [Parameter(Mandatory=$false)]
    [string]$Repository = "arisha/myrepo"
)</span>

<span class="nf">#</span> <span class="nf">Check</span> <span class="kr">if</span> <span class="nf">GitHub</span> <span class="nf">CLI</span> <span class="nf">is</span> <span class="nf">available</span>
<span class="nf">try</span> <span class="p">{</span>
    <span class="nf">$null</span> <span class="nf">=</span> <span class="nf">Get-Command</span> <span class="nf">gh</span> <span class="nf">-ErrorAction</span> <span class="nf">Stop</span>
<span class="p">}</span> <span class="nf">catch</span> <span class="p">{</span>
    <span class="nf">Write-Error</span> <span class="nf">"GitHub</span> <span class="nf">CLI</span> <span class="s">(gh)</span> <span class="nf">is</span> <span class="kr">not</span> <span class="nf">found.</span> <span class="nf">Please</span> <span class="nf">install</span> <span class="nf">GitHub</span> <span class="nf">CLI</span> <span class="kr">and</span> <span class="nf">ensure</span> <span class="nf">it's</span> <span class="nf">in</span> <span class="nf">your</span> <span class="nf">PATH."</span>
    <span class="nb">exit</span> <span class="mf">1</span>
<span class="p">}</span>

<span class="nf">try</span> <span class="p">{</span>
    <span class="nf">Write-Host</span> <span class="nf">"Retrieving</span> <span class="nf">issue</span> <span class="nf">#$IssueNumber</span> <span class="nf">from</span> <span class="nf">repository</span> <span class="nf">$Repository..."</span>
    
    <span class="nf">#</span> <span class="nf">Get</span> <span class="nf">issue</span> <span class="nf">title</span>
    <span class="nf">$title</span> <span class="nf">=</span> <span class="nf">gh</span> <span class="nf">issue</span> <span class="nf">view</span> <span class="nf">$IssueNumber</span> <span class="nf">-R</span> <span class="nf">$Repository</span> <span class="nf">--json</span> <span class="nf">title</span> <span class="nf">-q</span> <span class="nf">.title</span>
    <span class="kr">if</span> <span class="s">($LASTEXITCODE -ne 0)</span> <span class="p">{</span>
        <span class="nf">Write-Error</span> <span class="nf">"Failed</span> <span class="nf">to</span> <span class="nf">retrieve</span> <span class="nf">issue</span> <span class="nf">#$IssueNumber.</span> <span class="nf">Please</span> <span class="nf">check</span> <span class="kr">if</span> <span class="nf">the</span> <span class="nf">issue</span> <span class="nf">exists</span> <span class="kr">and</span> <span class="nf">you</span> <span class="nf">have</span> <span class="nf">access</span> <span class="nf">to</span> <span class="nf">the</span> <span class="nf">repository."</span>
        <span class="nb">exit</span> <span class="mf">1</span>
    <span class="p">}</span>
    
    <span class="nf">#</span> <span class="nf">Get</span> <span class="nf">issue</span> <span class="nf">body</span>
    <span class="nf">$body</span> <span class="nf">=</span> <span class="nf">gh</span> <span class="nf">issue</span> <span class="nf">view</span> <span class="nf">$IssueNumber</span> <span class="nf">-R</span> <span class="nf">$Repository</span> <span class="nf">--json</span> <span class="nf">body</span> <span class="nf">-q</span> <span class="nf">.body</span>
    <span class="kr">if</span> <span class="s">($LASTEXITCODE -ne 0)</span> <span class="p">{</span>
        <span class="nf">Write-Error</span> <span class="nf">"Failed</span> <span class="nf">to</span> <span class="nf">retrieve</span> <span class="nf">issue</span> <span class="nf">body</span> <span class="kr">for</span> <span class="nf">#$IssueNumber."</span>
        <span class="nb">exit</span> <span class="mf">1</span>
    <span class="p">}</span>
    
    <span class="nf">#</span> <span class="nf">Create</span> <span class="nf">the</span> <span class="nf">cloned</span> <span class="nf">issue</span> <span class="nf">body</span> <span class="nf">with</span> <span class="nf">reference</span> <span class="nf">to</span> <span class="nf">original</span>
    <span class="nf">$clonedBody</span> <span class="nf">=</span> <span class="nf">"$body`n`nCloned</span> <span class="nf">from</span> <span class="nf">#$IssueNumber"</span>
    
    <span class="nf">Write-Host</span> <span class="nf">"Creating</span> <span class="nf">new</span> <span class="nf">issue</span> <span class="nf">with</span> <span class="nf">title:</span> <span class="nf">$title"</span>
    
    <span class="nf">#</span> <span class="nf">Create</span> <span class="nf">new</span> <span class="nf">issue</span> <span class="kr">and</span> <span class="nf">capture</span> <span class="nf">the</span> <span class="nf">result</span>
    <span class="nf">$createOutput</span> <span class="nf">=</span> <span class="nf">gh</span> <span class="nf">issue</span> <span class="nf">create</span> <span class="nf">-R</span> <span class="nf">$Repository</span> <span class="nf">--title</span> <span class="nf">"$title"</span> <span class="nf">--body</span> <span class="nf">"$clonedBody"</span> <span class="mf">2</span><span class="p">&gt;</span><span class="nf">&amp;1</span>
    
    <span class="kr">if</span> <span class="s">($LASTEXITCODE -eq 0)</span> <span class="p">{</span>
        <span class="nf">#</span> <span class="nf">Extract</span> <span class="nf">issue</span> <span class="nf">number</span> <span class="nf">from</span> <span class="nf">URL</span> <span class="s">(format: https://github.com/owner/repo/issues/123)</span>
        <span class="kr">if</span> <span class="s">($createOutput -match '/issues/(</span><span class="se">\</span><span class="err">d+</span><span class="se">)</span><span class="s">$') {
            $newIssueNumber = $matches[1]
            Write-Host "Successfully created new issue #$newIssueNumber!" -ForegroundColor Green
            
            # Close the original issue with a comment
            Write-Host "Closing original issue #$IssueNumber..."
            $closeComment = "Created new issue #$newIssueNumber"
            
            gh issue close $IssueNumber -R $Repository --comment "$closeComment"
            
            if ($LASTEXITCODE -eq 0) {
                Write-Host "Successfully closed original issue #$IssueNumber with reference to new issue #$newIssueNumber!" -ForegroundColor Green
            } else {
                Write-Warning "New issue #$newIssueNumber was created, but failed to close the original issue #$IssueNumber."
            }
        } else {
            Write-Host "New issue created successfully, but couldn't extract issue number from output: $createOutput" -ForegroundColor Yellow
            Write-Warning "Please manually close issue #$IssueNumber if needed."
        }
    } else {
        Write-Error "Failed to create the cloned issue. Error: $createOutput"
        exit 1
    }
    
} catch {
    Write-Error "An error occurred: $($_.Exception.Message)"
    exit 1
}
</span></code></pre></div></div>

<p><strong>clone_issue.sh</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="c"># Clone a GitHub issue by creating a new issue with the same title and body,</span>
<span class="c"># then close the original issue with a comment referencing the new one.</span>
<span class="c">#</span>
<span class="c"># Author: Mahedee Hasan</span>
<span class="c">#</span>
<span class="c"># Usage: ./clone_issue.sh &lt;issue_number&gt; [repository]</span>
<span class="c">#</span>
<span class="c"># Parameters:</span>
<span class="c">#   issue_number: The issue number to clone (required)</span>
<span class="c">#   repository:   The repository in format "owner/repo" (optional, defaults to "mahedee/rnd")</span>
<span class="c">#</span>
<span class="c"># Examples:</span>
<span class="c">#   ./clone_issue.sh 7</span>
<span class="c">#   ./clone_issue.sh 7 "username/repository"</span>

<span class="c"># Add GitHub CLI to PATH</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$PATH</span><span class="s2">:/c/Program Files/GitHub CLI"</span>

<span class="c"># Check if issue number is provided</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Error: Issue number is required"</span>
    <span class="nb">echo</span> <span class="s2">"Usage: </span><span class="nv">$0</span><span class="s2"> &lt;issue_number&gt; [repository]"</span>
    <span class="nb">exit </span>1
<span class="k">fi

</span><span class="nv">ISSUE</span><span class="o">=</span><span class="nv">$1</span>
<span class="nv">REPO</span><span class="o">=</span><span class="k">${</span><span class="nv">2</span><span class="k">:-</span><span class="s2">"arisha/myrepo"</span><span class="k">}</span>

<span class="c"># Check if GitHub CLI is available</span>
<span class="k">if</span> <span class="o">!</span> <span class="nb">command</span> <span class="nt">-v</span> gh &amp;&gt; /dev/null<span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Error: GitHub CLI (gh) is not found. Please install GitHub CLI and ensure it's in your PATH."</span>
    <span class="nb">exit </span>1
<span class="k">fi

</span><span class="nb">echo</span> <span class="s2">"Retrieving issue #</span><span class="nv">$ISSUE</span><span class="s2"> from repository </span><span class="nv">$REPO</span><span class="s2">..."</span>

<span class="c"># Get issue title</span>
<span class="nv">TITLE</span><span class="o">=</span><span class="si">$(</span>gh issue view <span class="nv">$ISSUE</span> <span class="nt">-R</span> <span class="nv">$REPO</span> <span class="nt">--json</span> title <span class="nt">-q</span> .title<span class="si">)</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> <span class="nt">-ne</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Error: Failed to retrieve issue #</span><span class="nv">$ISSUE</span><span class="s2">. Please check if the issue exists and you have access to the repository."</span>
    <span class="nb">exit </span>1
<span class="k">fi</span>

<span class="c"># Get issue body</span>
<span class="nv">BODY</span><span class="o">=</span><span class="si">$(</span>gh issue view <span class="nv">$ISSUE</span> <span class="nt">-R</span> <span class="nv">$REPO</span> <span class="nt">--json</span> body <span class="nt">-q</span> .body<span class="si">)</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> <span class="nt">-ne</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Error: Failed to retrieve issue body for #</span><span class="nv">$ISSUE</span><span class="s2">."</span>
    <span class="nb">exit </span>1
<span class="k">fi

</span><span class="nb">echo</span> <span class="s2">"Creating new issue with title: </span><span class="nv">$TITLE</span><span class="s2">"</span>

<span class="c"># Create the cloned issue body with reference to original</span>
<span class="nv">CLONED_BODY</span><span class="o">=</span><span class="s2">"</span><span class="nv">$BODY</span><span class="s2">

Cloned from #</span><span class="nv">$ISSUE</span><span class="s2">"</span>

<span class="c"># Create new issue and capture the result</span>
<span class="nv">CREATE_OUTPUT</span><span class="o">=</span><span class="si">$(</span>gh issue create <span class="nt">-R</span> <span class="nv">$REPO</span> <span class="nt">--title</span> <span class="s2">"</span><span class="nv">$TITLE</span><span class="s2">"</span> <span class="nt">--body</span> <span class="s2">"</span><span class="nv">$CLONED_BODY</span><span class="s2">"</span> 2&gt;&amp;1<span class="si">)</span>
<span class="nv">CREATE_EXIT_CODE</span><span class="o">=</span><span class="nv">$?</span>

<span class="k">if</span> <span class="o">[</span> <span class="nv">$CREATE_EXIT_CODE</span> <span class="nt">-eq</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="c"># Extract issue number from URL (format: https://github.com/owner/repo/issues/123)</span>
    <span class="k">if</span> <span class="o">[[</span> <span class="nv">$CREATE_OUTPUT</span> <span class="o">=</span>~ /issues/<span class="o">([</span>0-9]+<span class="o">)</span><span class="nv">$ </span><span class="o">]]</span><span class="p">;</span> <span class="k">then
        </span><span class="nv">NEW_ISSUE_NUMBER</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">BASH_REMATCH</span><span class="p">[1]</span><span class="k">}</span><span class="s2">"</span>
        <span class="nb">echo</span> <span class="s2">"Successfully created new issue #</span><span class="nv">$NEW_ISSUE_NUMBER</span><span class="s2">!"</span>
        
        <span class="c"># Close the original issue with a comment</span>
        <span class="nb">echo</span> <span class="s2">"Closing original issue #</span><span class="nv">$ISSUE</span><span class="s2">..."</span>
        <span class="nv">CLOSE_COMMENT</span><span class="o">=</span><span class="s2">"Created new issue #</span><span class="nv">$NEW_ISSUE_NUMBER</span><span class="s2">"</span>
        
        gh issue close <span class="nv">$ISSUE</span> <span class="nt">-R</span> <span class="nv">$REPO</span> <span class="nt">--comment</span> <span class="s2">"</span><span class="nv">$CLOSE_COMMENT</span><span class="s2">"</span>
        
        <span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> <span class="nt">-eq</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then
            </span><span class="nb">echo</span> <span class="s2">"Successfully closed original issue #</span><span class="nv">$ISSUE</span><span class="s2"> with reference to new issue #</span><span class="nv">$NEW_ISSUE_NUMBER</span><span class="s2">!"</span>
        <span class="k">else
            </span><span class="nb">echo</span> <span class="s2">"Warning: New issue #</span><span class="nv">$NEW_ISSUE_NUMBER</span><span class="s2"> was created, but failed to close the original issue #</span><span class="nv">$ISSUE</span><span class="s2">."</span>
        <span class="k">fi
    else
        </span><span class="nb">echo</span> <span class="s2">"New issue created successfully, but couldn't extract issue number from output: </span><span class="nv">$CREATE_OUTPUT</span><span class="s2">"</span>
        <span class="nb">echo</span> <span class="s2">"Warning: Please manually close issue #</span><span class="nv">$ISSUE</span><span class="s2"> if needed."</span>
    <span class="k">fi
else
    </span><span class="nb">echo</span> <span class="s2">"Error: Failed to create the cloned issue. Error: </span><span class="nv">$CREATE_OUTPUT</span><span class="s2">"</span>
    <span class="nb">exit </span>1
<span class="k">fi</span>
</code></pre></div></div>

<h2 id="powershell-script-implementation">PowerShell Script Implementation</h2>

<h3 id="script-features">Script Features</h3>

<p>The PowerShell script (<code class="language-plaintext highlighter-rouge">clone_issue.ps1</code>) offers:</p>
<ul>
  <li><strong>Parameter validation</strong> with mandatory issue number</li>
  <li><strong>Flexible repository specification</strong> (defaults to “arisha/myrepo”)</li>
  <li><strong>Comprehensive error handling</strong> with detailed messages</li>
  <li><strong>Built-in help documentation</strong> using PowerShell comment-based help</li>
  <li><strong>Cross-platform compatibility</strong> (Windows, Linux, macOS)</li>
</ul>

<h3 id="usage-examples">Usage Examples</h3>

<p><strong>Basic usage:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">.</span><span class="n">\clone_issue.ps1</span><span class="w"> </span><span class="nt">-IssueNumber</span><span class="w"> </span><span class="nx">9</span><span class="w">
</span></code></pre></div></div>

<p><strong>Short parameter syntax:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">.</span><span class="n">\clone_issue.ps1</span><span class="w"> </span><span class="nx">9</span><span class="w">
</span></code></pre></div></div>

<p><strong>With custom repository:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">.</span><span class="n">\clone_issue.ps1</span><span class="w"> </span><span class="nt">-IssueNumber</span><span class="w"> </span><span class="nx">9</span><span class="w"> </span><span class="nt">-Repository</span><span class="w"> </span><span class="s2">"username/repository"</span><span class="w">
</span></code></pre></div></div>

<p><strong>Get help:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Get-Help</span><span class="w"> </span><span class="o">.</span><span class="nx">\clone_issue.ps1</span><span class="w"> </span><span class="nt">-Full</span><span class="w">
</span></code></pre></div></div>

<h3 id="script-workflow">Script Workflow</h3>

<ol>
  <li><strong>Validation</strong>: Checks if GitHub CLI is installed and accessible</li>
  <li><strong>Retrieval</strong>: Fetches the original issue’s title and body using <code class="language-plaintext highlighter-rouge">gh issue view</code></li>
  <li><strong>Creation</strong>: Creates a new issue with the same content plus a clone reference</li>
  <li><strong>Extraction</strong>: Parses the new issue URL to extract the issue number</li>
  <li><strong>Closure</strong>: Closes the original issue with a comment linking to the new issue</li>
</ol>

<h2 id="shell-script-implementation">Shell Script Implementation</h2>

<h3 id="script-features-1">Script Features</h3>

<p>The shell script (<code class="language-plaintext highlighter-rouge">clone_issue.sh</code>) provides:</p>
<ul>
  <li><strong>Command-line parameter support</strong> for issue number and repository</li>
  <li><strong>POSIX-compliant bash scripting</strong> for maximum compatibility</li>
  <li><strong>Regex pattern matching</strong> for URL parsing</li>
  <li><strong>Comprehensive error checking</strong> with exit codes</li>
  <li><strong>Git Bash compatibility</strong> on Windows</li>
</ul>

<h3 id="usage-examples-1">Usage Examples</h3>

<p><strong>Basic usage:</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./clone_issue.sh 9
</code></pre></div></div>

<p><strong>With custom repository:</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./clone_issue.sh 9 <span class="s2">"username/repository"</span>
</code></pre></div></div>

<p><strong>Make script executable (Linux/macOS):</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x clone_issue.sh
./clone_issue.sh 9
</code></pre></div></div>

<h3 id="script-workflow-1">Script Workflow</h3>

<ol>
  <li><strong>Parameter Check</strong>: Validates that issue number is provided</li>
  <li><strong>CLI Verification</strong>: Ensures GitHub CLI is available in PATH</li>
  <li><strong>Data Retrieval</strong>: Uses <code class="language-plaintext highlighter-rouge">gh issue view</code> with JSON output parsing</li>
  <li><strong>Issue Creation</strong>: Creates new issue and captures the output</li>
  <li><strong>URL Parsing</strong>: Extracts issue number using bash regex matching</li>
  <li><strong>Original Closure</strong>: Closes the original issue with reference comment</li>
</ol>

<h2 id="conclusion">Conclusion</h2>

<p>This comprehensive solution provides robust GitHub issue cloning capabilities using both PowerShell and shell scripts. The automated workflow saves time while maintaining data integrity and providing proper cross-references between original and cloned issues.</p>

<p>Choose the PowerShell script for cross-platform compatibility and advanced parameter handling, or use the shell script for lightweight, POSIX-compliant environments. Both scripts provide the same core functionality with appropriate error handling and user feedback. Happy coding!</p>]]></content><author><name>Mahedee Hasan</name></author><category term="Github" /><category term="DevOps" /><category term="Tools" /><category term="Command" /><category term="github" /><category term="git" /><category term="powershell" /><category term="shell" /><category term="bash" /><category term="automation" /><category term="github-issues" /><category term="devops" /><category term="command" /><category term="tools" /><summary type="html"><![CDATA[Step-by-step guide to cloning GitHub issues using PowerShell and shell scripts to automate issue duplication and improve workflow efficiency]]></summary></entry><entry><title type="html">Document Management System with ASP.NET Core and Azure Blob Storage: Complete Implementation Guide</title><link href="https://mahedee.net/Document_Management_System_with_ASP_NET_Core_and_Azure_Blob_Storage/" rel="alternate" type="text/html" title="Document Management System with ASP.NET Core and Azure Blob Storage: Complete Implementation Guide" /><published>2025-10-21T00:00:00-04:00</published><updated>2025-10-21T00:00:00-04:00</updated><id>https://mahedee.net/Document_Management_System_with_ASP_NET_Core_and_Azure_Blob_Storage</id><content type="html" xml:base="https://mahedee.net/Document_Management_System_with_ASP_NET_Core_and_Azure_Blob_Storage/"><![CDATA[<!-- Article banner image (optional) -->
<!-- ![Document Management System Banner](./images/dms-banner.png) -->

<p><strong>Introduction</strong></p>

<p>A <strong>Document Management System (DMS)</strong> is a critical component in modern business applications, enabling secure storage, retrieval, and management of digital documents. This comprehensive guide demonstrates how to build a production-ready DMS using <strong>ASP.NET Core Web API</strong> integrated with <strong>Azure Blob Storage</strong>.</p>

<p><strong>🎯 What We Are Building</strong></p>

<p>A Document Management System that:</p>

<ul>
  <li>Supports uploads: PDF, JPG, PNG, MP4</li>
  <li>Stores files in Azure Blob Storage</li>
  <li>Persists document metadata in a database</li>
</ul>

<p><strong>Users can:</strong></p>

<ul>
  <li>Upload documents</li>
  <li>Download or view documents</li>
  <li>List documents by customer</li>
  <li>Delete documents (if allowed)</li>
</ul>

<p>Let’s develop the application step-by-step using azure blob storage for file handling and ASP.NET Core for the API.</p>

<p><strong>🛠️ Technologies Used</strong></p>
<ul>
  <li>ASP.NET Core Web API</li>
  <li>Azure Blob Storage</li>
  <li>Entity Framework Core</li>
  <li>SQL Server (or any relational database)</li>
  <li>C#</li>
  <li>Swagger for API documentation</li>
</ul>

<p><strong>Step 1: Create Azure Blob Storage</strong>
First, create an Azure Blob Storage account to store the documents. You can do this via the Azure Portal or using the Azure CLI.</p>

<ul>
  <li>In Azure Portal:
    <ul>
      <li>Create Storage Account</li>
      <li>Performance: Standard</li>
      <li>Redundancy: LRS</li>
    </ul>
  </li>
</ul>

<p><img src="/assets/images/posts/2025/001_create_a_new_container.png" alt="" /></p>

<ul>
  <li>Create Blob Container
    <ul>
      <li>Container name: documents</li>
      <li>Access level: Private</li>
    </ul>
  </li>
</ul>

<p><img src="/assets/images/posts/2025/001_create_a_new_container.png" alt="" /></p>

<ul>
  <li>Get Connection String</li>
</ul>

<p>Storage Account → Access keys → Connection string</p>

<p>or use Azure CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>az storage account show-connection-string <span class="nt">--name</span> &lt;your-storage-account-name&gt; <span class="nt">--resource-group</span> &lt;your-resource-group&gt;
</code></pre></div></div>
<p>Example</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> az storage account show-connection-string <span class="nt">--name</span> mahedeeblobstorage01 <span class="nt">--resource-group</span> BlobStorageRGh
</code></pre></div></div>

<p>Output:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
 </span><span class="nl">"connectionString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=mahedeeblobstorage01;AccountKey=APCKnzRKEeF4+SaUabbXRSiM0ujmaG/lRY/L/KlggL3/FYCy/zzEZY7lZkFsFkrMDmFiUjzZCXRdlZE+ASt3OhCzg==;BlobEndpoint=https://mahedeeblobstorage01.blob.core.windows.net/;FileEndpoint=https://mahedeeblobstorage01.file.core.windows.net/;QueueEndpoint=https://mahedeeblobstorage01.queue.core.windows.net/;TableEndpoint=https://mahedeeblobstorage01.table.core.windows.net/"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Troubleshooting Tips:</strong></p>
<ul>
  <li>If Azure CLI fails to create the storage account, check local firewall/proxy settings. Temporarily disabling the firewall allowed the command to succeed and the connection string to be retrieved. Prefer whitelisting Azure endpoints or adjusting proxy rules rather than fully disabling the firewall.</li>
</ul>

<p><strong>Step 2: Create Database (Metadata)</strong></p>
<ul>
  <li>Create a new database in your local server name - DocumentDB</li>
  <li>Create a table to store document metadata</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">DocumentDB</span><span class="p">;</span>
<span class="k">GO</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">DOCUMENTS</span> <span class="p">(</span>
    <span class="n">ID</span> <span class="n">UNIQUEIDENTIFIER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="k">DEFAULT</span> <span class="n">NEWID</span><span class="p">(),</span>
    <span class="n">FILE_NAME</span> <span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>           <span class="c1">-- Blob file name in Azure</span>
    <span class="n">ORIGINAL_FILE_NAME</span> <span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>  <span class="c1">-- Original uploaded file name</span>
    <span class="n">CUSTOMER_ID</span> <span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">UPLOADED_BY</span> <span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
    <span class="n">UPLOAD_DATE</span> <span class="nb">DATETIME</span> <span class="k">DEFAULT</span> <span class="n">GETDATE</span><span class="p">(),</span>
    <span class="n">CONTENT_TYPE</span> <span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="p">);</span>
<span class="k">GO</span>
</code></pre></div></div>

<p><strong>Step 3: Create ASP.NET Core Web API Project</strong></p>
<ul>
  <li>Open Visual Studio and create a new ASP.NET Core Web API project named DMS.Api</li>
  <li>Install necessary NuGet packages:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dotnet add package Azure.Storage.Blobs
dotnet add package Microsoft.EntityFrameworkCore
dotnet add package Microsoft.EntityFrameworkCore.SqlServer
dotnet add package Microsoft.EntityFrameworkCore.Tools
dotnet add package Swashbuckle.AspNetCore
dotnet add Microsoft.AspNetCore.OpenApi
</code></pre></div></div>

<p><strong>Step 4: Configure appsettings.json</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"AzureBlob"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"connectionString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=mahedeeblobstorage01;AccountKey=APCKnzRKEeF4+SaUabbXRSiM0ujmaG/lRY/L/KlggL3/FYCy/zzEZY7lZkFsFkrMDmFiUjzZCXRdlZE+ASt3OhCzg==;BlobEndpoint=https://mahedeeblobstorage01.blob.core.windows.net/;FileEndpoint=https://mahedeeblobstorage01.file.core.windows.net/;QueueEndpoint=https://mahedeeblobstorage01.queue.core.windows.net/;TableEndpoint=https://mahedeeblobstorage01.table.core.windows.net/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ContainerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"documents"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"ConnectionStrings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"DefaultConnection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Server=.;Database=DocumentDB; User Id = sa; Password = mypassword; TrustServerCertificate=True;"</span><span class="w">
  </span><span class="p">},</span><span class="w">

  </span><span class="nl">"Logging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"LogLevel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Microsoft.AspNetCore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Warning"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"AllowedHosts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Step 5: Implement the Document Entity</strong></p>

<p>Create Document.cs in Models folder</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">namespace</span> <span class="nn">DMS.Api.Models</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Document</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">Guid</span> <span class="n">Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">required</span> <span class="kt">string</span> <span class="n">FileName</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>          <span class="c1">// stored in blob</span>
        <span class="k">public</span> <span class="n">required</span> <span class="kt">string</span> <span class="n">OriginalFileName</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>  <span class="c1">// user file name</span>
        <span class="k">public</span> <span class="n">required</span> <span class="kt">string</span> <span class="n">CustomerId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">required</span> <span class="kt">string</span> <span class="n">UploadedBy</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">DateTime</span> <span class="n">UploadDate</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">required</span> <span class="kt">string</span> <span class="n">ContentType</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Step 6: Implement the DbContext</strong>
Create DmsDbContext.cs in Data folder</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">DMS.Api.Models</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.EntityFrameworkCore</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DMS.Api.Data</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">ApplicationDbContext</span> <span class="p">:</span> <span class="n">DbContext</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">ApplicationDbContext</span><span class="p">(</span><span class="n">DbContextOptions</span><span class="p">&lt;</span><span class="n">ApplicationDbContext</span><span class="p">&gt;</span> <span class="n">options</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="n">DbSet</span><span class="p">&lt;</span><span class="n">Document</span><span class="p">&gt;</span> <span class="n">Documents</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnModelCreating</span><span class="p">(</span><span class="n">ModelBuilder</span> <span class="n">modelBuilder</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">base</span><span class="p">.</span><span class="nf">OnModelCreating</span><span class="p">(</span><span class="n">modelBuilder</span><span class="p">);</span>

            <span class="c1">// Configure Document entity</span>
            <span class="n">modelBuilder</span><span class="p">.</span><span class="n">Entity</span><span class="p">&lt;</span><span class="n">Document</span><span class="p">&gt;(</span><span class="n">entity</span> <span class="p">=&gt;</span>
            <span class="p">{</span>
                <span class="n">entity</span><span class="p">.</span><span class="nf">HasKey</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Id</span><span class="p">);</span>
                <span class="n">entity</span><span class="p">.</span><span class="nf">Property</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">FileName</span><span class="p">).</span><span class="nf">IsRequired</span><span class="p">().</span><span class="nf">HasMaxLength</span><span class="p">(</span><span class="m">255</span><span class="p">);</span>
                <span class="n">entity</span><span class="p">.</span><span class="nf">Property</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">OriginalFileName</span><span class="p">).</span><span class="nf">IsRequired</span><span class="p">().</span><span class="nf">HasMaxLength</span><span class="p">(</span><span class="m">255</span><span class="p">);</span>
                <span class="n">entity</span><span class="p">.</span><span class="nf">Property</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">CustomerId</span><span class="p">).</span><span class="nf">IsRequired</span><span class="p">().</span><span class="nf">HasMaxLength</span><span class="p">(</span><span class="m">100</span><span class="p">);</span>
                <span class="n">entity</span><span class="p">.</span><span class="nf">Property</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">UploadedBy</span><span class="p">).</span><span class="nf">IsRequired</span><span class="p">().</span><span class="nf">HasMaxLength</span><span class="p">(</span><span class="m">100</span><span class="p">);</span>
                <span class="n">entity</span><span class="p">.</span><span class="nf">Property</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">ContentType</span><span class="p">).</span><span class="nf">IsRequired</span><span class="p">().</span><span class="nf">HasMaxLength</span><span class="p">(</span><span class="m">100</span><span class="p">);</span>
                <span class="n">entity</span><span class="p">.</span><span class="nf">Property</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">UploadDate</span><span class="p">).</span><span class="nf">IsRequired</span><span class="p">();</span>
            <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Step 7: Implement Azure Blob Storage Service</strong></p>

<p>Create BlobService.cs in Services folder</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">Azure.Storage.Blobs</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DMS.Api.Services</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">BlobStorageService</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">BlobContainerClient</span> <span class="n">_container</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">BlobStorageService</span><span class="p">(</span><span class="n">IConfiguration</span> <span class="n">config</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">_container</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">BlobContainerClient</span><span class="p">(</span>
                <span class="n">config</span><span class="p">[</span><span class="s">"AzureBlob:ConnectionString"</span><span class="p">],</span>
                <span class="n">config</span><span class="p">[</span><span class="s">"AzureBlob:ContainerName"</span><span class="p">]);</span>

            <span class="n">_container</span><span class="p">.</span><span class="nf">CreateIfNotExists</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">UploadAsync</span><span class="p">(</span><span class="kt">string</span> <span class="n">fileName</span><span class="p">,</span> <span class="n">Stream</span> <span class="n">stream</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">blob</span> <span class="p">=</span> <span class="n">_container</span><span class="p">.</span><span class="nf">GetBlobClient</span><span class="p">(</span><span class="n">fileName</span><span class="p">);</span>
            <span class="k">await</span> <span class="n">blob</span><span class="p">.</span><span class="nf">UploadAsync</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="k">true</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">Stream</span><span class="p">&gt;</span> <span class="nf">DownloadAsync</span><span class="p">(</span><span class="kt">string</span> <span class="n">fileName</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">blob</span> <span class="p">=</span> <span class="n">_container</span><span class="p">.</span><span class="nf">GetBlobClient</span><span class="p">(</span><span class="n">fileName</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">blob</span><span class="p">.</span><span class="nf">DownloadAsync</span><span class="p">();</span>
            <span class="k">return</span> <span class="n">result</span><span class="p">.</span><span class="n">Value</span><span class="p">.</span><span class="n">Content</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">DeleteAsync</span><span class="p">(</span><span class="kt">string</span> <span class="n">fileName</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">blob</span> <span class="p">=</span> <span class="n">_container</span><span class="p">.</span><span class="nf">GetBlobClient</span><span class="p">(</span><span class="n">fileName</span><span class="p">);</span>
            <span class="k">await</span> <span class="n">blob</span><span class="p">.</span><span class="nf">DeleteIfExistsAsync</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Step 8: Implement Document Controller</strong></p>

<p>Create DocumentController.cs in Controllers folder</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">DMS.Api.Data</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">DMS.Api.Models</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">DMS.Api.Services</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Mvc</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.EntityFrameworkCore</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DMS.Api.Controllers</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">ApiController</span><span class="p">]</span>
    <span class="p">[</span><span class="nf">Route</span><span class="p">(</span><span class="s">"api/[controller]"</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">DocumentsController</span> <span class="p">:</span> <span class="n">ControllerBase</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">BlobStorageService</span> <span class="n">_blobService</span><span class="p">;</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">ApplicationDbContext</span> <span class="n">_db</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">DocumentsController</span><span class="p">(</span><span class="n">BlobStorageService</span> <span class="n">blobService</span><span class="p">,</span> <span class="n">ApplicationDbContext</span> <span class="n">db</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">_blobService</span> <span class="p">=</span> <span class="n">blobService</span><span class="p">;</span>
            <span class="n">_db</span> <span class="p">=</span> <span class="n">db</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="nf">HttpPost</span><span class="p">(</span><span class="s">"upload"</span><span class="p">)]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="nf">Upload</span><span class="p">(</span>
            <span class="n">IFormFile</span> <span class="n">file</span><span class="p">,</span>
            <span class="kt">string</span> <span class="n">customerId</span><span class="p">,</span><span class="m">0</span>
            <span class="kt">string</span> <span class="n">uploadedBy</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">uniqueFileName</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">()}{</span><span class="n">Path</span><span class="p">.</span><span class="nf">GetExtension</span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="n">FileName</span><span class="p">)}</span><span class="s">"</span><span class="p">;</span>

            <span class="k">await</span> <span class="n">_blobService</span><span class="p">.</span><span class="nf">UploadAsync</span><span class="p">(</span><span class="n">uniqueFileName</span><span class="p">,</span> <span class="n">file</span><span class="p">.</span><span class="nf">OpenReadStream</span><span class="p">());</span>

            <span class="kt">var</span> <span class="n">document</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Document</span>
            <span class="p">{</span>
                <span class="n">Id</span> <span class="p">=</span> <span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">(),</span>
                <span class="n">FileName</span> <span class="p">=</span> <span class="n">uniqueFileName</span><span class="p">,</span>
                <span class="n">OriginalFileName</span> <span class="p">=</span> <span class="n">file</span><span class="p">.</span><span class="n">FileName</span><span class="p">,</span>
                <span class="n">CustomerId</span> <span class="p">=</span> <span class="n">customerId</span><span class="p">,</span>
                <span class="n">UploadedBy</span> <span class="p">=</span> <span class="n">uploadedBy</span><span class="p">,</span>
                <span class="n">UploadDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">,</span>
                <span class="n">ContentType</span> <span class="p">=</span> <span class="n">file</span><span class="p">.</span><span class="n">ContentType</span>
            <span class="p">};</span>

            <span class="n">_db</span><span class="p">.</span><span class="n">Documents</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">document</span><span class="p">);</span>
            <span class="k">await</span> <span class="n">_db</span><span class="p">.</span><span class="nf">SaveChangesAsync</span><span class="p">();</span>

            <span class="k">return</span> <span class="nf">Ok</span><span class="p">(</span><span class="n">document</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="nf">HttpGet</span><span class="p">(</span><span class="s">"{id}"</span><span class="p">)]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="nf">Download</span><span class="p">(</span><span class="n">Guid</span> <span class="n">id</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">doc</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_db</span><span class="p">.</span><span class="n">Documents</span><span class="p">.</span><span class="nf">FindAsync</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">doc</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span> <span class="nf">NotFound</span><span class="p">();</span>

            <span class="kt">var</span> <span class="n">stream</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_blobService</span><span class="p">.</span><span class="nf">DownloadAsync</span><span class="p">(</span><span class="n">doc</span><span class="p">.</span><span class="n">FileName</span><span class="p">);</span>
            <span class="k">return</span> <span class="nf">File</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">doc</span><span class="p">.</span><span class="n">ContentType</span><span class="p">,</span> <span class="n">doc</span><span class="p">.</span><span class="n">OriginalFileName</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="nf">HttpGet</span><span class="p">(</span><span class="s">"customer/{customerId}"</span><span class="p">)]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="nf">GetByCustomer</span><span class="p">(</span><span class="kt">string</span> <span class="n">customerId</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">docs</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_db</span><span class="p">.</span><span class="n">Documents</span>
                <span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">d</span> <span class="p">=&gt;</span> <span class="n">d</span><span class="p">.</span><span class="n">CustomerId</span> <span class="p">==</span> <span class="n">customerId</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">ToListAsync</span><span class="p">();</span>

            <span class="k">return</span> <span class="nf">Ok</span><span class="p">(</span><span class="n">docs</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">HttpGet</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="nf">GetAllDocuments</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">docs</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_db</span><span class="p">.</span><span class="n">Documents</span>
                <span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">d</span> <span class="p">=&gt;</span> <span class="k">new</span>
                <span class="p">{</span>
                    <span class="n">d</span><span class="p">.</span><span class="n">Id</span><span class="p">,</span>
                    <span class="n">d</span><span class="p">.</span><span class="n">FileName</span><span class="p">,</span>
                    <span class="n">d</span><span class="p">.</span><span class="n">OriginalFileName</span><span class="p">,</span>
                    <span class="n">d</span><span class="p">.</span><span class="n">CustomerId</span>
                <span class="p">})</span>
                <span class="p">.</span><span class="nf">ToListAsync</span><span class="p">();</span>

            <span class="k">return</span> <span class="nf">Ok</span><span class="p">(</span><span class="n">docs</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="nf">HttpDelete</span><span class="p">(</span><span class="s">"{id}"</span><span class="p">)]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="nf">Delete</span><span class="p">(</span><span class="n">Guid</span> <span class="n">id</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">doc</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_db</span><span class="p">.</span><span class="n">Documents</span><span class="p">.</span><span class="nf">FindAsync</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">doc</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span> <span class="nf">NotFound</span><span class="p">();</span>

            <span class="k">await</span> <span class="n">_blobService</span><span class="p">.</span><span class="nf">DeleteAsync</span><span class="p">(</span><span class="n">doc</span><span class="p">.</span><span class="n">FileName</span><span class="p">);</span>

            <span class="n">_db</span><span class="p">.</span><span class="n">Documents</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="n">doc</span><span class="p">);</span>
            <span class="k">await</span> <span class="n">_db</span><span class="p">.</span><span class="nf">SaveChangesAsync</span><span class="p">();</span>

            <span class="k">return</span> <span class="nf">Ok</span><span class="p">(</span><span class="s">"Deleted"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Step 9: Configure Services in Program.cs</strong></p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">DMS.Api.Data</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">DMS.Api.Services</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.EntityFrameworkCore</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">builder</span> <span class="p">=</span> <span class="n">WebApplication</span><span class="p">.</span><span class="nf">CreateBuilder</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>

<span class="c1">// Add Entity Framework</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddDbContext</span><span class="p">&lt;</span><span class="n">ApplicationDbContext</span><span class="p">&gt;(</span><span class="n">options</span> <span class="p">=&gt;</span>
    <span class="n">options</span><span class="p">.</span><span class="nf">UseSqlServer</span><span class="p">(</span><span class="n">builder</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="nf">GetConnectionString</span><span class="p">(</span><span class="s">"DefaultConnection"</span><span class="p">)));</span>

<span class="c1">// Add Azure Blob Storage Service</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddScoped</span><span class="p">&lt;</span><span class="n">BlobStorageService</span><span class="p">&gt;();</span>

<span class="c1">// Add controllers</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="nf">AddControllers</span><span class="p">();</span>

<span class="c1">// Add services to the container.</span>
<span class="c1">// Learn more about configuring Swagger/OpenAPI at https://aka.ms/aspnetcore/swashbuckle</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="nf">AddEndpointsApiExplorer</span><span class="p">();</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="nf">AddSwaggerGen</span><span class="p">();</span>

<span class="kt">var</span> <span class="n">app</span> <span class="p">=</span> <span class="n">builder</span><span class="p">.</span><span class="nf">Build</span><span class="p">();</span>

<span class="c1">// Configure the HTTP request pipeline.</span>
<span class="k">if</span> <span class="p">(</span><span class="n">app</span><span class="p">.</span><span class="n">Environment</span><span class="p">.</span><span class="nf">IsDevelopment</span><span class="p">())</span>
<span class="p">{</span>
    <span class="n">app</span><span class="p">.</span><span class="nf">UseSwagger</span><span class="p">();</span>
    <span class="n">app</span><span class="p">.</span><span class="nf">UseSwaggerUI</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">app</span><span class="p">.</span><span class="nf">UseHttpsRedirection</span><span class="p">();</span>

<span class="c1">// Map controllers</span>
<span class="n">app</span><span class="p">.</span><span class="nf">MapControllers</span><span class="p">();</span>

<span class="n">app</span><span class="p">.</span><span class="nf">Run</span><span class="p">();</span>
</code></pre></div></div>

<p><strong>Step 10: Run and Test the API</strong></p>
<ul>
  <li>Run the application and browse to Swagger UI at <code class="language-plaintext highlighter-rouge">http://localhost:5284/swagger/index.html</code></li>
  <li>Test the endpoints:
    <ul>
      <li>Upload documents</li>
      <li>Download/view documents</li>
      <li>List documents by customer</li>
      <li>Delete documents</li>
    </ul>
  </li>
</ul>

<p><img src="/assets/images/posts/2025/dms_swagger_ui.png" alt="" /></p>

<p>If you see in azure portal the uploaded files in blob container and metadata in database table, congratulations! You have successfully built a Document Management System using ASP.NET Core Web API and Azure Blob Storage.</p>

<p><img src="/assets/images/posts/2025/dms_file_in_azure_blob_storage.png" alt="" /></p>

<p><strong><a href="https://github.com/mahedee/code-sample02/tree/master/dms-azure-blob-aspnet">Source code</a></strong></p>]]></content><author><name>Mahedee Hasan</name></author><category term="Web Development" /><category term="ASP.NET Core" /><category term="Cloud Computing" /><category term="Software Architecture" /><category term="Web API" /><category term="asp-net-core" /><category term="azure-blob-storage" /><category term="document-management" /><category term="web-api" /><category term="entity-framework" /><category term="file-upload" /><category term="cloud-storage" /><category term="rest-api" /><category term="csharp" /><category term="dotnet" /><category term="microsoft-azure" /><category term="database-design" /><category term="software-development" /><category term="cloud-integration" /><summary type="html"><![CDATA[Learn how to build a robust Document Management System using ASP.NET Core Web API integrated with Azure Blob Storage. This comprehensive guide covers complete implementation, architecture patterns, and best practices for secure file handling and storage.]]></summary></entry><entry><title type="html">Build Java Projects Offline: A Practical Guide to Using Maven Local Repository on Windows</title><link href="https://mahedee.net/build-java-projects-offline-maven-local-repository-windows/" rel="alternate" type="text/html" title="Build Java Projects Offline: A Practical Guide to Using Maven Local Repository on Windows" /><published>2025-09-03T00:00:00-04:00</published><updated>2025-09-03T00:00:00-04:00</updated><id>https://mahedee.net/build-java-projects-offline-maven-local-repository-windows</id><content type="html" xml:base="https://mahedee.net/build-java-projects-offline-maven-local-repository-windows/"><![CDATA[<!-- Article banner image (optional) -->
<!-- ![Document Management System Banner](./images/dms-banner.png) -->

<p><strong>Introduction</strong></p>

<p>In many enterprise and corporate environments, Java developers don’t always have the luxury of unrestricted internet access. Firewalls, security policies, or isolated build servers can prevent Maven from downloading dependencies directly from public repositories like Maven Central. When that happens, even a simple mvn clean install can fail and bring development to a halt.</p>

<p>Fortunately, Maven is designed to work just as well in offline and restricted environments—if you know how to use its local repository correctly. By manually downloading required JAR files and installing them into a local Maven repository, you can continue building and running Java projects without relying on an internet connection.</p>

<p>In this article, you’ll learn how to build Java projects completely offline on Windows using Maven’s local repository. We’ll walk through creating a simple Maven project, manually installing dependencies, enabling offline mode, and building the application using VS Code as the editor. By the end, you’ll have a practical, repeatable approach that works perfectly behind firewalls, on secured machines, or in air-gapped environments.</p>

<p><strong>Prerequisites</strong></p>

<p>Make sure you have the following installed:</p>
<ul>
  <li>Java JDK 8+</li>
  <li>Apache Maven</li>
  <li>VS Code</li>
  <li>Java Extension Pack for VS Code</li>
</ul>

<p>Verify installation:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java <span class="nt">-version</span>
mvn <span class="nt">-version</span>
</code></pre></div></div>

<p><strong>Step 1: Understand Maven Local Repository</strong></p>

<p>By default, Maven stores dependencies in:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C:<span class="se">\U</span>sers<span class="se">\&lt;</span>your-username&gt;<span class="se">\.</span>m2<span class="se">\r</span>epository
</code></pre></div></div>

<p>This is called the local repository.
When you run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn clean <span class="nb">install</span>
</code></pre></div></div>

<p>Maven:</p>
<ul>
  <li>Checks the local repository</li>
  <li>If missing, downloads from the internet</li>
  <li>Saves it locally</li>
</ul>

<p>👉 Our goal is to skip step 2 and work offline only.</p>

<p><strong>Step 2: Create a Simple Maven Project</strong></p>

<ul>
  <li>Open VS Code</li>
  <li>Type <code class="language-plaintext highlighter-rouge">Ctrl + Shift + P</code> to open Command Palette</li>
  <li>Type <code class="language-plaintext highlighter-rouge">Maven: Create Maven Project</code></li>
  <li>Select ‘No Archetype’ and follow prompts to create a basic project</li>
  <li>In my case - groupId: com.mahedee, artifactId: offline-demo</li>
</ul>

<p><strong>Step 3: Choose a Library (Example: Apache Commons Lang)</strong></p>

<p>We will use Apache Commons Lang. The purpose of us using this library is to convert a string to upper case.</p>

<p>Normally, you would add this dependency:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.apache.commons<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>commons-lang3<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>3.14.0<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<p>But instead of letting Maven download it, we will do it manually.</p>

<p><strong>Step 4: Download Required Dependencies Manually</strong></p>

<p>Since we’re working offline, we need to manually download all required JAR files and POM files. Here’s the complete list:</p>

<p><strong>Primary dependency:</strong></p>
<ol>
  <li><strong>commons-lang3-3.14.0.jar</strong>
    <ul>
      <li>URL: https://repo1.maven.org/maven2/org/apache/commons/commons-lang3/3.14.0/commons-lang3-3.14.0.jar</li>
      <li>Save to: <code class="language-plaintext highlighter-rouge">C:\Users\mahedee\Downloads\commons-lang3-3.14.0.jar</code></li>
    </ul>
  </li>
</ol>

<p><strong>Required dependencies and POMs:</strong></p>
<ol>
  <li><strong>maven-shared-utils-3.3.4.jar</strong>
    <ul>
      <li>URL: https://repo1.maven.org/maven2/org/apache/maven/shared/maven-shared-utils/3.3.4/maven-shared-utils-3.3.4.jar</li>
      <li>Save to: <code class="language-plaintext highlighter-rouge">C:\Users\mahedee\Downloads\maven-shared-utils-3.3.4.jar</code></li>
    </ul>
  </li>
  <li><strong>commons-io-2.6.jar</strong>
    <ul>
      <li>URL: https://repo1.maven.org/maven2/commons-io/commons-io/2.6/commons-io-2.6.jar</li>
      <li>Save to: <code class="language-plaintext highlighter-rouge">C:\Users\mahedee\Downloads\commons-io-2.6.jar</code></li>
    </ul>
  </li>
  <li><strong>commons-io-2.6.pom</strong>
    <ul>
      <li>URL: https://repo1.maven.org/maven2/commons-io/commons-io/2.6/commons-io-2.6.pom</li>
      <li>Save to: <code class="language-plaintext highlighter-rouge">C:\Users\mahedee\Downloads\commons-io-2.6.pom</code></li>
    </ul>
  </li>
  <li><strong>maven-shared-components-34.pom</strong>
    <ul>
      <li>URL: https://repo1.maven.org/maven2/org/apache/maven/shared/maven-shared-components/34/maven-shared-components-34.pom</li>
      <li>Save to: <code class="language-plaintext highlighter-rouge">C:\Users\mahedee\Downloads\maven-shared-components-34.pom</code></li>
    </ul>
  </li>
  <li><strong>commons-parent-42.pom</strong>
    <ul>
      <li>URL: https://repo1.maven.org/maven2/org/apache/commons/commons-parent/42/commons-parent-42.pom</li>
      <li>Save to: <code class="language-plaintext highlighter-rouge">C:\Users\mahedee\Downloads\commons-parent-42.pom</code></li>
    </ul>
  </li>
  <li><strong>apache-18.pom</strong>
    <ul>
      <li>URL: https://repo1.maven.org/maven2/org/apache/apache/18/apache-18.pom</li>
      <li>Save to: <code class="language-plaintext highlighter-rouge">C:\Users\mahedee\Downloads\apache-18.pom</code></li>
    </ul>
  </li>
</ol>

<p>💡 <strong>Pro Tip:</strong> Create a <code class="language-plaintext highlighter-rouge">C:\temp\offline-jars</code> folder to organize all downloaded files in one place.</p>

<p><strong>Step 5: Install Dependencies into Local Maven Repository</strong></p>

<p><strong>Setup offline repository:</strong></p>
<ol>
  <li>Create an offline repository folder:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>C:<span class="se">\U</span>sers<span class="se">\%</span>USERNAME%<span class="se">\.</span>m2<span class="se">\o</span>ffline-repository
</code></pre></div>    </div>
  </li>
  <li>Open PowerShell in your project directory (where pom.xml is located)</li>
</ol>

<p><strong>Install all dependencies systematically:</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install commons-lang3 JAR</span>
mvn <span class="nb">install</span>:install-file <span class="s2">"-Dfile=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\m</span><span class="s2">ahedee</span><span class="se">\D</span><span class="s2">ownloads</span><span class="se">\c</span><span class="s2">ommons-lang3-3.14.0.jar"</span> <span class="s2">"-DgroupId=org.apache.commons"</span> <span class="s2">"-DartifactId=commons-lang3"</span> <span class="s2">"-Dversion=3.14.0"</span> <span class="s2">"-Dpackaging=jar"</span> <span class="s2">"-DlocalRepositoryPath=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\m</span><span class="s2">ahedee</span><span class="se">\.</span><span class="s2">m2</span><span class="se">\o</span><span class="s2">ffline-repository"</span>

<span class="c"># Install maven-shared-utils JAR</span>
mvn <span class="nb">install</span>:install-file <span class="s2">"-Dfile=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\m</span><span class="s2">ahedee</span><span class="se">\D</span><span class="s2">ownloads</span><span class="se">\m</span><span class="s2">aven-shared-utils-3.3.4.jar"</span> <span class="s2">"-DgroupId=org.apache.maven.shared"</span> <span class="s2">"-DartifactId=maven-shared-utils"</span> <span class="s2">"-Dversion=3.3.4"</span> <span class="s2">"-Dpackaging=jar"</span> <span class="s2">"-DlocalRepositoryPath=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\m</span><span class="s2">ahedee</span><span class="se">\.</span><span class="s2">m2</span><span class="se">\o</span><span class="s2">ffline-repository"</span>

<span class="c"># Install commons-io JAR</span>
mvn <span class="nb">install</span>:install-file <span class="s2">"-Dfile=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\m</span><span class="s2">ahedee</span><span class="se">\D</span><span class="s2">ownloads</span><span class="se">\c</span><span class="s2">ommons-io-2.6.jar"</span> <span class="s2">"-DgroupId=commons-io"</span> <span class="s2">"-DartifactId=commons-io"</span> <span class="s2">"-Dversion=2.6"</span> <span class="s2">"-Dpackaging=jar"</span> <span class="s2">"-DlocalRepositoryPath=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\%</span><span class="s2">USERNAME%</span><span class="se">\.</span><span class="s2">m2</span><span class="se">\o</span><span class="s2">ffline-repository"</span>

<span class="c"># Install commons-io POM</span>
mvn <span class="nb">install</span>:install-file <span class="s2">"-Dfile=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\m</span><span class="s2">ahedee</span><span class="se">\D</span><span class="s2">ownloads</span><span class="se">\c</span><span class="s2">ommons-io-2.6.pom"</span> <span class="s2">"-DgroupId=commons-io"</span> <span class="s2">"-DartifactId=commons-io"</span> <span class="s2">"-Dversion=2.6"</span> <span class="s2">"-Dpackaging=pom"</span> <span class="s2">"-DlocalRepositoryPath=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\%</span><span class="s2">USERNAME%</span><span class="se">\.</span><span class="s2">m2</span><span class="se">\o</span><span class="s2">ffline-repository"</span>

<span class="c"># Install maven-shared-components POM</span>
mvn <span class="nb">install</span>:install-file <span class="s2">"-Dfile=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\m</span><span class="s2">ahedee</span><span class="se">\D</span><span class="s2">ownloads</span><span class="se">\m</span><span class="s2">aven-shared-components-34.pom"</span> <span class="s2">"-DgroupId=org.apache.maven.shared"</span> <span class="s2">"-DartifactId=maven-shared-components"</span> <span class="s2">"-Dversion=34"</span> <span class="s2">"-Dpackaging=pom"</span> <span class="s2">"-Dmaven.repo.local=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\m</span><span class="s2">ahedee</span><span class="se">\.</span><span class="s2">m2</span><span class="se">\o</span><span class="s2">ffline-repository"</span>

<span class="c"># Install commons-parent POM</span>
mvn <span class="nb">install</span>:install-file <span class="s2">"-Dfile=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\m</span><span class="s2">ahedee</span><span class="se">\D</span><span class="s2">ownloads</span><span class="se">\c</span><span class="s2">ommons-parent-42.pom"</span> <span class="s2">"-DgroupId=org.apache.commons"</span> <span class="s2">"-DartifactId=commons-parent"</span> <span class="s2">"-Dversion=42"</span> <span class="s2">"-Dpackaging=pom"</span> <span class="s2">"-DlocalRepositoryPath=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\%</span><span class="s2">USERNAME%</span><span class="se">\.</span><span class="s2">m2</span><span class="se">\o</span><span class="s2">ffline-repository"</span>

<span class="c"># Install apache POM</span>
mvn <span class="nb">install</span>:install-file <span class="s2">"-Dfile=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\m</span><span class="s2">ahedee</span><span class="se">\D</span><span class="s2">ownloads</span><span class="se">\a</span><span class="s2">pache-18.pom"</span> <span class="s2">"-DgroupId=org.apache"</span> <span class="s2">"-DartifactId=apache"</span> <span class="s2">"-Dversion=18"</span> <span class="s2">"-Dpackaging=pom"</span> <span class="s2">"-DlocalRepositoryPath=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\%</span><span class="s2">USERNAME%</span><span class="se">\.</span><span class="s2">m2</span><span class="se">\o</span><span class="s2">ffline-repository"</span>
</code></pre></div></div>

<p>💡 <strong>Alternative approach:</strong></p>

<ul>
  <li>Download and install all dependencies for your project offline:
    <ul>
      <li>Navigate to the directory where your pom.xml file is located, then run the following command in your terminal or PowerShell:</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn dependency:go-offline <span class="s2">"-Dmaven.repo.local=C:</span><span class="se">\U</span><span class="s2">sers</span><span class="se">\m</span><span class="s2">ahedee</span><span class="se">\.</span><span class="s2">m2</span><span class="se">\o</span><span class="s2">ffline-repository"</span> 
</code></pre></div></div>

<p><strong>Verify installation:</strong></p>
<ul>
  <li>Navigate to <code class="language-plaintext highlighter-rouge">C:\Users\%USERNAME%\.m2\offline-repository</code></li>
  <li>Confirm that the dependency folders are created with proper Maven directory structure</li>
  <li>You should see folders like <code class="language-plaintext highlighter-rouge">org/apache/commons/commons-lang3/3.14.0/</code></li>
</ul>

<p><strong>Step 6: Configure Maven to Use the Offline Repository</strong></p>
<ul>
  <li>Open or create <code class="language-plaintext highlighter-rouge">settings.xml</code> in <code class="language-plaintext highlighter-rouge">C:\Users\&lt;your-username&gt;\.m2\</code></li>
  <li>Add the following configuration:</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;settings&gt;</span>
  <span class="nt">&lt;localRepository&gt;</span>C:\Users\<span class="nt">&lt;your-username&gt;</span>\.m2\offline-repository<span class="nt">&lt;/localRepository&gt;</span>
<span class="nt">&lt;/settings&gt;</span>
</code></pre></div></div>
<p><strong>Example:</strong></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;settings</span> <span class="na">xmlns=</span><span class="s">"http://maven.apache.org/SETTINGS/1.0.0"</span>
          <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
          <span class="na">xsi:schemaLocation=</span><span class="s">"http://maven.apache.org/SETTINGS/1.0.0 
                              http://maven.apache.org/xsd/settings-1.0.0.xsd"</span><span class="nt">&gt;</span>
  <span class="c">&lt;!-- Local repository location --&gt;</span>
  <span class="nt">&lt;localRepository&gt;</span>C:\Users\mahedee\.m2\offline-repository<span class="nt">&lt;/localRepository&gt;</span>
<span class="nt">&lt;/settings&gt;</span>
</code></pre></div></div>

<p><strong>Step 7: Add Dependency to pom.xml</strong></p>
<ul>
  <li>Open <code class="language-plaintext highlighter-rouge">pom.xml</code> in your Maven project</li>
  <li>Add the dependency for commons-lang3:</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.apache.commons<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>commons-lang3<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>3.14.0<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<p><strong>Step 8: Use the Library in Code</strong></p>

<p><strong>Edit Main.java:</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.mahedee</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.apache.commons.lang3.StringUtils</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">text</span> <span class="o">=</span> <span class="s">"Hello Maven Offline World"</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">StringUtils</span><span class="o">.</span><span class="na">upperCase</span><span class="o">(</span><span class="n">text</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>Step 9: Build the Project in Offline Mode</strong></p>

<p>Now disconnect from the internet (optional but recommended 😄).</p>

<p>Run:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn clean package <span class="nt">-o</span>
</code></pre></div></div>

<p>Important flag:</p>

<ul>
  <li>-o → offline mode</li>
</ul>

<p>If everything is correct, Maven will:</p>
<ul>
  <li>Use only the local repository</li>
  <li>Not try to download anything</li>
  <li>Build successfully 🎉</li>
</ul>

<p><strong>Step 10: Run the Application</strong></p>
<ul>
  <li>Now run the application using and see the output:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HELLO MAVEN OFFLINE WORLD

</code></pre></div></div>

<p><strong>Step 11: (Optional) Configure Maven to Always Use Local Repo</strong></p>

<p>You can enforce offline usage via settings.xml.</p>

<p>Create or edit:</p>

<div class="language-ps highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">C:\Users\</span><span class="p">&lt;</span><span class="nf">your-username</span><span class="p">&gt;</span><span class="nf">\.m2\settings.xml</span>
</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;settings&gt;</span>
    <span class="nt">&lt;offline&gt;</span>true<span class="nt">&lt;/offline&gt;</span>
<span class="nt">&lt;/settings&gt;</span>
</code></pre></div></div>

<p>⚠️ Use this carefully—Maven will never download dependencies.</p>

<p><strong>Conclusion</strong>
Building Java projects offline using Maven’s local repository on Windows is entirely feasible with the right approach. By manually downloading and installing necessary JAR files, configuring Maven to use a local repository, and leveraging offline mode, you can maintain productivity even in restricted environments. If this guide helped you, consider sharing it with your developer peers who might face similar challenges.</p>

<p><strong>Happy coding! 🚀</strong></p>]]></content><author><name>Mahedee Hasan</name></author><category term="Software Development" /><category term="Java" /><category term="Build Tools" /><category term="Maven" /><category term="Developer Tools" /><category term="DevOps" /><category term="java" /><category term="maven" /><category term="apache-maven" /><category term="maven-local-repository" /><category term="maven-offline" /><category term="offline-build" /><category term="dependency-management" /><category term="jar-files" /><category term="java-build" /><category term="build-automation" /><category term="enterprise-java" /><category term="software-engineering" /><category term="devops" /><category term="windows" /><category term="vs-code" /><category term="visual-studio-code" /><category term="developer-productivity" /><category term="best-practices" /><summary type="html"><![CDATA[Need to build Java projects without internet access? This guide walks through using Maven local repositories, manually installing JAR files, and building Java applications offline on Windows.]]></summary></entry><entry><title type="html">A Practical Guide to Comparing Local and Remote Git Changes</title><link href="https://mahedee.net/a_practical_guide_to_comparing_local_and_remote_git_changes/" rel="alternate" type="text/html" title="A Practical Guide to Comparing Local and Remote Git Changes" /><published>2025-08-07T00:00:00-04:00</published><updated>2025-08-07T00:00:00-04:00</updated><id>https://mahedee.net/a_practical_guide_to_comparing_local_and_remote_git_changes</id><content type="html" xml:base="https://mahedee.net/a_practical_guide_to_comparing_local_and_remote_git_changes/"><![CDATA[<!-- Article banner image (optional) -->
<!-- ![Document Management System Banner](./images/dms-banner.png) -->

<p><strong>Introduction</strong></p>

<p>In real-world software development, one mistake can easily slip into production—not because of bad code, but because changes were not reviewed properly before pushing.</p>

<p>Questions developers often ask themselves:</p>

<ul>
  <li>What exactly did I change locally?</li>
  <li>How different is my branch from origin/main?</li>
  <li>Will my push override someone else’s work?</li>
  <li>What will actually go into my Pull Request?</li>
</ul>

<p>If you’ve ever asked these questions, this article is for you.</p>

<p>In this guide, I’ll show you step by step how to compare your local changes with a remote branch, using both VS Code (visual) and Git commands (precise)—with real-world use cases you’ll face daily as a developer.</p>

<p><strong>Why This Matters in Real Projects</strong></p>

<p>Before jumping into commands and tools, let’s ground this in reality.</p>

<p><strong>Real-World Scenarios</strong></p>
<ul>
  <li>You finished a feature and want to review changes before pushing</li>
  <li>You’re about to create a Pull Request</li>
  <li>Another teammate pushed changes and you want to check for conflicts early</li>
  <li>You want to make sure only intended files go into the commit
In professional teams, checking differences against the remote branch is a must, not a nice-to-have.</li>
</ul>

<p>Now, let’s start comparing local and remote Git changes effectively using practical tools and commands and real-world examples. In this I will use one of my github repository - https://github.com/mahedee/file-generator</p>

<p>Assuming you have cloned the repository and made some local changes.</p>

<p><strong>Step 0: Always Fetch the Latest Remote Changes</strong></p>

<p>Before comparing anything, make sure your local repo knows about the latest remote state.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git fetch origin
</code></pre></div></div>

<p><strong>⚠️ Important:</strong></p>
<ul>
  <li>This updates remote references like origin/main</li>
  <li>It does not modify your local code</li>
  <li>Skipping this step is one of the most common Git mistakes.</li>
</ul>

<p><strong>Part 1: Comparing Changes Using VS Code (Visual Approach)</strong></p>

<p>VS Code has excellent built-in Git support. No extra plugins are required.
For best results, you can install the GitLens extension, but it’s optional.</p>

<p><strong>Step 1: Open Source Control</strong></p>

<ul>
  <li>Open VS Code in your project folder</li>
  <li>Open the Source Control panel: Go to View → Source Control</li>
  <li>Or, Shortcut: Ctrl + Shift + G</li>
  <li>Or, click the Source Control icon in the sidebar</li>
</ul>

<p>You’ll immediately see:</p>

<ul>
  <li>M → Modified files</li>
  <li>A → Added files</li>
  <li>D → Deleted files</li>
</ul>

<p>This shows your local changes, but not yet compared to remote.</p>

<p><img src="/assets/images/posts/2025/git_01_changes_in_vs.png" alt="" /></p>

<p><strong>Step 2: Compare Local Branch with Remote Branch</strong></p>
<ul>
  <li>Right-click on a changed file</li>
  <li>Choose Open Changes or Open Changes with…</li>
  <li>You will see the local changes on the right side and the previous version on the left side.</li>
</ul>

<p><img src="/assets/images/posts/2025/git_01_compare.png" alt="" /></p>

<p>Or,</p>
<ul>
  <li>Press Ctrl + Shift + P</li>
  <li>Search for:</li>
</ul>

<div class="language-ps highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">Git:</span> <span class="nf">Compare</span> <span class="nf">with</span> <span class="nf">Branch...</span>
<span class="nf">Or,</span> 
<span class="nf">Git:</span> <span class="nf">Open</span> <span class="nf">Changes</span>
</code></pre></div></div>
<ul>
  <li>Select the remote branch to compare against, e.g., origin/main
VS Code will now show:</li>
  <li>All files that differ between your local branch and the remote branch</li>
  <li>Side-by-side diff view</li>
</ul>

<p>This is ideal before pushing or creating a PR.</p>

<p><strong>Step 3: Review File-Level Differences</strong>
Click on any file to see:</p>
<ul>
  <li>Left panel → Remote branch version</li>
  <li>Right panel → Your local version</li>
</ul>

<p>Color indicators:</p>
<ul>
  <li>🟢 Added lines</li>
  <li>🔴 Removed lines</li>
  <li>🔵 Modified lines</li>
</ul>

<p>This visual review helps catch unintended changes quickly.</p>

<p><img src="/assets/images/posts/2025/git_02_individual_file_change_vs.png" alt="" /></p>

<p><strong>Step 4: Compare a Single File with Remote</strong></p>

<p>Sometimes you only care about one file.</p>
<ul>
  <li>Open the file</li>
  <li>Right-click inside the editor</li>
</ul>

<p>Choose: Open Changes -&gt; Open Changes with Branch or Tag…</p>

<p><img src="/assets/images/posts/2025/git_02_ind_file_compare.png" alt="" /></p>

<p><strong>Part 2: Comparing Changes Using Git Commands (Precise Approach)</strong></p>

<p>While VS Code is great visually, Git CLI gives absolute clarity—especially in complex situations.</p>

<p><strong>Step 1: Check Status of Local Changes</strong>
First, see what files are changed locally:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git status
</code></pre></div></div>

<p>This shows:</p>
<ul>
  <li>Modified files</li>
  <li>Untracked files</li>
  <li>Staged vs unstaged changes</li>
  <li>Whether you’re ahead, behind, or diverged from remote</li>
</ul>

<p><strong>Step 2: See Commit Differences</strong></p>

<ul>
  <li>Commits in local but not in remote:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log origin/dev..HEAD <span class="nt">--oneline</span>
</code></pre></div>    </div>
  </li>
  <li>Commits in remote but not in local:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log HEAD..origin/dev <span class="nt">--oneline</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>This is extremely useful before rebasing or pushing.</p>

<p><strong>Step 3: See Line-by-Line Differences</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff origin/dev
</code></pre></div></div>

<p>Shows:</p>
<ul>
  <li>Exact differences between your local working tree and remote branch</li>
  <li>This is the most commonly used comparison command.</li>
</ul>

<p><img src="/assets/images/posts/2025/git_04_diff.png" alt="" /></p>

<p><strong>Step 4: See Only File Names Changed</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff <span class="nt">--name-status</span> origin/dev
</code></pre></div></div>

<p>Sample output:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>M src/service/UserService.java
A src/service/NewFeature.java
D src/legacy/OldCode.java
</code></pre></div></div>

<p>Perfect for:</p>
<ul>
  <li>Impact analysis</li>
  <li>Code reviews</li>
  <li>Release summaries</li>
</ul>

<p><strong>Step 5: Compare Specific Files</strong>
To compare a specific file:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff origin/dev <span class="nt">--</span> path/to/your/file.ext
</code></pre></div></div>
<p>Example:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git diff origin/dev <span class="nt">--</span> file_generator_app/src/main/java/com/filegenerator/business/encryption/AESEncryptionEngine.java
</code></pre></div></div>

<p>This shows only changes in that file compared to remote.</p>

<p><strong>Step 6: Compare Only Committed Changes</strong></p>

<p>If you’ve already committed changes locally but haven’t pushed them yet:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff origin/main..HEAD
</code></pre></div></div>

<p>This command shows exactly what your local commits will add to the remote branch when pushed—perfect for final review before sharing your work.</p>

<p><strong>Part 3: Advanced Real-World Scenarios</strong></p>

<p><strong>Scenario 1: Feature Branch vs Main Branch</strong></p>

<p>Before opening a Pull Request, always review what changes will be included:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff origin/main..feature/login-enhancement
</code></pre></div></div>

<p>This command shows exactly what your PR will contain, helping you:</p>
<ul>
  <li>Ensure no unrelated changes are included</li>
  <li>Verify all intended features are present</li>
  <li>Catch any debugging code or temporary changes</li>
</ul>

<p><strong>Scenario 2: Safe Push Verification</strong></p>

<p>Before pushing to any shared branch, always run this safety check:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git fetch origin
git status
</code></pre></div></div>

<p>If you see output like:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Your branch is behind 'origin/main' by 3 commits
</code></pre></div></div>

<p>⚠️ <strong>Action Required:</strong> Pull or rebase first to avoid merge conflicts and potential overwrites.</p>

<p><strong>Scenario 3: Staged vs Unstaged Review</strong></p>

<p>Before committing, review both staged and unstaged changes separately:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff            <span class="c"># Shows unstaged changes</span>
git diff <span class="nt">--staged</span>   <span class="c"># Shows staged changes</span>
</code></pre></div></div>

<p>This two-step review prevents:</p>
<ul>
  <li>Accidentally committing debugging code</li>
  <li>Missing important changes that weren’t staged</li>
  <li>Creating incomplete or broken commits</li>
</ul>

<p><strong>Best Practices Checklist</strong></p>

<p>Follow this checklist for professional Git workflows:</p>

<p>✅ <strong>Always run <code class="language-plaintext highlighter-rouge">git fetch</code> before any comparison</strong><br />
✅ <strong>Compare against <code class="language-plaintext highlighter-rouge">origin/main</code>, not local <code class="language-plaintext highlighter-rouge">main</code></strong><br />
✅ <strong>Use VS Code for visual diff inspection</strong><br />
✅ <strong>Use Git CLI for precise command-line analysis</strong><br />
✅ <strong>Stage changes selectively using <code class="language-plaintext highlighter-rouge">git add -p</code></strong><br />
✅ <strong>Review diffs before every commit and push</strong><br />
✅ <strong>Verify branch status before pushing to shared repositories</strong></p>

<p><strong>Recommended Tool: GitLens Extension for VS Code</strong></p>

<p>While not required, the GitLens extension significantly enhances your Git workflow with:</p>

<ul>
  <li><strong>Line-level blame information</strong> - See who changed what and when</li>
  <li><strong>Rich file history visualization</strong> - Track changes over time</li>
  <li><strong>Advanced commit comparison</strong> - Side-by-side commit analysis</li>
  <li><strong>Team collaboration insights</strong> - Understand team contribution patterns</li>
</ul>

<p><strong>Installation:</strong> Search “GitLens” in VS Code Extensions and install it. Especially valuable for large codebases and team environments.</p>

<p><strong>Conclusion</strong></p>

<p>Comparing local changes with remote branches isn’t an advanced Git technique—it’s a fundamental professional practice that separates experienced developers from beginners.</p>

<p><strong>The Visual + Command-Line Approach:</strong></p>
<ul>
  <li><strong>VS Code</strong> provides intuitive visual feedback for quick reviews</li>
  <li><strong>Git CLI</strong> offers precise, scriptable analysis for complex scenarios</li>
</ul>

<p><strong>This workflow prevents common disasters:</strong></p>
<ul>
  <li>🚫 Broken builds reaching production</li>
  <li>🚫 Risky Pull Requests with unreviewed changes</li>
  <li>🚫 Accidental overwrites of team members’ work</li>
  <li>🚫 Emergency production fixes due to poor change management</li>
</ul>

<p>Make this comparison workflow part of your daily development routine. When you do, Git transforms from feeling unpredictable and risky to becoming a reliable, confidence-inspiring tool.</p>

<p><strong>Remember:</strong> Professional developers don’t just write code—they carefully manage and review every change before it affects others.</p>

<hr />

<p><em>Found this guide helpful? Share it with your development team and help create better Git practices across your organization.</em></p>

<p><strong>Happy coding! 🚀</strong></p>]]></content><author><name>Mahedee Hasan</name></author><category term="Software Development" /><category term="Version Control" /><category term="Git" /><category term="Developer Tools" /><category term="DevOps" /><category term="git" /><category term="git-branches" /><category term="git-diff" /><category term="git-workflow" /><category term="git-commands" /><category term="version-control" /><category term="source-control" /><category term="vs-code" /><category term="visual-studio-code" /><category term="github" /><category term="git-cli" /><category term="pull-request" /><category term="code-review" /><category term="developer-productivity" /><category term="software-engineering" /><category term="devops" /><category term="best-practices" /><summary type="html"><![CDATA[Not sure what will be pushed to origin/main? This guide shows how to compare local and remote Git branches using VS Code and Git commands to avoid accidental or risky changes.]]></summary></entry><entry><title type="html">Binary Tree Traversal Algorithms in Java: Complete Guide to Preorder, Inorder, Postorder, and Level Order Traversals</title><link href="https://mahedee.net/Binary_Tree_Traversal_Algorithms_using_java/" rel="alternate" type="text/html" title="Binary Tree Traversal Algorithms in Java: Complete Guide to Preorder, Inorder, Postorder, and Level Order Traversals" /><published>2025-07-05T00:00:00-04:00</published><updated>2025-07-05T00:00:00-04:00</updated><id>https://mahedee.net/Binary_Tree_Traversal_Algorithms_using_java</id><content type="html" xml:base="https://mahedee.net/Binary_Tree_Traversal_Algorithms_using_java/"><![CDATA[<!-- Article banner image (optional) -->
<!-- ![Binary Tree Traversal Banner](./images/binary-tree-traversal-banner.png) -->

<h2 id="introduction">Introduction</h2>

<p>Binary tree traversal algorithms are <strong>fundamental techniques</strong> in computer science that allow us to systematically visit every node in a binary tree exactly once. These algorithms form the backbone of many tree-based operations and are essential for understanding more complex data structures and algorithms.</p>

<p>🌳 <strong>What makes tree traversal special?</strong><br />
 Unlike linear data structures (arrays, linked lists), trees have multiple paths to reach different nodes, making the <strong>order of visitation</strong> crucial for different applications.</p>

<p>In this comprehensive guide, we’ll explore:</p>
<ul>
  <li>✅ <strong>Four major traversal algorithms</strong> with step-by-step explanations</li>
  <li>🔧 <strong>Complete Java implementations</strong> ready to use</li>
  <li>📊 <strong>Performance analysis</strong> and complexity comparisons</li>
  <li>🎯 <strong>Real-world applications</strong> and use cases</li>
  <li>💡 <strong>Best practices</strong> and optimization techniques</li>
</ul>

<hr />

<h2 id="table-of-contents">Table of Contents</h2>

<ol>
  <li><a href="#what-is-tree-traversal">What is Tree Traversal?</a></li>
  <li><a href="#types-of-tree-traversal">Types of Tree Traversal</a></li>
  <li><a href="#depth-first-traversals">Depth-First Traversals</a>
    <ul>
      <li><a href="#preorder-traversal">Preorder Traversal</a></li>
      <li><a href="#inorder-traversal">Inorder Traversal</a></li>
      <li><a href="#postorder-traversal">Postorder Traversal</a></li>
    </ul>
  </li>
  <li><a href="#breadth-first-traversal">Breadth-First Traversal</a></li>
  <li><a href="#complete-implementation">Complete Implementation</a></li>
  <li><a href="#performance-analysis">Performance Analysis</a></li>
  <li><a href="#practical-applications">Practical Applications</a></li>
  <li><a href="#comparison-guide">Comparison Guide</a></li>
  <li><a href="#advanced-techniques">Advanced Techniques</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
</ol>

<hr />

<h2 id="what-is-tree-traversal">What is Tree Traversal?</h2>

<p>Tree traversal is the process of <strong>visiting each node</strong> in a tree data structure exactly once in a systematic way. Think of it as taking a tour through a family tree or organizational chart - you want to visit everyone, but the order matters depending on your purpose.</p>

<h3 id="key-characteristics">Key Characteristics:</h3>
<ul>
  <li><strong>📍 Systematic</strong>: Follows a consistent, predictable pattern</li>
  <li><strong>✅ Complete</strong>: Visits every node exactly once</li>
  <li><strong>🔄 Ordered</strong>: The sequence of visits matters for different applications</li>
  <li><strong>⚡ Efficient</strong>: Optimized for specific use cases</li>
</ul>

<h3 id="why-traversal-order-matters">Why Traversal Order Matters:</h3>

<p align="center">
    <img src="/assets/images/posts/2025/org-diagram.png" alt="Organizational Chart" />
</p>

<p>Different traversal orders serve different purposes:
• Top-down: CEO → Managers → Employees (authority flow)
• Bottom-up: Employees → Managers → CEO (reporting flow)
• Left-to-right: Process departments in sequence</p>

<hr />

<h2 id="types-of-tree-traversal">Types of Tree Traversal</h2>

<p>Tree traversal algorithms can be broadly categorized into <strong>two main types</strong>:</p>

<h3 id="-1-depth-first-traversal-dfs">🔽 <strong>1. Depth-First Traversal (DFS)</strong></h3>
<p>Explores as far as possible along each branch before backtracking.</p>

<table>
  <thead>
    <tr>
      <th><strong>Type</strong></th>
      <th><strong>Order</strong></th>
      <th><strong>Best For</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Preorder</strong></td>
      <td>Root → Left → Right</td>
      <td>Tree copying, prefix expressions</td>
    </tr>
    <tr>
      <td><strong>Inorder</strong></td>
      <td>Left → Root → Right</td>
      <td>BST sorted output, expression trees</td>
    </tr>
    <tr>
      <td><strong>Postorder</strong></td>
      <td>Left → Right → Root</td>
      <td>Tree deletion, postfix expressions</td>
    </tr>
  </tbody>
</table>

<h3 id="-2-breadth-first-traversal-bfs">🔄 <strong>2. Breadth-First Traversal (BFS)</strong></h3>
<p>Explores all nodes at the current depth before moving to the next level.</p>

<table>
  <thead>
    <tr>
      <th><strong>Type</strong></th>
      <th><strong>Order</strong></th>
      <th><strong>Best For</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Level Order</strong></td>
      <td>Level by level, left to right</td>
      <td>Tree printing, shortest path, BFS</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="depth-first-traversals">Depth-First Traversals</h2>

<p>Depth-first traversals use a <strong>recursive approach</strong> (or stack-based iterative approach) and differ in the order they visit the current node relative to its children.</p>

<h3 id="example-tree-for-all-demonstrations">Example Tree for All Demonstrations:</h3>
<p align="center">
    <img src="/assets/images/posts/2025/tree-for-demo2.png" alt="Tree Diagram" />
</p>

<hr />

<h2 id="preorder-traversal">Preorder Traversal</h2>
<p>Preorder traversal is a type of depth-first traversal where the current node is processed first, then the left subtree, followed by the right subtree.</p>

<h3 id="order-root--left-subtree--right-subtree"><strong>Order</strong>: Root → Left Subtree → Right Subtree</h3>

<p><strong>Think of it as</strong>: “Visit me first, then explore my left side, then my right side”</p>

<h3 id="-algorithm">🔧 Algorithm:</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">preorder</span><span class="o">(</span><span class="n">node</span><span class="o">):</span>
    <span class="k">if</span> <span class="n">node</span> <span class="n">is</span> <span class="n">not</span> <span class="kc">null</span><span class="o">:</span>
        <span class="n">visit</span><span class="o">(</span><span class="n">node</span><span class="o">)</span>           <span class="c1">// ✅ Process current node FIRST</span>
        <span class="n">preorder</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span><span class="o">)</span>   <span class="c1">// 🔄 Traverse left subtree</span>
        <span class="n">preorder</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">right</span><span class="o">)</span>  <span class="c1">// 🔄 Traverse right subtree</span>
</code></pre></div></div>

<h3 id="preorder-result-a--b--d--g--e--c--f"><strong>Preorder Result</strong>: A → B → D → G → E → C → F</h3>

<h3 id="use-cases--applications"><strong>Use Cases &amp; Applications:</strong></h3>

<h4 id="1-tree-copying--cloning">1. <strong>Tree Copying &amp; Cloning</strong></h4>
<p><strong>Purpose</strong>: Creating an exact duplicate of a tree structure<br />
<strong>Why Preorder</strong>: Parent nodes must be created before their children to maintain proper structure<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input Tree</strong>: Company hierarchy with CEO → Managers → Employees</li>
  <li><strong>Process</strong>: Clone CEO first, then managers under CEO, then employees under each manager</li>
  <li><strong>Output</strong>: Identical organizational structure in a backup system</li>
</ul>

<h4 id="2-prefix-expression-evaluation">2. <strong>Prefix Expression Evaluation</strong></h4>
<p><strong>Purpose</strong>: Processing mathematical expressions in prefix notation (Polish notation)<br />
<strong>Why Preorder</strong>: Operators appear before operands, matching preorder’s root-first approach<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: <code class="language-plaintext highlighter-rouge">+ * 3 4 5</code> (meaning: (3 × 4) + 5)</li>
  <li><strong>Process</strong>: Process ‘+’ operator first, then evaluate ‘* 3 4’, then add ‘5’</li>
  <li><strong>Output</strong>: Result = 17</li>
</ul>

<h4 id="3-directory--file-system-traversal">3. <strong>Directory &amp; File System Traversal</strong></h4>
<p><strong>Purpose</strong>: Listing folder hierarchies with directories appearing before their contents<br />
<strong>Why Preorder</strong>: Folders must be displayed before showing what’s inside them<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Project folder structure</li>
  <li><strong>Process</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>📁 src/
  📁 main/
    📁 java/
      📄 Main.java
      📄 Utils.java
  📁 test/
    📄 TestMain.java
</code></pre></div>    </div>
  </li>
  <li><strong>Output</strong>: Hierarchical directory listing where folders appear before their files</li>
</ul>

<h4 id="4-tree-serialization--storage">4. <strong>Tree Serialization &amp; Storage</strong></h4>
<p><strong>Purpose</strong>: Converting tree structure to a linear format for storage or transmission<br />
<strong>Why Preorder</strong>: Root-first order ensures proper reconstruction sequence<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input Tree</strong>: Binary tree with nodes [A, B, C, D, E]</li>
  <li><strong>Process</strong>: Serialize in preorder sequence with null markers</li>
  <li><strong>Output</strong>: <code class="language-plaintext highlighter-rouge">"A,B,D,null,null,E,null,null,C,null,null"</code></li>
</ul>

<h4 id="5-htmlxml-document-processing">5. <strong>HTML/XML Document Processing</strong></h4>
<p><strong>Purpose</strong>: Processing nested document structures where parent elements contain children<br />
<strong>Why Preorder</strong>: Parent tags must be opened before processing child elements<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: HTML structure <code class="language-plaintext highlighter-rouge">&lt;div&gt;&lt;p&gt;Text&lt;/p&gt;&lt;span&gt;More&lt;/span&gt;&lt;/div&gt;</code></li>
  <li><strong>Process</strong>: Process <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> first, then <code class="language-plaintext highlighter-rouge">&lt;p&gt;</code>, then <code class="language-plaintext highlighter-rouge">&lt;span&gt;</code></li>
  <li><strong>Output</strong>: Properly rendered HTML with correct nesting</li>
</ul>

<h4 id="6-game-scene-graph-rendering">6. <strong>Game Scene Graph Rendering</strong></h4>
<p><strong>Purpose</strong>: Rendering 3D scenes where parent transformations affect children<br />
<strong>Why Preorder</strong>: Parent transformations must be applied before children inherit them<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Character → Body → Arm → Hand hierarchy</li>
  <li><strong>Process</strong>: Apply character position first, then body rotation, then arm movement</li>
  <li><strong>Output</strong>: Correctly transformed 3D model where hand moves with arm and body</li>
</ul>

<h4 id="7-organizational-chart-generation">7. <strong>Organizational Chart Generation</strong></h4>
<p><strong>Purpose</strong>: Creating visual representations of company or project hierarchies<br />
<strong>Why Preorder</strong>: Management levels must be established before showing subordinates<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Employee database with reporting relationships</li>
  <li><strong>Process</strong>: Display CEO first, then VPs, then managers, then individual contributors</li>
  <li><strong>Output</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CEO: John Smith
  VP Engineering: Jane Doe
    Senior Developer: Bob Wilson
    Junior Developer: Alice Brown
  VP Marketing: Mike Johnson
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="8-dependency-analysis--build-systems">8. <strong>Dependency Analysis &amp; Build Systems</strong></h4>
<p><strong>Purpose</strong>: Identifying what components depend on others in software projects<br />
<strong>Why Preorder</strong>: Dependencies must be identified before they can be resolved<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Module dependency tree where App → Database → Logger → FileSystem</li>
  <li><strong>Process</strong>: Map dependencies starting from root application</li>
  <li><strong>Output</strong>: Dependency list showing what needs to be built first: [FileSystem, Logger, Database, App]</li>
</ul>

<h3 id="️-complexity">⏱️ <strong>Complexity:</strong></h3>
<ul>
  <li><strong>Time</strong>: O(n) - visits each node once</li>
  <li><strong>Space</strong>: O(h) - where h is tree height (recursion stack)</li>
</ul>

<hr />

<h2 id="inorder-traversal">Inorder Traversal</h2>

<p>Inorder traversal is a type of depth-first traversal where the left subtree is processed first, then the current node, followed by the right subtree.</p>

<h3 id="order-left-subtree--root--right-subtree"><strong>Order</strong>: Left Subtree → Root → Right Subtree</h3>

<p><strong>Think of it as</strong>: “Explore my left side first, then visit me, then my right side”</p>

<h3 id="algorithm">Algorithm:</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">inorder</span><span class="o">(</span><span class="n">node</span><span class="o">):</span>
    <span class="k">if</span> <span class="n">node</span> <span class="n">is</span> <span class="n">not</span> <span class="kc">null</span><span class="o">:</span>
        <span class="n">inorder</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span><span class="o">)</span>    <span class="c1">// 🔄 Traverse left subtree FIRST</span>
        <span class="n">visit</span><span class="o">(</span><span class="n">node</span><span class="o">)</span>           <span class="c1">// ✅ Process current node</span>
        <span class="n">inorder</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">right</span><span class="o">)</span>   <span class="c1">// 🔄 Traverse right subtree</span>
</code></pre></div></div>

<h3 id="inorder-result-g--d--b--e--a--c--f"><strong>Inorder Result</strong>: G → D → B → E → A → C → F</h3>

<h3 id="use-cases--applications-1"><strong>Use Cases &amp; Applications:</strong></h3>

<h4 id="1-binary-search-tree-bst-data-retrieval">1. <strong>Binary Search Tree (BST) Data Retrieval</strong></h4>
<p><strong>Purpose</strong>: Extracting data from BSTs in sorted order without additional sorting<br />
<strong>Why Inorder</strong>: BST property ensures left &lt; root &lt; right, making inorder naturally sorted<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input BST</strong>: Employee database with salary nodes [50K, 30K, 70K, 25K, 35K, 60K, 80K]</li>
  <li><strong>Process</strong>: Traverse left subtree, visit root, traverse right subtree</li>
  <li><strong>Output</strong>: Sorted salary list [25K, 30K, 35K, 50K, 60K, 70K, 80K]</li>
</ul>

<h4 id="2-mathematical-expression-trees--infix-conversion">2. <strong>Mathematical Expression Trees &amp; Infix Conversion</strong></h4>
<p><strong>Purpose</strong>: Converting expression trees to human-readable infix notation<br />
<strong>Why Inorder</strong>: Matches natural mathematical notation where operators appear between operands<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Expression tree representing ((3 + 5) * 2)</li>
  <li><strong>Process</strong>: Traverse left operand, visit operator, traverse right operand</li>
  <li><strong>Output</strong>: “((3 + 5) * 2)” - properly parenthesized infix expression</li>
</ul>

<h4 id="3-threaded-binary-tree-construction">3. <strong>Threaded Binary Tree Construction</strong></h4>
<p><strong>Purpose</strong>: Creating threading pointers for efficient traversal without recursion or stack<br />
<strong>Why Inorder</strong>: Threading follows inorder sequence to connect nodes<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Regular binary tree with nodes [A, B, C, D, E]</li>
  <li><strong>Process</strong>: Connect each node’s right pointer to its inorder successor when right child is null</li>
  <li><strong>Output</strong>: Threaded tree allowing O(1) space traversal</li>
</ul>

<h4 id="4-binary-search-tree-validation">4. <strong>Binary Search Tree Validation</strong></h4>
<p><strong>Purpose</strong>: Verifying if a binary tree satisfies BST properties<br />
<strong>Why Inorder</strong>: BST must produce strictly ascending sequence in inorder traversal<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input Tree 1</strong>: [10, 5, 15, 3, 7, 12, 18] → Inorder: [3, 5, 7, 10, 12, 15, 18] ✅ Valid BST</li>
  <li><strong>Input Tree 2</strong>: [10, 5, 15, 3, 7, 12, 6] → Inorder: [3, 5, 7, 10, 6, 12, 15] ❌ Invalid (6 &lt; 10)</li>
  <li><strong>Output</strong>: Boolean validation result based on sequence ordering</li>
</ul>

<h4 id="5-range-query-processing">5. <strong>Range Query Processing</strong></h4>
<p><strong>Purpose</strong>: Finding all values within a specific range in sorted trees<br />
<strong>Why Inorder</strong>: Natural sorted order allows efficient range processing<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Customer age BST with range query [25, 35]</li>
  <li><strong>Process</strong>: Traverse inorder, collect nodes where 25 ≤ age ≤ 35</li>
  <li><strong>Output</strong>: All customers aged 25-35 in sorted order: [26, 28, 31, 34, 35]</li>
</ul>

<h4 id="6-database-index-scanning">6. <strong>Database Index Scanning</strong></h4>
<p><strong>Purpose</strong>: Efficient sequential access to database records in sorted order<br />
<strong>Why Inorder</strong>: Database B-tree indexes use inorder for range scans<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Product database with price index</li>
  <li><strong>Process</strong>: Inorder scan from $10 to $50 price range</li>
  <li><strong>Output</strong>: All products in price order: [$12 Widget, $25 Gadget, $45 Tool]</li>
</ul>

<h4 id="7-median--statistical-operations">7. <strong>Median &amp; Statistical Operations</strong></h4>
<p><strong>Purpose</strong>: Finding median, percentiles, and order statistics in BSTs<br />
<strong>Why Inorder</strong>: Sorted sequence makes statistical calculations straightforward<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Test scores BST [85, 72, 93, 68, 78, 90, 96]</li>
  <li><strong>Process</strong>: Inorder traversal gives sorted scores</li>
  <li><strong>Output</strong>: Median = 85 (middle element), 75th percentile = 93</li>
</ul>

<h4 id="8-tree-serialization-for-reconstruction">8. <strong>Tree Serialization for Reconstruction</strong></h4>
<p><strong>Purpose</strong>: Saving BST structure in a way that preserves sorting properties<br />
<strong>Why Inorder</strong>: Combined with preorder/postorder enables efficient BST reconstruction<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: BST with nodes [50, 30, 70, 20, 40, 60, 80]</li>
  <li><strong>Process</strong>: Store inorder sequence for sorted data, preorder for structure</li>
  <li><strong>Output</strong>: Inorder: [20,30,40,50,60,70,80] + Preorder: [50,30,20,40,70,60,80]</li>
</ul>

<h4 id="9-sorted-data-processing">9. <strong>Sorted Data Processing</strong></h4>
<p><strong>Purpose</strong>: Processing data that needs to maintain sorted order during operations<br />
<strong>Why Inorder</strong>: Eliminates need for separate sorting step<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Stock price BST updated throughout trading day</li>
  <li><strong>Process</strong>: Generate end-of-day report using inorder traversal</li>
  <li><strong>Output</strong>: Price movement report in ascending order: [AAPL:$150, GOOGL:$175, MSFT:$200]</li>
</ul>

<h4 id="10-successorpredecessor-finding">10. <strong>Successor/Predecessor Finding</strong></h4>
<p><strong>Purpose</strong>: Locating next/previous elements in sorted order<br />
<strong>Why Inorder</strong>: Natural sequence makes finding adjacent elements efficient<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Dictionary BST, find word after “program”</li>
  <li><strong>Process</strong>: Use inorder sequence to identify next word</li>
  <li><strong>Output</strong>: Successor of “program” is “programming”</li>
</ul>

<h3 id="-special-property">⭐ <strong>Special Property:</strong></h3>
<p>For <strong>Binary Search Trees</strong>, inorder traversal <strong>always produces elements in sorted (ascending) order</strong>.</p>

<h3 id="️-complexity-1">⏱️ <strong>Complexity:</strong></h3>
<ul>
  <li><strong>Time</strong>: O(n)</li>
  <li><strong>Space</strong>: O(h)</li>
</ul>

<hr />

<h2 id="postorder-traversal">Postorder Traversal</h2>

<p>Postorder traversal is a type of depth-first traversal where the left subtree is processed first, then the right subtree, followed by the current node (root).</p>

<h3 id="order-left-subtree--right-subtree--root"><strong>Order</strong>: Left Subtree → Right Subtree → Root</h3>

<p><strong>Think of it as</strong>: “Handle my children first, then deal with me”</p>

<h3 id="-algorithm-1">🔧 Algorithm:</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">postorder</span><span class="o">(</span><span class="n">node</span><span class="o">):</span>
    <span class="k">if</span> <span class="n">node</span> <span class="n">is</span> <span class="n">not</span> <span class="kc">null</span><span class="o">:</span>
        <span class="n">postorder</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span><span class="o">)</span>   <span class="c1">// 🔄 Traverse left subtree FIRST</span>
        <span class="n">postorder</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">right</span><span class="o">)</span>  <span class="c1">// 🔄 Traverse right subtree SECOND</span>
        <span class="n">visit</span><span class="o">(</span><span class="n">node</span><span class="o">)</span>            <span class="c1">// ✅ Process current node LAST</span>
</code></pre></div></div>

<h3 id="postorder-result-g--d--e--b--f--c--a"><strong>Postorder Result</strong>: G → D → E → B → F → C → A</h3>

<h3 id="use-cases--applications-2"><strong>Use Cases &amp; Applications:</strong></h3>

<h4 id="1-tree-deletion--memory-cleanup">1. <strong>Tree Deletion &amp; Memory Cleanup</strong></h4>
<p><strong>Purpose</strong>: Safely deleting tree nodes by removing children before parents<br />
<strong>Why Postorder</strong>: Children must be deleted before parent to avoid memory leaks and dangling pointers. Dangling pointers mean references to nodes that have already been deleted, which can lead to errors or crashes if accessed later.<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input Tree</strong>: File system tree with folders and files</li>
  <li><strong>Process</strong>: Delete all files first, then empty folders, finally root folder</li>
  <li><strong>Output</strong>: Clean memory deallocation: Files → Subfolders → Main folder → Root</li>
</ul>

<h4 id="2-postfix-expression-evaluation-reverse-polish-notation">2. <strong>Postfix Expression Evaluation (Reverse Polish Notation)</strong></h4>
<p><strong>Purpose</strong>: Evaluating mathematical expressions in postfix notation<br />
<strong>Why Postorder</strong>: Operands must be processed before operators, matching postfix structure<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Expression tree for “3 4 + 2 *” (meaning: (3 + 4) × 2)</li>
  <li><strong>Process</strong>: Calculate 3, then 4, then +, then 2, finally *</li>
  <li><strong>Output</strong>: Result = 14 (first 3+4=7, then 7×2=14)</li>
</ul>

<h4 id="3-directory-size-calculation">3. <strong>Directory Size Calculation</strong></h4>
<p><strong>Purpose</strong>: Computing folder sizes by calculating subfolder sizes first<br />
<strong>Why Postorder</strong>: Must know children sizes before calculating parent size<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Project folder with subfolders</li>
  <li><strong>Process</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>📄 file1.txt (2KB) 
📄 file2.java (5KB)
📁 src/ = 7KB (calculated after files)
📁 project/ = 7KB (calculated after src/)
</code></pre></div>    </div>
  </li>
  <li><strong>Output</strong>: Total project size: 7KB</li>
</ul>

<h4 id="4-dependency-resolution--build-systems">4. <strong>Dependency Resolution &amp; Build Systems</strong></h4>
<p><strong>Purpose</strong>: Processing dependencies before the components that depend on them<br />
<strong>Why Postorder</strong>: Dependencies must be built/resolved before their dependents<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Software modules: App depends on Database, Database depends on Logger</li>
  <li><strong>Process</strong>: Build Logger first, then Database, finally App</li>
  <li><strong>Output</strong>: Build order: [Logger, Database, App]</li>
</ul>

<h4 id="5-garbage-collection--resource-cleanup">5. <strong>Garbage Collection &amp; Resource Cleanup</strong></h4>
<p><strong>Purpose</strong>: Cleaning up system resources in proper order<br />
<strong>Why Postorder</strong>: Child resources must be freed before parent resources<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Process tree with parent and child processes</li>
  <li><strong>Process</strong>: Terminate child processes first, then parent processes</li>
  <li><strong>Output</strong>: Clean shutdown without orphaned processes</li>
</ul>

<h4 id="6-bottom-up-tree-calculations">6. <strong>Bottom-up Tree Calculations</strong></h4>
<p><strong>Purpose</strong>: Computing values that depend on children’s computed values<br />
<strong>Why Postorder</strong>: Parent calculations need children’s results<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Employee hierarchy with salary calculations</li>
  <li><strong>Process</strong>: Calculate team budgets bottom-up</li>
  <li><strong>Output</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Employee A: $50K
Employee B: $60K  
Manager: $110K (team total)
Director: $170K (includes manager + own salary)
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="7-game-object-destruction">7. <strong>Game Object Destruction</strong></h4>
<p><strong>Purpose</strong>: Destroying game objects and their components in correct order<br />
<strong>Why Postorder</strong>: Child objects must be destroyed before parent containers<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Character with weapons, armor, and inventory items</li>
  <li><strong>Process</strong>: Destroy items first, then equipment, finally character</li>
  <li><strong>Output</strong>: Clean game object removal without references to destroyed objects</li>
</ul>

<h4 id="8-abstract-syntax-tree-ast-code-generation">8. <strong>Abstract Syntax Tree (AST) Code Generation</strong></h4>
<p><strong>Purpose</strong>: Generating assembly or machine code from expression trees<br />
<strong>Why Postorder</strong>: Operands must be loaded before operations can be performed<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Expression tree for “a + b * c”</li>
  <li><strong>Process</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LOAD b
LOAD c  
MULTIPLY
LOAD a
ADD
</code></pre></div>    </div>
  </li>
  <li><strong>Output</strong>: Stack-based code where operands are processed before operators</li>
</ul>

<h4 id="9-tree-validation--structure-checking">9. <strong>Tree Validation &amp; Structure Checking</strong></h4>
<p><strong>Purpose</strong>: Validating tree properties by checking children first<br />
<strong>Why Postorder</strong>: Parent validity often depends on children being valid<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Binary tree to check if it’s a complete binary tree</li>
  <li><strong>Process</strong>: Validate leaf nodes first, then internal nodes, finally root</li>
  <li><strong>Output</strong>: Boolean result after checking all subtrees</li>
</ul>

<h4 id="10-tree-transformation--reconstruction">10. <strong>Tree Transformation &amp; Reconstruction</strong></h4>
<p><strong>Purpose</strong>: Converting tree structures while preserving relationships<br />
<strong>Why Postorder</strong>: Children must be transformed before parent transformation can occur<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Parse tree to be converted to different format</li>
  <li><strong>Process</strong>: Transform leaf nodes first, then internal nodes, finally root</li>
  <li><strong>Output</strong>: Transformed tree maintaining structural integrity</li>
</ul>

<h4 id="11-ui-component-disposal">11. <strong>UI Component Disposal</strong></h4>
<p><strong>Purpose</strong>: Properly disposing user interface components and their resources<br />
<strong>Why Postorder</strong>: Child UI elements must be disposed before parent containers<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Window with buttons, text fields, and panels</li>
  <li><strong>Process</strong>: Dispose buttons and text fields first, then panels, finally window</li>
  <li><strong>Output</strong>: Clean UI shutdown without memory leaks</li>
</ul>

<h4 id="12-database-transaction-rollback">12. <strong>Database Transaction Rollback</strong></h4>
<p><strong>Purpose</strong>: Rolling back nested transactions in reverse order<br />
<strong>Why Postorder</strong>: Inner transactions must be rolled back before outer transactions<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Nested transaction tree with savepoints</li>
  <li><strong>Process</strong>: Rollback deepest savepoints first, then parent transactions</li>
  <li><strong>Output</strong>: Database restored to consistent state before transaction began</li>
</ul>

<h3 id="️-complexity-2">⏱️ <strong>Complexity:</strong></h3>
<ul>
  <li><strong>Time</strong>: O(n)</li>
  <li><strong>Space</strong>: O(h)</li>
</ul>

<hr />

<h2 id="breadth-first-traversal">Breadth-First Traversal</h2>
<p>Breadth-first traversal (BFS) explores all nodes at the present depth level before moving on to nodes at the next depth level. It uses a queue to keep track of nodes to visit.</p>

<h3 id="level-order-traversal">Level Order Traversal</h3>
<p>Level order traversal is a type of breadth-first traversal where nodes are visited level by level, starting from the root and moving left to right.</p>

<h3 id="order-level-by-level-left-to-right"><strong>Order</strong>: Level by level, left to right</h3>

<p><strong>Think of it as</strong>: “Visit everyone at my level, then go to the next level”</p>

<h3 id="-algorithm-2">🔧 Algorithm:</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">levelOrder</span><span class="o">(</span><span class="n">root</span><span class="o">):</span>
    <span class="k">if</span> <span class="n">root</span> <span class="n">is</span> <span class="kc">null</span><span class="o">:</span>
        <span class="k">return</span>
    
    <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Queue</span><span class="o">()</span>
    <span class="n">queue</span><span class="o">.</span><span class="na">enqueue</span><span class="o">(</span><span class="n">root</span><span class="o">)</span>
    
    <span class="k">while</span> <span class="n">queue</span> <span class="n">is</span> <span class="n">not</span> <span class="nl">empty:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">dequeue</span><span class="o">()</span>
        <span class="n">visit</span><span class="o">(</span><span class="n">node</span><span class="o">)</span>                     <span class="c1">// ✅ Process current node</span>
        
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="na">left</span> <span class="n">is</span> <span class="n">not</span> <span class="kc">null</span><span class="o">:</span>       <span class="c1">// 📥 Add left child to queue</span>
            <span class="n">queue</span><span class="o">.</span><span class="na">enqueue</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span><span class="o">)</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="na">right</span> <span class="n">is</span> <span class="n">not</span> <span class="kc">null</span><span class="o">:</span>      <span class="c1">// 📥 Add right child to queue</span>
            <span class="n">queue</span><span class="o">.</span><span class="na">enqueue</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">right</span><span class="o">)</span>
</code></pre></div></div>

<h3 id="level-order-result-a--b--c--d--e--f--g"><strong>Level Order Result</strong>: A → B → C → D → E → F → G</h3>

<h3 id="use-cases--applications-3"><strong>Use Cases &amp; Applications:</strong></h3>

<h4 id="1-tree-printing--visualization">1. <strong>Tree Printing &amp; Visualization</strong></h4>
<p><strong>Purpose</strong>: Displaying tree structure level by level for easy understanding<br />
<strong>Why Level Order</strong>: Natural visual representation matches how humans perceive hierarchies<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Company organization tree</li>
  <li><strong>Process</strong>: Print CEO first, then VPs, then managers, then employees</li>
  <li><strong>Output</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Level 0: [CEO]
Level 1: [VP Sales, VP Engineering]  
Level 2: [Sales Manager, Dev Manager, QA Manager]
Level 3: [Sales Rep 1, Sales Rep 2, Developer 1, Developer 2, Tester 1]
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="2-shortest-path--minimum-depth-finding">2. <strong>Shortest Path &amp; Minimum Depth Finding</strong></h4>
<p><strong>Purpose</strong>: Finding shortest distance or minimum steps to reach a target<br />
<strong>Why Level Order</strong>: BFS guarantees finding shortest path first<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Family tree, find shortest relationship between two people</li>
  <li><strong>Process</strong>: Explore immediate family first, then extended family</li>
  <li><strong>Output</strong>: “Alice and Bob are cousins (3 steps apart)” vs “Alice and Charlie are siblings (2 steps apart)”</li>
</ul>

<h4 id="3-tree-width--level-analysis">3. <strong>Tree Width &amp; Level Analysis</strong></h4>
<p><strong>Purpose</strong>: Finding maximum width and analyzing tree structure per level<br />
<strong>Why Level Order</strong>: Processes entire levels at once for width calculation<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Website navigation menu tree</li>
  <li><strong>Process</strong>: Count items at each menu level</li>
  <li><strong>Output</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Level 1: 3 main categories (Home, Products, About)
Level 2: 8 subcategories (max width = 8)
Level 3: 12 specific pages
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="4-tree-serialization--level-wise-storage">4. <strong>Tree Serialization &amp; Level-wise Storage</strong></h4>
<p><strong>Purpose</strong>: Storing tree data in level-order format for reconstruction<br />
<strong>Why Level Order</strong>: Enables breadth-first reconstruction and balanced loading<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Binary tree [A, B, C, D, E, null, F]</li>
  <li><strong>Process</strong>: Store nodes level by level with null markers</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><strong>Output</strong>: “A</td>
          <td>B,C</td>
          <td>D,E,null,F</td>
          <td>null,null,null,null” (levels separated by</td>
          <td>)</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<h4 id="5-priority-processing--urgent-task-handling">5. <strong>Priority Processing &amp; Urgent Task Handling</strong></h4>
<p><strong>Purpose</strong>: Processing items by priority levels (urgent first, then important, then normal)<br />
<strong>Why Level Order</strong>: Higher priority levels processed completely before lower ones<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Hospital patient queue with priority levels</li>
  <li><strong>Process</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Level 1 (Critical): [Heart Attack, Stroke]
Level 2 (Urgent): [Broken Bone, Deep Cut]  
Level 3 (Normal): [Check-up, Vaccination]
</code></pre></div>    </div>
  </li>
  <li><strong>Output</strong>: All critical patients treated first, then urgent, then normal</li>
</ul>

<h4 id="6-game-level-design--wave-spawning">6. <strong>Game Level Design &amp; Wave Spawning</strong></h4>
<p><strong>Purpose</strong>: Spawning enemies or challenges in waves/levels<br />
<strong>Why Level Order</strong>: Each wave must be completed before next wave starts<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Tower defense game enemy tree</li>
  <li><strong>Process</strong>: Spawn Wave 1 enemies, then Wave 2, then Wave 3</li>
  <li><strong>Output</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Wave 1: [3 Basic Enemies] (must be defeated first)
Wave 2: [2 Advanced Enemies, 1 Tank] 
Wave 3: [1 Boss Enemy]
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="7-educational-content-progression">7. <strong>Educational Content Progression</strong></h4>
<p><strong>Purpose</strong>: Learning prerequisites where each level builds on previous level<br />
<strong>Why Level Order</strong>: Students must complete current level before advancing<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Programming course curriculum tree</li>
  <li><strong>Process</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Level 1: [Programming Basics]
Level 2: [Data Types, Variables] 
Level 3: [Arrays, Functions, Objects]
Level 4: [Advanced Data Structures]
</code></pre></div>    </div>
  </li>
  <li><strong>Output</strong>: Sequential learning path ensuring solid foundation</li>
</ul>

<h4 id="8-organizational-communication--announcements">8. <strong>Organizational Communication &amp; Announcements</strong></h4>
<p><strong>Purpose</strong>: Distributing information through hierarchy levels<br />
<strong>Why Level Order</strong>: Information flows level by level through management chain<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Company announcement about policy change</li>
  <li><strong>Process</strong>: CEO tells VPs, VPs tell Directors, Directors tell Managers, Managers tell employees</li>
  <li><strong>Output</strong>: Systematic information distribution ensuring everyone at each level is informed</li>
</ul>

<h4 id="9-breadth-first-search-in-decision-trees">9. <strong>Breadth-First Search in Decision Trees</strong></h4>
<p><strong>Purpose</strong>: Exploring all options at current decision level before going deeper<br />
<strong>Why Level Order</strong>: Avoids getting stuck in deep but poor decision paths<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Investment decision tree</li>
  <li><strong>Process</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Level 1: [Stocks, Bonds, Real Estate] (explore all first)
Level 2: [Tech Stocks, Blue Chip | Government Bonds, Corporate Bonds | Residential, Commercial]
</code></pre></div>    </div>
  </li>
  <li><strong>Output</strong>: Comprehensive analysis of all options at each decision level</li>
</ul>

<h4 id="10-network-topology--router-configuration">10. <strong>Network Topology &amp; Router Configuration</strong></h4>
<p><strong>Purpose</strong>: Configuring network devices level by level from core to edge<br />
<strong>Why Level Order</strong>: Core routers must be configured before distribution and access layers<br />
<strong>Example</strong>:</p>
<ul>
  <li><strong>Input</strong>: Corporate network infrastructure</li>
  <li><strong>Process</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Level 1: [Core Router] (configure first)
Level 2: [Distribution Switch A, Distribution Switch B]
Level 3: [Access Switch 1, Access Switch 2, Access Switch 3, Access Switch 4]
</code></pre></div>    </div>
  </li>
  <li><strong>Output</strong>: Properly configured network with connectivity flowing from core outward</li>
</ul>

<h3 id="complexity"><strong>Complexity:</strong></h3>
<ul>
  <li><strong>Time</strong>: O(n)</li>
  <li><strong>Space</strong>: O(w) - where w is the maximum width of the tree</li>
</ul>

<hr />

<h2 id="complete-implementation-of-inorder-preorder-postorder-and-level-order-traversals">Complete Implementation of Inorder, Preorder, Postorder, and Level Order Traversals</h2>

<h3 id="create-a-treenode-class---the-building-block">Create a TreeNode Class - The Building Block</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="cm">/**
 * TreeNode represents a single node in our binary tree
 * Think of it as a container that holds data and references to children
 */</span>
<span class="kd">class</span> <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="no">E</span> <span class="n">element</span><span class="o">;</span>              <span class="c1">// 📦 The data stored in this node</span>
    <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">left</span><span class="o">;</span>       <span class="c1">// ⬅️ Points to the left child</span>
    <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">right</span><span class="o">;</span>      <span class="c1">// ➡️ Points to the right child</span>
    <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">parent</span><span class="o">;</span>     <span class="c1">// ⬆️ Points to the parent (optional)</span>
    
    <span class="c1">// Create a new node with data</span>
    <span class="kd">public</span> <span class="nf">TreeNode</span><span class="o">(</span><span class="no">E</span> <span class="n">element</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">element</span> <span class="o">=</span> <span class="n">element</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">left</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">right</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">parent</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="c1">// Create a new node with data and parent reference</span>
    <span class="kd">public</span> <span class="nf">TreeNode</span><span class="o">(</span><span class="no">E</span> <span class="n">element</span><span class="o">,</span> <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">element</span> <span class="o">=</span> <span class="n">element</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">parent</span> <span class="o">=</span> <span class="n">parent</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">left</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">right</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
    
    
    <span class="c1">// Override toString for easy printing of node data</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="create-a-binarytree-class-to-implement-all-four-traversal-algorithms">Create a BinaryTree Class to implement all four traversal algorithms</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * BinaryTree implementation with all four traversal methods
 * Supports both recursive and iterative approaches
 */</span>
<span class="kd">class</span> <span class="nc">BinaryTree</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">root</span><span class="o">;</span>  <span class="c1">// The root of our tree</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">size</span><span class="o">;</span>          <span class="c1">// Number of nodes in the tree</span>
    
    <span class="kd">public</span> <span class="nf">BinaryTree</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">root</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">size</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="c1">// Tree Construction Methods</span>
    <span class="c1">// Here IllegalStateException is an unchecked exception that indicates the tree already has a root</span>
    <span class="c1">// serves as explicit documentation to inform developers about potential exceptions. But it works fine without it.</span>
    <span class="kd">public</span> <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">addRoot</span><span class="o">(</span><span class="no">E</span> <span class="n">element</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IllegalStateException</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">root</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalStateException</span><span class="o">(</span><span class="s">"Tree already has a root"</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">root</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TreeNode</span><span class="o">&lt;&gt;(</span><span class="n">element</span><span class="o">);</span>
        <span class="n">size</span><span class="o">++;</span>
        <span class="k">return</span> <span class="n">root</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">addLeft</span><span class="o">(</span><span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">parent</span><span class="o">,</span> <span class="no">E</span> <span class="n">element</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">left</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">(</span><span class="s">"Node already has a left child"</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">child</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TreeNode</span><span class="o">&lt;&gt;(</span><span class="n">element</span><span class="o">,</span> <span class="n">parent</span><span class="o">);</span>
        <span class="n">parent</span><span class="o">.</span><span class="na">left</span> <span class="o">=</span> <span class="n">child</span><span class="o">;</span>
        <span class="n">size</span><span class="o">++;</span>
        <span class="k">return</span> <span class="n">child</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">addRight</span><span class="o">(</span><span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">parent</span><span class="o">,</span> <span class="no">E</span> <span class="n">element</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">right</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">(</span><span class="s">"Node already has a right child"</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">child</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TreeNode</span><span class="o">&lt;&gt;(</span><span class="n">element</span><span class="o">,</span> <span class="n">parent</span><span class="o">);</span>
        <span class="n">parent</span><span class="o">.</span><span class="na">right</span> <span class="o">=</span> <span class="n">child</span><span class="o">;</span>
        <span class="n">size</span><span class="o">++;</span>
        <span class="k">return</span> <span class="n">child</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="c1">// Basic Tree Properties</span>
    <span class="c1">// These methods provide basic information about the tree structure</span>
    <span class="c1">// Not required for all the cases, but useful for understanding the tree</span>
    <span class="kd">public</span> <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">getRoot</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">root</span><span class="o">;</span> <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">size</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">size</span><span class="o">;</span> <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">0</span><span class="o">;</span> <span class="o">}</span>
    
    <span class="c1">// PREORDER TRAVERSAL: Root → Left → Right</span>
    <span class="c1">// Public method to setup, initialize and call the actual algorithm</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">preorderTraversal</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">preorderHelper</span><span class="o">(</span><span class="n">root</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="c1">// Core algorithm for preorder traversal</span>
    <span class="c1">// Recursively visit the root first, then left subtree, then right subtree</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">preorderHelper</span><span class="o">(</span><span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">node</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">node</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">element</span><span class="o">);</span>                    <span class="c1">// ✅ Visit root first</span>
            <span class="n">preorderHelper</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>          <span class="c1">// 🔄 Then left subtree</span>
            <span class="n">preorderHelper</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">right</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>         <span class="c1">// 🔄 Finally right subtree</span>
        <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="c1">// INORDER TRAVERSAL: Left → Root → Right</span>
    <span class="c1">// Public method to setup, initialize and call the actual algorithm</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">inorderTraversal</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">inorderHelper</span><span class="o">(</span><span class="n">root</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>
    

    <span class="c1">// Core algorithm for inorder traversal</span>
    <span class="c1">// Recursively visit the left subtree first, then root, then right subtree</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">inorderHelper</span><span class="o">(</span><span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">node</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">node</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">inorderHelper</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>           <span class="c1">// 🔄 Left subtree first</span>
            <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">element</span><span class="o">);</span>                   <span class="c1">// ✅ Then visit root</span>
            <span class="n">inorderHelper</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">right</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>          <span class="c1">// 🔄 Finally right subtree</span>
        <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="c1">// 🔍 POSTORDER TRAVERSAL: Left → Right → Root</span>
    <span class="c1">// Public method to setup, initialize and call the actual algorithm</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">postorderTraversal</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">postorderHelper</span><span class="o">(</span><span class="n">root</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="c1">// Core algorithm for postorder traversal</span>
    <span class="c1">// Recursively visit the left subtree first, then right subtree, then root</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">postorderHelper</span><span class="o">(</span><span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">node</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">node</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">postorderHelper</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>         <span class="c1">// 🔄 Left subtree first</span>
            <span class="n">postorderHelper</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">right</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>        <span class="c1">// 🔄 Then right subtree</span>
            <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">element</span><span class="o">);</span>                   <span class="c1">// ✅ Finally visit root</span>
        <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="c1">// LEVEL ORDER TRAVERSAL: Level by level</span>
    <span class="c1">// Also known as Breadth-First Search (BFS)</span>

    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">levelOrderTraversal</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
        
        <span class="c1">// Start from the root and use a queue to explore each level</span>
        <span class="nc">Queue</span><span class="o">&lt;</span><span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;&gt;</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
        <span class="n">queue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">root</span><span class="o">);</span>
        
        <span class="k">while</span> <span class="o">(!</span><span class="n">queue</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">current</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
            <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">current</span><span class="o">.</span><span class="na">element</span><span class="o">);</span>                <span class="c1">// ✅ Visit current node and add to result list</span>
            
            <span class="c1">// Add children to queue for next level</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">current</span><span class="o">.</span><span class="na">left</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">queue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">current</span><span class="o">.</span><span class="na">left</span><span class="o">);</span> <span class="c1">// Add left child to queue</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">current</span><span class="o">.</span><span class="na">right</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">queue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">current</span><span class="o">.</span><span class="na">right</span><span class="o">);</span> <span class="c1">// Add right child to queue</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="c1">// 🎨 Tree Visualization</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printTreeStructure</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"🌳 Tree Structure:"</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"(empty tree)"</span><span class="o">);</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">printHelper</span><span class="o">(</span><span class="n">root</span><span class="o">,</span> <span class="s">""</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">printHelper</span><span class="o">(</span><span class="nc">TreeNode</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">node</span><span class="o">,</span> <span class="nc">String</span> <span class="n">prefix</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">isLast</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">node</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">prefix</span> <span class="o">+</span> <span class="o">(</span><span class="n">isLast</span> <span class="o">?</span> <span class="s">"└── "</span> <span class="o">:</span> <span class="s">"├── "</span><span class="o">)</span> <span class="o">+</span> <span class="n">node</span><span class="o">.</span><span class="na">element</span><span class="o">);</span>
            
            <span class="c1">// 📝 Handle children</span>
            <span class="kt">boolean</span> <span class="n">hasLeft</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="na">left</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">;</span>
            <span class="kt">boolean</span> <span class="n">hasRight</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="na">right</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">;</span>
            
            <span class="k">if</span> <span class="o">(</span><span class="n">hasLeft</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">printHelper</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span><span class="o">,</span> <span class="n">prefix</span> <span class="o">+</span> <span class="o">(</span><span class="n">isLast</span> <span class="o">?</span> <span class="s">"    "</span> <span class="o">:</span> <span class="s">"│   "</span><span class="o">),</span> <span class="o">!</span><span class="n">hasRight</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">hasRight</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">printHelper</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">right</span><span class="o">,</span> <span class="n">prefix</span> <span class="o">+</span> <span class="o">(</span><span class="n">isLast</span> <span class="o">?</span> <span class="s">"    "</span> <span class="o">:</span> <span class="s">"│   "</span><span class="o">),</span> <span class="kc">true</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="-complete-demo-with-practical-examples">🚀 Complete Demo with Practical Examples</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TreeTraversalDemo</span> <span class="o">{</span>
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"BINARY TREE TRAVERSAL ALGORITHMS DEMO"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Author: Mahedee Hasan"</span><span class="o">);</span>

        <span class="c1">//  Creates a string by repeating the double horizontal line character (═) 50 times</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"═"</span><span class="o">.</span><span class="na">repeat</span><span class="o">(</span><span class="mi">50</span><span class="o">));</span>
        
        <span class="c1">// Build example tree</span>
        <span class="nc">BinaryTree</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">tree</span> <span class="o">=</span> <span class="n">buildExampleTree</span><span class="o">();</span>
        
        <span class="c1">// Show tree structure</span>
        <span class="c1">// Show original tree in a structured format</span>
        <span class="n">tree</span><span class="o">.</span><span class="na">printTreeStructure</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
        
        <span class="c1">// Demonstrate all traversals</span>
        <span class="n">demonstrateTraversals</span><span class="o">(</span><span class="n">tree</span><span class="o">);</span>
        
        <span class="c1">// 📊 Show practical applications</span>
        <span class="n">demonstratePracticalApplications</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">BinaryTree</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">buildExampleTree</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// Building this tree:</span>
        <span class="c1">//       A</span>
        <span class="c1">//      / \</span>
        <span class="c1">//     B   C</span>
        <span class="c1">//    / \   \</span>
        <span class="c1">//   D   E   F</span>
        <span class="c1">//  /</span>
        <span class="c1">// G</span>
        
        <span class="nc">BinaryTree</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">tree</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BinaryTree</span><span class="o">&lt;&gt;();</span>
        
        <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="na">addRoot</span><span class="o">(</span><span class="s">"A"</span><span class="o">);</span>
        <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="na">addLeft</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="s">"B"</span><span class="o">);</span>
        <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="na">addRight</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="s">"C"</span><span class="o">);</span>
        <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="na">addLeft</span><span class="o">(</span><span class="n">b</span><span class="o">,</span> <span class="s">"D"</span><span class="o">);</span>
        <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">e</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="na">addRight</span><span class="o">(</span><span class="n">b</span><span class="o">,</span> <span class="s">"E"</span><span class="o">);</span>
        <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="na">addRight</span><span class="o">(</span><span class="n">c</span><span class="o">,</span> <span class="s">"F"</span><span class="o">);</span>
        <span class="n">tree</span><span class="o">.</span><span class="na">addLeft</span><span class="o">(</span><span class="n">d</span><span class="o">,</span> <span class="s">"G"</span><span class="o">);</span>
        
        <span class="k">return</span> <span class="n">tree</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demonstrateTraversals</span><span class="o">(</span><span class="nc">BinaryTree</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">tree</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"TRAVERSAL RESULTS:"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"─"</span><span class="o">.</span><span class="na">repeat</span><span class="o">(</span><span class="mi">40</span><span class="o">));</span>
        
        <span class="c1">// Preorder traversal</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">preorder</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="na">preorderTraversal</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Preorder  (Root→Left→Right): "</span> <span class="o">+</span> <span class="n">preorder</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Use case: Tree copying, directory listing"</span><span class="o">);</span>
        <span class="c1">// Output: [A, B, D, G, E, C, F]</span>

        <span class="c1">// Inorder</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">inorder</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="na">inorderTraversal</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"🟩 Inorder   (Left→Root→Right): "</span> <span class="o">+</span> <span class="n">inorder</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   💡 Use case: BST sorted output, expression trees"</span><span class="o">);</span>
        
        <span class="c1">// Postorder</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">postorder</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="na">postorderTraversal</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"🟨 Postorder (Left→Right→Root): "</span> <span class="o">+</span> <span class="n">postorder</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   💡 Use case: Tree deletion, folder size calculation"</span><span class="o">);</span>
        
        <span class="c1">// Level Order</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">levelOrder</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="na">levelOrderTraversal</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"🟪 Level Order (Top→Bottom): "</span> <span class="o">+</span> <span class="n">levelOrder</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   💡 Use case: BFS, shortest path, tree printing"</span><span class="o">);</span>
        
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demonstratePracticalApplications</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"🎯 PRACTICAL APPLICATIONS:"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"─"</span><span class="o">.</span><span class="na">repeat</span><span class="o">(</span><span class="mi">40</span><span class="o">));</span>
        
        <span class="c1">// BST example</span>
        <span class="n">demonstrateBSTSorting</span><span class="o">();</span>
        
        <span class="c1">// Expression tree example</span>
        <span class="n">demonstrateExpressionEvaluation</span><span class="o">();</span>
        
        <span class="c1">// File system example</span>
        <span class="n">demonstrateFileSystemOperations</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demonstrateBSTSorting</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"📊 Binary Search Tree Sorting:"</span><span class="o">);</span>
        
        <span class="nc">BinaryTree</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">bst</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BinaryTree</span><span class="o">&lt;&gt;();</span>
        <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">root</span> <span class="o">=</span> <span class="n">bst</span><span class="o">.</span><span class="na">addRoot</span><span class="o">(</span><span class="mi">50</span><span class="o">);</span>
        <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">left</span> <span class="o">=</span> <span class="n">bst</span><span class="o">.</span><span class="na">addLeft</span><span class="o">(</span><span class="n">root</span><span class="o">,</span> <span class="mi">30</span><span class="o">);</span>
        <span class="nc">TreeNode</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">right</span> <span class="o">=</span> <span class="n">bst</span><span class="o">.</span><span class="na">addRight</span><span class="o">(</span><span class="n">root</span><span class="o">,</span> <span class="mi">70</span><span class="o">);</span>
        <span class="n">bst</span><span class="o">.</span><span class="na">addLeft</span><span class="o">(</span><span class="n">left</span><span class="o">,</span> <span class="mi">20</span><span class="o">);</span>
        <span class="n">bst</span><span class="o">.</span><span class="na">addRight</span><span class="o">(</span><span class="n">left</span><span class="o">,</span> <span class="mi">40</span><span class="o">);</span>
        <span class="n">bst</span><span class="o">.</span><span class="na">addLeft</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="mi">60</span><span class="o">);</span>
        <span class="n">bst</span><span class="o">.</span><span class="na">addRight</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="mi">80</span><span class="o">);</span>
        
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   Input BST: [50, 30, 70, 20, 40, 60, 80]"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   Inorder:   "</span> <span class="o">+</span> <span class="n">bst</span><span class="o">.</span><span class="na">inorderTraversal</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   ✅ Automatically sorted!"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demonstrateExpressionEvaluation</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"🧮 Expression Tree Evaluation:"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   Expression: (3 + 5) * 2"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   Inorder:    3 + 5 * 2     (infix notation)"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   Postorder:  3 5 + 2 *     (postfix notation)"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   ✅ Different traversals = Different notations!"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demonstrateFileSystemOperations</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"📁 File System Operations:"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   Preorder:   List directories before contents"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   Postorder:  Calculate sizes (children first)"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   Level Order: Show hierarchy level by level"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"   ✅ Each traversal serves different purposes!"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="-expected-output">📋 Expected Output</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>🌳 BINARY TREE TRAVERSAL ALGORITHMS DEMO
Author: Mahedee Hasan
══════════════════════════════════════════════════

🌳 Tree Structure:
└── A
    ├── B
    │   ├── D
    │   │   └── G
    │   └── E
    └── C
        └── F

🔍 TRAVERSAL RESULTS:
────────────────────────────────────────
🟦 Preorder  (Root→Left→Right): [A, B, D, G, E, C, F]
   💡 Use case: Tree copying, directory listing
🟩 Inorder   (Left→Root→Right): [G, D, B, E, A, C, F]
   💡 Use case: BST sorted output, expression trees
🟨 Postorder (Left→Right→Root): [G, D, E, B, F, C, A]
   💡 Use case: Tree deletion, folder size calculation
🟪 Level Order (Top→Bottom): [A, B, C, D, E, F, G]
   💡 Use case: BFS, shortest path, tree printing

🎯 PRACTICAL APPLICATIONS:
────────────────────────────────────────
📊 Binary Search Tree Sorting:
   Input BST: [50, 30, 70, 20, 40, 60, 80]
   Inorder:   [20, 30, 40, 50, 60, 70, 80]
   ✅ Automatically sorted!

🧮 Expression Tree Evaluation:
   Expression: (3 + 5) * 2
   Inorder:    3 + 5 * 2     (infix notation)
   Postorder:  3 5 + 2 *     (postfix notation)
   ✅ Different traversals = Different notations!

📁 File System Operations:
   Preorder:   List directories before contents
   Postorder:  Calculate sizes (children first)
   Level Order: Show hierarchy level by level
   ✅ Each traversal serves different purposes!
</code></pre></div></div>

<hr />

<h2 id="performance-analysis">Performance Analysis</h2>

<h3 id="-complexity-comparison">📊 Complexity Comparison</h3>

<table>
  <thead>
    <tr>
      <th><strong>Traversal</strong></th>
      <th><strong>Time Complexity</strong></th>
      <th><strong>Space Complexity</strong></th>
      <th><strong>Best Use Case</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Preorder</strong></td>
      <td>O(n)</td>
      <td>O(h)</td>
      <td>Tree copying, prefix expressions</td>
    </tr>
    <tr>
      <td><strong>Inorder</strong></td>
      <td>O(n)</td>
      <td>O(h)</td>
      <td>BST sorted output, expression trees</td>
    </tr>
    <tr>
      <td><strong>Postorder</strong></td>
      <td>O(n)</td>
      <td>O(h)</td>
      <td>Tree deletion, postfix expressions</td>
    </tr>
    <tr>
      <td><strong>Level Order</strong></td>
      <td>O(n)</td>
      <td>O(w)</td>
      <td>Level-wise processing, BFS</td>
    </tr>
  </tbody>
</table>

<p><strong>Where:</strong></p>
<ul>
  <li><strong>n</strong> = number of nodes</li>
  <li><strong>h</strong> = height of the tree (O(log n) for balanced, O(n) for skewed)</li>
  <li><strong>w</strong> = maximum width of the tree</li>
</ul>

<h3 id="-performance-considerations">⚡ Performance Considerations</h3>

<h4 id="-recursive-vs-iterative">🔄 <strong>Recursive vs Iterative:</strong></h4>

<table>
  <thead>
    <tr>
      <th><strong>Approach</strong></th>
      <th><strong>Pros</strong></th>
      <th><strong>Cons</strong></th>
      <th><strong>Best For</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Recursive</strong></td>
      <td>✅ Intuitive, clean code</td>
      <td>❌ Stack overflow risk</td>
      <td>Small to medium trees</td>
    </tr>
    <tr>
      <td><strong>Iterative</strong></td>
      <td>✅ No stack overflow</td>
      <td>❌ More complex code</td>
      <td>Large, deep trees</td>
    </tr>
  </tbody>
</table>

<!--- Reviewed up to --->

<h2 id="conclusion">Conclusion</h2>

<p>Binary tree traversal algorithms are <strong>fundamental building blocks</strong> in computer science, providing systematic ways to process tree structures efficiently. Each traversal method has unique characteristics that make it optimal for specific scenarios:</p>

<h3 id="-key-takeaways">🎯 <strong>Key Takeaways:</strong></h3>

<table>
  <thead>
    <tr>
      <th><strong>Algorithm</strong></th>
      <th><strong>Strength</strong></th>
      <th><strong>Best Application</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>🟦 Preorder</strong></td>
      <td>Root-first processing</td>
      <td>Tree copying, directory listing</td>
    </tr>
    <tr>
      <td><strong>🟩 Inorder</strong></td>
      <td>Natural BST sorting</td>
      <td>Sorted data retrieval, expression parsing</td>
    </tr>
    <tr>
      <td><strong>🟨 Postorder</strong></td>
      <td>Children-first processing</td>
      <td>Tree deletion, size calculation</td>
    </tr>
    <tr>
      <td><strong>🟪 Level Order</strong></td>
      <td>Level-wise exploration</td>
      <td>BFS, shortest path, tree printing</td>
    </tr>
  </tbody>
</table>

<h3 id="-why-these-algorithms-matter">💡 <strong>Why These Algorithms Matter:</strong></h3>

<ol>
  <li><strong>Foundation Knowledge</strong>: Essential for advanced data structures</li>
  <li><strong>Problem Solving</strong>: Core technique for tree-based problems</li>
  <li><strong>Performance</strong>: Choose right algorithm for optimal efficiency</li>
  <li><strong>Practical Applications</strong>: Used in databases, compilers, file systems</li>
  <li><strong>Algorithmic Thinking</strong>: Develops recursive and iterative thinking skills</li>
</ol>

<h3 id="-next-steps-for-learning">🚀 <strong>Next Steps for Learning:</strong></h3>

<ul>
  <li><strong>🌳 Advanced Trees</strong>: AVL trees, Red-Black trees, B-trees</li>
  <li><strong>📊 Graph Algorithms</strong>: DFS and BFS on graphs</li>
  <li><strong>🔄 Dynamic Programming</strong>: Tree-based DP problems</li>
  <li><strong>🎮 Real Projects</strong>: Implement file explorers, expression evaluators</li>
  <li><strong>📈 Optimization</strong>: Study cache-efficient traversal techniques</li>
</ul>

<h3 id="-academic-and-professional-value">🎓 <strong>Academic and Professional Value:</strong></h3>

<p>Understanding these algorithms is crucial for:</p>
<ul>
  <li><strong>📚 Computer Science Education</strong>: Fundamental CS concepts</li>
  <li><strong>💼 Technical Interviews</strong>: Common algorithm questions</li>
  <li><strong>🏢 Software Development</strong>: Building tree-based applications</li>
  <li><strong>🔬 Research</strong>: Foundation for advanced algorithmic research</li>
</ul>

<p>The mastery of tree traversal algorithms represents a significant milestone in your journey through data structures and algorithms. These techniques will serve as building blocks for more complex algorithms and real-world applications throughout your career in computer science.</p>

<p><strong>Remember</strong>: The choice of traversal algorithm should always be based on your specific requirements - there’s no “one size fits all” solution, but there’s always an optimal choice for each scenario! 🎯</p>

<hr />

<p><a href="https://github.com/mahedee/code-sample02/tree/master/binary-tree-traversal-app">⬇️ <strong>Source code</strong></a></p>

<p><strong>Connect with me</strong>:</p>
<ul>
  <li>💼 <a href="https://www.linkedin.com/in/mahedee/">LinkedIn</a></li>
  <li>🐙 <a href="https://github.com/mahedee">GitHub</a></li>
  <li>
    <h2 id="-blog">📝 <a href="https://mahedee.net/">Blog</a></h2>
  </li>
</ul>

<p>🌟 <em>Found this helpful? Please share it with others who might benefit from understanding binary tree traversal algorithms.</em> 🌟</p>]]></content><author><name>Mahedee Hasan</name></author><category term="Data Structures" /><category term="Algorithms" /><category term="Computer Science" /><category term="Java" /><category term="binary-trees" /><category term="tree-traversal" /><category term="depth-first-search" /><category term="breadth-first-search" /><category term="dfs" /><category term="bfs" /><category term="preorder" /><category term="inorder" /><category term="postorder" /><category term="level-order" /><category term="recursion" /><category term="java" /><category term="algorithms" /><category term="data-structures" /><category term="computer-science" /><category term="programming-tutorial" /><summary type="html"><![CDATA[Binary tree traversal algorithms are fundamental techniques that allow systematic visiting of every node in a tree. This comprehensive guide covers all four major traversal methods with complete implementations, real-world applications, and performance analysis.]]></summary></entry><entry><title type="html">Developing and Testing a Multi-Environment ASP.NET Core Application with SQL Server</title><link href="https://mahedee.net/Developing-and-Testing-a-Multi-Environment-ASP-NET-Core-Application-with-SQL-Server/" rel="alternate" type="text/html" title="Developing and Testing a Multi-Environment ASP.NET Core Application with SQL Server" /><published>2025-06-08T00:00:00-04:00</published><updated>2025-06-08T00:00:00-04:00</updated><id>https://mahedee.net/Developing-and-Testing-a-Multi-Environment-ASP-NET-Core-Application-with-SQL-Server</id><content type="html" xml:base="https://mahedee.net/Developing-and-Testing-a-Multi-Environment-ASP-NET-Core-Application-with-SQL-Server/"><![CDATA[<p><strong>Introduction</strong></p>

<p>Running the same code across environments demands clear configuration boundaries, safe database migrations, and repeatable tests. In this comprehensive step-by-step guide, you’ll develop and configure an ASP.NET Core Web API project from scratch to work consistently in Development, QA, and Production using ASP.NET Core, EF Core, and SQL Server. At the end of this guide, you’ll have a production-ready HRM (Human Resource Management) API with automated testing workflows for multiple environments.</p>

<p><strong>Why it is important?</strong></p>
<ul>
  <li>Environment parity reduces “works on my machine” issues.</li>
  <li>Safer deployments with gated migrations and smoke tests.</li>
  <li>Clean separation of secrets and settings for Dev/QA/Prod.</li>
  <li>Faster troubleshooting with predictable diagnostics and seed data.</li>
  <li>Production-ready architecture with proper testing infrastructure.</li>
</ul>

<p><strong>Tools and Technology Used</strong></p>
<ul>
  <li>.NET 9 SDK</li>
  <li>ASP.NET Core Web API</li>
  <li>C#</li>
  <li>Entity Framework Core 9 (SQL Server)</li>
  <li>SQL Server (LocalDB, Express, or full version)</li>
  <li>xUnit (testing framework)</li>
  <li>PowerShell (automation scripts)</li>
  <li>Visual Studio 2022 or VS Code</li>
</ul>

<p><strong>Implementation:</strong></p>

<p><strong>Step 1: Prepare Development Environment</strong></p>

<p><strong>Option A — Local SQL Server Installation:</strong>
Install SQL Server, or use LocalDB. Ensure SQL Server is accessible with your credentials.</p>

<p><strong>Option B — Docker SQL Server (Windows PowerShell):</strong>
If you don’t have SQL Server installed, use Docker to run a SQL Server container:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Pull and run SQL Server 2022 in Docker</span><span class="w">
</span><span class="n">docker</span><span class="w"> </span><span class="nx">pull</span><span class="w"> </span><span class="nx">mcr.microsoft.com/mssql/server:2022-latest</span><span class="w">
</span><span class="n">docker</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="nt">-e</span><span class="w"> </span><span class="s2">"ACCEPT_EULA=Y"</span><span class="w"> </span><span class="nt">-e</span><span class="w"> </span><span class="s2">"SA_PASSWORD=YourPassword123!"</span><span class="w"> </span><span class="nt">-p</span><span class="w"> </span><span class="nx">1433:1433</span><span class="w"> </span><span class="nt">--name</span><span class="w"> </span><span class="nx">sql2022</span><span class="w"> </span><span class="nt">-d</span><span class="w"> </span><span class="nx">mcr.microsoft.com/mssql/server:2022-latest</span><span class="w">

</span><span class="c"># Verify connection</span><span class="w">
</span><span class="n">sqlcmd</span><span class="w"> </span><span class="nt">-S</span><span class="w"> </span><span class="nx">localhost</span><span class="w"> </span><span class="nt">-U</span><span class="w"> </span><span class="nx">sa</span><span class="w"> </span><span class="nt">-P</span><span class="w"> </span><span class="s2">"YourPassword123!"</span><span class="w"> </span><span class="nt">-Q</span><span class="w"> </span><span class="s2">"SELECT @@VERSION"</span><span class="w">
</span></code></pre></div></div>

<p><strong>Verify Prerequisites:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check .NET 9 SDK</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nt">--version</span><span class="w">
</span><span class="c"># Expected: 9.0.x</span><span class="w">

</span><span class="c"># Test SQL Server connection</span><span class="w">
</span><span class="n">sqlcmd</span><span class="w"> </span><span class="nt">-S</span><span class="w"> </span><span class="nx">localhost</span><span class="w"> </span><span class="nt">-E</span><span class="w"> </span><span class="nt">-Q</span><span class="w"> </span><span class="s2">"SELECT @@VERSION"</span><span class="w">

</span><span class="c"># Check PowerShell version</span><span class="w">
</span><span class="bp">$PSVersionTable</span><span class="o">.</span><span class="nf">PSVersion</span><span class="w">
</span></code></pre></div></div>

<p><strong>Step 2: Create Project Structure from Scratch</strong></p>

<ul>
  <li>Create the solution and project structure using the following commands:</li>
</ul>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create solution structure</span><span class="w">
</span><span class="n">mkdir</span><span class="w"> </span><span class="nx">multi-env-app</span><span class="w">
</span><span class="n">cd</span><span class="w"> </span><span class="nx">multi-env-app</span><span class="w">
</span><span class="n">mkdir</span><span class="w"> </span><span class="nx">src</span><span class="p">,</span><span class="w"> </span><span class="nx">doc</span><span class="w">
</span><span class="n">cd</span><span class="w"> </span><span class="nx">src</span><span class="w">
</span><span class="n">mkdir</span><span class="w"> </span><span class="nx">HRM</span><span class="w">
</span><span class="n">cd</span><span class="w"> </span><span class="nx">HRM</span><span class="w">

</span><span class="c"># Create solution and Web API project</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">new</span><span class="w"> </span><span class="nx">sln</span><span class="w"> </span><span class="nt">-n</span><span class="w"> </span><span class="nx">HRM</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">new</span><span class="w"> </span><span class="nx">webapi</span><span class="w"> </span><span class="nt">-n</span><span class="w"> </span><span class="nx">HRM.API</span><span class="w"> </span><span class="nt">--framework</span><span class="w"> </span><span class="nx">net9.0</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">sln</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">HRM.API/HRM.API.csproj</span><span class="w">

</span><span class="c"># Navigate to API project and install packages</span><span class="w">
</span><span class="n">cd</span><span class="w"> </span><span class="nx">HRM.API</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">package</span><span class="w"> </span><span class="nx">Microsoft.EntityFrameworkCore.SqlServer</span><span class="w"> </span><span class="nt">--version</span><span class="w"> </span><span class="nx">9.0.0</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">package</span><span class="w"> </span><span class="nx">Microsoft.EntityFrameworkCore.Tools</span><span class="w"> </span><span class="nt">--version</span><span class="w"> </span><span class="nx">9.0.0</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">package</span><span class="w"> </span><span class="nx">Microsoft.EntityFrameworkCore.Design</span><span class="w"> </span><span class="nt">--version</span><span class="w"> </span><span class="nx">9.0.0</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">package</span><span class="w"> </span><span class="nx">Microsoft.AspNetCore.OpenApi</span><span class="w"> </span><span class="nt">--version</span><span class="w"> </span><span class="nx">9.0.0</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">package</span><span class="w"> </span><span class="nx">Swashbuckle.AspNetCore</span><span class="w"> </span><span class="nt">--version</span><span class="w"> </span><span class="nx">6.8.1</span><span class="w">

</span><span class="c"># Create project folders</span><span class="w">
</span><span class="n">mkdir</span><span class="w"> </span><span class="nx">Controllers</span><span class="p">,</span><span class="w"> </span><span class="nx">Models</span><span class="p">,</span><span class="w"> </span><span class="nx">DTOs</span><span class="p">,</span><span class="w"> </span><span class="nx">Services</span><span class="p">,</span><span class="w"> </span><span class="nx">Data</span><span class="p">,</span><span class="w"> </span><span class="nx">Migrations</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li>You can use visual studio to create the solution and project structure if you prefer a GUI.</li>
</ul>

<p><strong>Project Structure Overview:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HRM/
├── HRM.sln                     # Solution file
├── HRM.API/                    # Main Web API project
│   ├── Controllers/            # API endpoints (DepartmentsController, EmployeesController)
│   ├── Services/              # Business logic services and interfaces
│   ├── Data/                  # Entity Framework DbContext
│   ├── Models/                # Entity models (Department, Employee)
│   ├── DTOs/                  # Data transfer objects with validation
│   ├── Migrations/            # EF Core database migrations
│   ├── Properties/            # Launch settings with multiple profiles
│   ├── appsettings.json       # Production configuration (base settings)
│   ├── appsettings.Development.json # Development environment settings
│   ├── appsettings.QA.json    # QA environment settings
│   ├── Program.cs             # Application entry point
│   └── HRM.API.csproj         # Project file with dependencies
└── HRM.Tests/                 # Test project (created later)
</code></pre></div></div>

<p><strong>Step 3: Create Data Models and Database Context</strong></p>

<p><strong>Create Entity Models:</strong></p>

<p>Create <code class="language-plaintext highlighter-rouge">Models/Department.cs</code>:</p>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.ComponentModel.DataAnnotations</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">HRM.API.Models</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Department</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">DepartmentId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="p">[</span><span class="n">Required</span><span class="p">]</span>
        <span class="p">[</span><span class="nf">StringLength</span><span class="p">(</span><span class="m">100</span><span class="p">)]</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>

        <span class="p">[</span><span class="nf">StringLength</span><span class="p">(</span><span class="m">500</span><span class="p">)]</span>
        <span class="k">public</span> <span class="kt">string</span><span class="p">?</span> <span class="n">Description</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="k">public</span> <span class="kt">bool</span> <span class="n">IsActive</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>

        <span class="k">public</span> <span class="n">DateTime</span> <span class="n">CreatedDate</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">;</span>

        <span class="k">public</span> <span class="n">DateTime</span><span class="p">?</span> <span class="n">UpdatedDate</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="c1">// Navigation property</span>
        <span class="k">public</span> <span class="k">virtual</span> <span class="n">ICollection</span><span class="p">&lt;</span><span class="n">Employee</span><span class="p">&gt;</span> <span class="n">Employees</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Employee</span><span class="p">&gt;();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Create <code class="language-plaintext highlighter-rouge">Models/Employee.cs</code>:</p>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.ComponentModel.DataAnnotations</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.ComponentModel.DataAnnotations.Schema</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">HRM.API.Models</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Employee</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">EmployeeId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="p">[</span><span class="n">Required</span><span class="p">]</span>
        <span class="p">[</span><span class="nf">StringLength</span><span class="p">(</span><span class="m">100</span><span class="p">)]</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">FirstName</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>

        <span class="p">[</span><span class="n">Required</span><span class="p">]</span>
        <span class="p">[</span><span class="nf">StringLength</span><span class="p">(</span><span class="m">100</span><span class="p">)]</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">LastName</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>

        <span class="p">[</span><span class="n">Required</span><span class="p">]</span>
        <span class="p">[</span><span class="n">EmailAddress</span><span class="p">]</span>
        <span class="p">[</span><span class="nf">StringLength</span><span class="p">(</span><span class="m">255</span><span class="p">)]</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Email</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>

        <span class="p">[</span><span class="nf">StringLength</span><span class="p">(</span><span class="m">20</span><span class="p">)]</span>
        <span class="k">public</span> <span class="kt">string</span><span class="p">?</span> <span class="n">PhoneNumber</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="p">[</span><span class="n">Required</span><span class="p">]</span>
        <span class="k">public</span> <span class="n">DateTime</span> <span class="n">HireDate</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="p">[</span><span class="n">Required</span><span class="p">]</span>
        <span class="p">[</span><span class="nf">Column</span><span class="p">(</span><span class="n">TypeName</span> <span class="p">=</span> <span class="s">"decimal(10,2)"</span><span class="p">)]</span>
        <span class="k">public</span> <span class="kt">decimal</span> <span class="n">Salary</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="p">[</span><span class="n">Required</span><span class="p">]</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">DepartmentId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="k">public</span> <span class="n">DateTime</span> <span class="n">CreatedDate</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">;</span>

        <span class="k">public</span> <span class="n">DateTime</span><span class="p">?</span> <span class="n">UpdatedDate</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="c1">// Navigation property</span>
        <span class="k">public</span> <span class="k">virtual</span> <span class="n">Department</span> <span class="n">Department</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="k">null</span><span class="p">!;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Create Database Context with Seed Data:</strong></p>

<p>Create <code class="language-plaintext highlighter-rouge">Data/HrmDbContext.cs</code>:</p>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">Microsoft.EntityFrameworkCore</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API.Models</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">HRM.API.Data</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">HrmDbContext</span> <span class="p">:</span> <span class="n">DbContext</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">HrmDbContext</span><span class="p">(</span><span class="n">DbContextOptions</span><span class="p">&lt;</span><span class="n">HrmDbContext</span><span class="p">&gt;</span> <span class="n">options</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="n">DbSet</span><span class="p">&lt;</span><span class="n">Employee</span><span class="p">&gt;</span> <span class="n">Employees</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">DbSet</span><span class="p">&lt;</span><span class="n">Department</span><span class="p">&gt;</span> <span class="n">Departments</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnModelCreating</span><span class="p">(</span><span class="n">ModelBuilder</span> <span class="n">modelBuilder</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">base</span><span class="p">.</span><span class="nf">OnModelCreating</span><span class="p">(</span><span class="n">modelBuilder</span><span class="p">);</span>

            <span class="c1">// Configure relationships</span>
            <span class="n">modelBuilder</span><span class="p">.</span><span class="n">Entity</span><span class="p">&lt;</span><span class="n">Employee</span><span class="p">&gt;()</span>
                <span class="p">.</span><span class="nf">HasOne</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Department</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">WithMany</span><span class="p">(</span><span class="n">d</span> <span class="p">=&gt;</span> <span class="n">d</span><span class="p">.</span><span class="n">Employees</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">HasForeignKey</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">DepartmentId</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">OnDelete</span><span class="p">(</span><span class="n">DeleteBehavior</span><span class="p">.</span><span class="n">Restrict</span><span class="p">);</span>

            <span class="c1">// Configure unique constraints</span>
            <span class="n">modelBuilder</span><span class="p">.</span><span class="n">Entity</span><span class="p">&lt;</span><span class="n">Employee</span><span class="p">&gt;()</span>
                <span class="p">.</span><span class="nf">HasIndex</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Email</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">IsUnique</span><span class="p">();</span>

            <span class="n">modelBuilder</span><span class="p">.</span><span class="n">Entity</span><span class="p">&lt;</span><span class="n">Department</span><span class="p">&gt;()</span>
                <span class="p">.</span><span class="nf">HasIndex</span><span class="p">(</span><span class="n">d</span> <span class="p">=&gt;</span> <span class="n">d</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">IsUnique</span><span class="p">();</span>

            <span class="c1">// Seed sample data for testing</span>
            <span class="nf">SeedData</span><span class="p">(</span><span class="n">modelBuilder</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">SeedData</span><span class="p">(</span><span class="n">ModelBuilder</span> <span class="n">modelBuilder</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Seed Departments</span>
            <span class="n">modelBuilder</span><span class="p">.</span><span class="n">Entity</span><span class="p">&lt;</span><span class="n">Department</span><span class="p">&gt;().</span><span class="nf">HasData</span><span class="p">(</span>
                <span class="k">new</span> <span class="n">Department</span> <span class="p">{</span> <span class="n">DepartmentId</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Human Resources"</span><span class="p">,</span> <span class="n">Description</span> <span class="p">=</span> <span class="s">"Manages employee relations, recruitment, and benefits"</span><span class="p">,</span> <span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span> <span class="n">CreatedDate</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">DateTimeKind</span><span class="p">.</span><span class="n">Utc</span><span class="p">)</span> <span class="p">},</span>
                <span class="k">new</span> <span class="n">Department</span> <span class="p">{</span> <span class="n">DepartmentId</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Information Technology"</span><span class="p">,</span> <span class="n">Description</span> <span class="p">=</span> <span class="s">"Handles all technology infrastructure and software development"</span><span class="p">,</span> <span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span> <span class="n">CreatedDate</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">DateTimeKind</span><span class="p">.</span><span class="n">Utc</span><span class="p">)</span> <span class="p">},</span>
                <span class="k">new</span> <span class="n">Department</span> <span class="p">{</span> <span class="n">DepartmentId</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Finance"</span><span class="p">,</span> <span class="n">Description</span> <span class="p">=</span> <span class="s">"Manages company finances, budgeting, and accounting"</span><span class="p">,</span> <span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span> <span class="n">CreatedDate</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">DateTimeKind</span><span class="p">.</span><span class="n">Utc</span><span class="p">)</span> <span class="p">},</span>
                <span class="k">new</span> <span class="n">Department</span> <span class="p">{</span> <span class="n">DepartmentId</span> <span class="p">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Marketing"</span><span class="p">,</span> <span class="n">Description</span> <span class="p">=</span> <span class="s">"Handles marketing campaigns, branding, and customer outreach"</span><span class="p">,</span> <span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span> <span class="n">CreatedDate</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">DateTimeKind</span><span class="p">.</span><span class="n">Utc</span><span class="p">)</span> <span class="p">},</span>
                <span class="k">new</span> <span class="n">Department</span> <span class="p">{</span> <span class="n">DepartmentId</span> <span class="p">=</span> <span class="m">5</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Sales"</span><span class="p">,</span> <span class="n">Description</span> <span class="p">=</span> <span class="s">"Manages customer relationships and sales processes"</span><span class="p">,</span> <span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span> <span class="n">CreatedDate</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">DateTimeKind</span><span class="p">.</span><span class="n">Utc</span><span class="p">)</span> <span class="p">}</span>
            <span class="p">);</span>

            <span class="c1">// Seed Employees</span>
            <span class="n">modelBuilder</span><span class="p">.</span><span class="n">Entity</span><span class="p">&lt;</span><span class="n">Employee</span><span class="p">&gt;().</span><span class="nf">HasData</span><span class="p">(</span>
                <span class="k">new</span> <span class="n">Employee</span> <span class="p">{</span> <span class="n">EmployeeId</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"Sarah"</span><span class="p">,</span> <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Johnson"</span><span class="p">,</span> <span class="n">Email</span> <span class="p">=</span> <span class="s">"sarah.johnson@company.com"</span><span class="p">,</span> <span class="n">PhoneNumber</span> <span class="p">=</span> <span class="s">"+1-555-0101"</span><span class="p">,</span> <span class="n">HireDate</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">2023</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">15</span><span class="p">),</span> <span class="n">Salary</span> <span class="p">=</span> <span class="m">75000m</span><span class="p">,</span> <span class="n">DepartmentId</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">CreatedDate</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">DateTimeKind</span><span class="p">.</span><span class="n">Utc</span><span class="p">)</span> <span class="p">},</span>
                <span class="k">new</span> <span class="n">Employee</span> <span class="p">{</span> <span class="n">EmployeeId</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"Michael"</span><span class="p">,</span> <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Chen"</span><span class="p">,</span> <span class="n">Email</span> <span class="p">=</span> <span class="s">"michael.chen@company.com"</span><span class="p">,</span> <span class="n">PhoneNumber</span> <span class="p">=</span> <span class="s">"+1-555-0102"</span><span class="p">,</span> <span class="n">HireDate</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">2022</span><span class="p">,</span> <span class="m">8</span><span class="p">,</span> <span class="m">22</span><span class="p">),</span> <span class="n">Salary</span> <span class="p">=</span> <span class="m">95000m</span><span class="p">,</span> <span class="n">DepartmentId</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">CreatedDate</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">DateTimeKind</span><span class="p">.</span><span class="n">Utc</span><span class="p">)</span> <span class="p">},</span>
                <span class="k">new</span> <span class="n">Employee</span> <span class="p">{</span> <span class="n">EmployeeId</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"Emily"</span><span class="p">,</span> <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Davis"</span><span class="p">,</span> <span class="n">Email</span> <span class="p">=</span> <span class="s">"emily.davis@company.com"</span><span class="p">,</span> <span class="n">PhoneNumber</span> <span class="p">=</span> <span class="s">"+1-555-0103"</span><span class="p">,</span> <span class="n">HireDate</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">2023</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">10</span><span class="p">),</span> <span class="n">Salary</span> <span class="p">=</span> <span class="m">82000m</span><span class="p">,</span> <span class="n">DepartmentId</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">CreatedDate</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">DateTimeKind</span><span class="p">.</span><span class="n">Utc</span><span class="p">)</span> <span class="p">}</span>
            <span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Step 4: Configure Multi-Environment Settings</strong></p>

<p>ASP.NET Core loads <code class="language-plaintext highlighter-rouge">appsettings.json</code> plus <code class="language-plaintext highlighter-rouge">appsettings.{Environment}.json</code>. Create environment-specific configuration files:</p>

<p><strong>Create <code class="language-plaintext highlighter-rouge">appsettings.json</code> (Production base):</strong></p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ConnectionStrings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"DefaultConnection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Server=prod-server;Database=HRM_Prod;User Id=hrm_user;Password=secure_prod_password;TrustServerCertificate=true;Encrypt=true;"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Logging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"LogLevel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Microsoft.AspNetCore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Warning"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Microsoft.EntityFrameworkCore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Warning"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"AllowedHosts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ApiSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HRM API - Production"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnableSwagger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnableDetailedErrors"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Create <code class="language-plaintext highlighter-rouge">appsettings.Development.json</code>:</strong></p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ConnectionStrings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"DefaultConnection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Server=localhost;Database=HRM_DEV;User Id=sa;Password=YourPassword123!;TrustServerCertificate=true;"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Logging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"LogLevel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Debug"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Microsoft.AspNetCore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Microsoft.EntityFrameworkCore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Microsoft.EntityFrameworkCore.Database.Command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"ApiSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HRM API - Development"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnableSwagger"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnableDetailedErrors"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Create <code class="language-plaintext highlighter-rouge">appsettings.QA.json</code>:</strong></p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ConnectionStrings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"DefaultConnection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Server=localhost;Database=HRM_QA;User Id=sa;Password=YourPassword123!;TrustServerCertificate=true;"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Logging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"LogLevel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Microsoft.AspNetCore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Microsoft.EntityFrameworkCore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"ApiSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HRM API - QA Environment"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnableSwagger"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnableDetailedErrors"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Configure Multiple Launch Profiles:</strong></p>

<p>Update <code class="language-plaintext highlighter-rouge">Properties/launchSettings.json</code>:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"profiles"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"development"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"commandName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Project"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"applicationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://localhost:7285;http://localhost:5152"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"launchBrowser"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"launchUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swagger"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"environmentVariables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ASPNETCORE_ENVIRONMENT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Development"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"qa"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"commandName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Project"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"applicationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://localhost:7286;http://localhost:5153"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"launchBrowser"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"launchUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swagger"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"environmentVariables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ASPNETCORE_ENVIRONMENT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QA"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"production"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"commandName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Project"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"applicationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://localhost:7287;http://localhost:5154"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"launchBrowser"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"environmentVariables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ASPNETCORE_ENVIRONMENT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Production"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Set environment when running:</strong></p>
<ul>
  <li>Run the following command in PowerShell to set the environment variable:
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ASPNETCORE_ENVIRONMENT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Development"</span><span class="w">   </span><span class="c"># or "QA", "Production"</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ul>

<p><strong>Step 5: Create Business Logic Services</strong></p>

<p><strong>Create service interfaces and implementations (key files):</strong></p>

<p>Create <code class="language-plaintext highlighter-rouge">Services/IDepartmentService.cs</code>:</p>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">HRM.API.DTOs</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">HRM.API.Services</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">interface</span> <span class="nc">IDepartmentService</span>
    <span class="p">{</span>
        <span class="n">Task</span><span class="p">&lt;</span><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">DepartmentDto</span><span class="p">&gt;&gt;</span> <span class="nf">GetAllDepartmentsAsync</span><span class="p">();</span>
        <span class="n">Task</span><span class="p">&lt;</span><span class="n">DepartmentDto</span><span class="p">?&gt;</span> <span class="nf">GetDepartmentByIdAsync</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">);</span>
        <span class="n">Task</span><span class="p">&lt;</span><span class="n">DepartmentDto</span><span class="p">&gt;</span> <span class="nf">CreateDepartmentAsync</span><span class="p">(</span><span class="n">CreateDepartmentDto</span> <span class="n">createDepartmentDto</span><span class="p">);</span>
        <span class="n">Task</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;</span> <span class="nf">DeleteDepartmentAsync</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">);</span>
        <span class="n">Task</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;</span> <span class="nf">DepartmentExistsAsync</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Create <code class="language-plaintext highlighter-rouge">Services/DepartmentService.cs</code> (implementing business logic with EF Core operations).</p>

<p><strong>Step 6: Create API Controllers</strong></p>

<p>Create <code class="language-plaintext highlighter-rouge">Controllers/DepartmentsController.cs</code>:</p>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Mvc</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API.DTOs</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API.Services</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">HRM.API.Controllers</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">ApiController</span><span class="p">]</span>
    <span class="p">[</span><span class="nf">Route</span><span class="p">(</span><span class="s">"api/[controller]"</span><span class="p">)]</span>
    <span class="p">[</span><span class="nf">Produces</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">DepartmentsController</span> <span class="p">:</span> <span class="n">ControllerBase</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">IDepartmentService</span> <span class="n">_departmentService</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">DepartmentsController</span><span class="p">(</span><span class="n">IDepartmentService</span> <span class="n">departmentService</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">_departmentService</span> <span class="p">=</span> <span class="n">departmentService</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">HttpGet</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">ActionResult</span><span class="p">&lt;</span><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">DepartmentDto</span><span class="p">&gt;&gt;&gt;</span> <span class="nf">GetDepartments</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">departments</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_departmentService</span><span class="p">.</span><span class="nf">GetAllDepartmentsAsync</span><span class="p">();</span>
            <span class="k">return</span> <span class="nf">Ok</span><span class="p">(</span><span class="n">departments</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="nf">HttpGet</span><span class="p">(</span><span class="s">"{id}"</span><span class="p">)]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">ActionResult</span><span class="p">&lt;</span><span class="n">DepartmentDto</span><span class="p">&gt;&gt;</span> <span class="nf">GetDepartment</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">department</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_departmentService</span><span class="p">.</span><span class="nf">GetDepartmentByIdAsync</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">department</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
                <span class="k">return</span> <span class="nf">NotFound</span><span class="p">(</span><span class="s">$"Department with ID </span><span class="p">{</span><span class="n">id</span><span class="p">}</span><span class="s"> not found."</span><span class="p">);</span>

            <span class="k">return</span> <span class="nf">Ok</span><span class="p">(</span><span class="n">department</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">HttpPost</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">ActionResult</span><span class="p">&lt;</span><span class="n">DepartmentDto</span><span class="p">&gt;&gt;</span> <span class="nf">CreateDepartment</span><span class="p">(</span><span class="n">CreateDepartmentDto</span> <span class="n">createDepartmentDto</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(!</span><span class="n">ModelState</span><span class="p">.</span><span class="n">IsValid</span><span class="p">)</span>
                <span class="k">return</span> <span class="nf">BadRequest</span><span class="p">(</span><span class="n">ModelState</span><span class="p">);</span>

            <span class="kt">var</span> <span class="n">department</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_departmentService</span><span class="p">.</span><span class="nf">CreateDepartmentAsync</span><span class="p">(</span><span class="n">createDepartmentDto</span><span class="p">);</span>
            <span class="k">return</span> <span class="nf">CreatedAtAction</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">GetDepartment</span><span class="p">),</span> <span class="k">new</span> <span class="p">{</span> <span class="n">id</span> <span class="p">=</span> <span class="n">department</span><span class="p">.</span><span class="n">DepartmentId</span> <span class="p">},</span> <span class="n">department</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="nf">HttpDelete</span><span class="p">(</span><span class="s">"{id}"</span><span class="p">)]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="nf">DeleteDepartment</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_departmentService</span><span class="p">.</span><span class="nf">DeleteDepartmentAsync</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(!</span><span class="n">result</span><span class="p">)</span>
                <span class="k">return</span> <span class="nf">NotFound</span><span class="p">(</span><span class="s">$"Department with ID </span><span class="p">{</span><span class="n">id</span><span class="p">}</span><span class="s"> not found."</span><span class="p">);</span>

            <span class="k">return</span> <span class="nf">NoContent</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Step 7: Configure Program.cs for Multi-Environment Support</strong></p>

<p>Update <code class="language-plaintext highlighter-rouge">Program.cs</code>:</p>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">Microsoft.EntityFrameworkCore</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API.Data</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API.Services</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">builder</span> <span class="p">=</span> <span class="n">WebApplication</span><span class="p">.</span><span class="nf">CreateBuilder</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>

<span class="c1">// Add services to the container</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="nf">AddControllers</span><span class="p">();</span>

<span class="c1">// Configure Entity Framework with environment-specific connection string</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddDbContext</span><span class="p">&lt;</span><span class="n">HrmDbContext</span><span class="p">&gt;(</span><span class="n">options</span> <span class="p">=&gt;</span>
    <span class="n">options</span><span class="p">.</span><span class="nf">UseSqlServer</span><span class="p">(</span><span class="n">builder</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="nf">GetConnectionString</span><span class="p">(</span><span class="s">"DefaultConnection"</span><span class="p">)));</span>

<span class="c1">// Register business services for dependency injection</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddScoped</span><span class="p">&lt;</span><span class="n">IDepartmentService</span><span class="p">,</span> <span class="n">DepartmentService</span><span class="p">&gt;();</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddScoped</span><span class="p">&lt;</span><span class="n">IEmployeeService</span><span class="p">,</span> <span class="n">EmployeeService</span><span class="p">&gt;();</span>

<span class="c1">// Configure API documentation</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="nf">AddEndpointsApiExplorer</span><span class="p">();</span>

<span class="c1">// Conditionally add Swagger based on environment configuration</span>
<span class="kt">var</span> <span class="n">apiSettings</span> <span class="p">=</span> <span class="n">builder</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="nf">GetSection</span><span class="p">(</span><span class="s">"ApiSettings"</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">apiSettings</span><span class="p">.</span><span class="n">GetValue</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;(</span><span class="s">"EnableSwagger"</span><span class="p">))</span>
<span class="p">{</span>
    <span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="nf">AddSwaggerGen</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="n">c</span><span class="p">.</span><span class="nf">SwaggerDoc</span><span class="p">(</span><span class="s">"v1"</span><span class="p">,</span> <span class="k">new</span><span class="p">()</span> 
        <span class="p">{</span> 
            <span class="n">Title</span> <span class="p">=</span> <span class="n">apiSettings</span><span class="p">.</span><span class="n">GetValue</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"Title"</span><span class="p">),</span> 
            <span class="n">Version</span> <span class="p">=</span> <span class="n">apiSettings</span><span class="p">.</span><span class="n">GetValue</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"Version"</span><span class="p">)</span> 
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">app</span> <span class="p">=</span> <span class="n">builder</span><span class="p">.</span><span class="nf">Build</span><span class="p">();</span>

<span class="c1">// Configure the HTTP request pipeline based on environment</span>
<span class="k">if</span> <span class="p">(</span><span class="n">app</span><span class="p">.</span><span class="n">Environment</span><span class="p">.</span><span class="nf">IsDevelopment</span><span class="p">()</span> <span class="p">||</span> <span class="n">app</span><span class="p">.</span><span class="n">Environment</span><span class="p">.</span><span class="n">EnvironmentName</span> <span class="p">==</span> <span class="s">"QA"</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">apiSettings</span><span class="p">.</span><span class="n">GetValue</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;(</span><span class="s">"EnableSwagger"</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="n">app</span><span class="p">.</span><span class="nf">UseSwagger</span><span class="p">();</span>
        <span class="n">app</span><span class="p">.</span><span class="nf">UseSwaggerUI</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span>
        <span class="p">{</span>
            <span class="n">c</span><span class="p">.</span><span class="nf">SwaggerEndpoint</span><span class="p">(</span><span class="s">"/swagger/v1/swagger.json"</span><span class="p">,</span> <span class="n">apiSettings</span><span class="p">.</span><span class="n">GetValue</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"Title"</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">app</span><span class="p">.</span><span class="nf">UseHttpsRedirection</span><span class="p">();</span>
<span class="n">app</span><span class="p">.</span><span class="nf">UseAuthorization</span><span class="p">();</span>
<span class="n">app</span><span class="p">.</span><span class="nf">MapControllers</span><span class="p">();</span>

<span class="c1">// Ensure database is created (for development/demo purposes)</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">scope</span> <span class="p">=</span> <span class="n">app</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="nf">CreateScope</span><span class="p">())</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">context</span> <span class="p">=</span> <span class="n">scope</span><span class="p">.</span><span class="n">ServiceProvider</span><span class="p">.</span><span class="n">GetRequiredService</span><span class="p">&lt;</span><span class="n">HrmDbContext</span><span class="p">&gt;();</span>
    <span class="n">context</span><span class="p">.</span><span class="n">Database</span><span class="p">.</span><span class="nf">EnsureCreated</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">app</span><span class="p">.</span><span class="nf">Run</span><span class="p">();</span>
</code></pre></div></div>

<p>Note: <code class="language-plaintext highlighter-rouge">EnsureCreated()</code> is used for demo purposes. For production, use <code class="language-plaintext highlighter-rouge">Database.Migrate()</code> and controlled migrations.</p>

<p><strong>Step 8: Create and Apply Database Migrations</strong></p>

<p>Navigate to the API project and create/apply migrations for each environment:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cd</span><span class="w"> </span><span class="nx">d:/Projects/GitHub/rnd/projects/in-progress/multi-env-app/src/HRM/HRM.API</span><span class="w">

</span><span class="c"># Create initial migration</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">ef</span><span class="w"> </span><span class="nx">migrations</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">InitialCreate</span><span class="w">

</span><span class="c"># Apply migration to Development database</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ASPNETCORE_ENVIRONMENT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Development"</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">ef</span><span class="w"> </span><span class="nx">database</span><span class="w"> </span><span class="nx">update</span><span class="w">

</span><span class="c"># Apply migration to QA database</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ASPNETCORE_ENVIRONMENT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"QA"</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">ef</span><span class="w"> </span><span class="nx">database</span><span class="w"> </span><span class="nx">update</span><span class="w">

</span><span class="c"># Apply migration to Production database (when ready)</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ASPNETCORE_ENVIRONMENT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Production"</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">ef</span><span class="w"> </span><span class="nx">database</span><span class="w"> </span><span class="nx">update</span><span class="w">
</span></code></pre></div></div>

<p><strong>When models change, add new migrations:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ASPNETCORE_ENVIRONMENT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Development"</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">ef</span><span class="w"> </span><span class="nx">migrations</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">AddNewField</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">ef</span><span class="w"> </span><span class="nx">database</span><span class="w"> </span><span class="nx">update</span><span class="w">
</span></code></pre></div></div>

<p><strong>Verify Database Creation:</strong>
After running migrations, you should have three separate databases:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">HRM_DEV</code> (Development)</li>
  <li><code class="language-plaintext highlighter-rouge">HRM_QA</code> (QA)</li>
  <li><code class="language-plaintext highlighter-rouge">HRM_Prod</code> (Production)</li>
</ul>

<p>Each database contains the seeded data from <code class="language-plaintext highlighter-rouge">HrmDbContext</code>, providing consistent test data across environments.</p>

<p><strong>Step 9: Run and Test the API Across Environments</strong></p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cd</span><span class="w"> </span><span class="nx">d:/Projects/GitHub/rnd/projects/in-progress/multi-env-app/src/HRM/HRM.API</span><span class="w">

</span><span class="c"># Run in Development with Swagger UI</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ASPNETCORE_ENVIRONMENT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Development"</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="nt">--launch-profile</span><span class="w"> </span><span class="nx">development</span><span class="w">
</span><span class="c"># Access: http://localhost:5152/swagger</span><span class="w">

</span><span class="c"># Run in QA environment</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ASPNETCORE_ENVIRONMENT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"QA"</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="nt">--launch-profile</span><span class="w"> </span><span class="nx">qa</span><span class="w">
</span><span class="c"># Access: http://localhost:5153/swagger</span><span class="w">

</span><span class="c"># Run in Production mode (no Swagger)</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ASPNETCORE_ENVIRONMENT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Production"</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="nt">--launch-profile</span><span class="w"> </span><span class="nx">production</span><span class="w">
</span><span class="c"># Access: http://localhost:5154/api/departments</span><span class="w">
</span></code></pre></div></div>

<p><strong>Environment-Specific Features:</strong></p>
<ul>
  <li><strong>Development</strong>: Swagger UI enabled, detailed logging, debug information</li>
  <li><strong>QA</strong>: Swagger UI enabled, moderate logging, similar to production but with testing features</li>
  <li><strong>Production</strong>: Swagger disabled, minimal logging, optimized for performance</li>
</ul>

<p><strong>Run the application for different environments using Visual Studio</strong></p>
<ul>
  <li>Select the desired profile (development, qa, production) from the debug dropdown and run.</li>
</ul>

<p><strong>Step 10: API Testing and Validation</strong></p>

<p><strong>Manual Testing with PowerShell:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Test Development environment</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ASPNETCORE_ENVIRONMENT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Development"</span><span class="w">
</span><span class="c"># Start the API in another terminal: dotnet run --launch-profile development</span><span class="w">

</span><span class="c"># Get all departments</span><span class="w">
</span><span class="n">Invoke-RestMethod</span><span class="w"> </span><span class="nt">-Method</span><span class="w"> </span><span class="nx">GET</span><span class="w"> </span><span class="nt">-Uri</span><span class="w"> </span><span class="s2">"http://localhost:5152/api/departments"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ConvertTo-Json</span><span class="w">

</span><span class="c"># Get all employees</span><span class="w">
</span><span class="n">Invoke-RestMethod</span><span class="w"> </span><span class="nt">-Method</span><span class="w"> </span><span class="nx">GET</span><span class="w"> </span><span class="nt">-Uri</span><span class="w"> </span><span class="s2">"http://localhost:5152/api/employees"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ConvertTo-Json</span><span class="w">

</span><span class="c"># Create a new department</span><span class="w">
</span><span class="nv">$newDept</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">@{</span><span class="w">
    </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Research &amp; Development"</span><span class="w">
    </span><span class="nx">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Innovation and product development"</span><span class="w">
    </span><span class="nx">isActive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$true</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ConvertTo-Json</span><span class="w">

</span><span class="n">Invoke-RestMethod</span><span class="w"> </span><span class="nt">-Method</span><span class="w"> </span><span class="nx">POST</span><span class="w"> </span><span class="nt">-Uri</span><span class="w"> </span><span class="s2">"http://localhost:5152/api/departments"</span><span class="w"> </span><span class="nt">-ContentType</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w"> </span><span class="nt">-Body</span><span class="w"> </span><span class="nv">$newDept</span><span class="w">

</span><span class="c"># Create a new employee</span><span class="w">
</span><span class="nv">$newEmployee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">@{</span><span class="w">
    </span><span class="nx">firstName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"John"</span><span class="w">
    </span><span class="nx">lastName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w">
    </span><span class="nx">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"john.doe@company.com"</span><span class="w">
    </span><span class="nx">phoneNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"+1-555-1234"</span><span class="w">
    </span><span class="nx">hireDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2024-10-12T00:00:00"</span><span class="w">
    </span><span class="nx">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">75000.00</span><span class="w">
    </span><span class="nx">departmentId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ConvertTo-Json</span><span class="w">

</span><span class="n">Invoke-RestMethod</span><span class="w"> </span><span class="nt">-Method</span><span class="w"> </span><span class="nx">POST</span><span class="w"> </span><span class="nt">-Uri</span><span class="w"> </span><span class="s2">"http://localhost:5152/api/employees"</span><span class="w"> </span><span class="nt">-ContentType</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w"> </span><span class="nt">-Body</span><span class="w"> </span><span class="nv">$newEmployee</span><span class="w">
</span></code></pre></div></div>

<p><strong>Using VS Code REST Client:</strong>
Create <code class="language-plaintext highlighter-rouge">test-requests.http</code> in the HRM.API project:</p>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">### Get all departments
GET http://localhost:5152/api/departments
Accept: application/json

### Get all employees
GET http://localhost:5152/api/employees
Accept: application/json

### Create new department
POST http://localhost:5152/api/departments
Content-Type: application/json

{
  "name": "Quality Assurance",
  "description": "Software testing and quality control",
  "isActive": true
}

### Create new employee
POST http://localhost:5152/api/employees
Content-Type: application/json

{
  "firstName": "Jane",
  "lastName": "Smith",
  "email": "jane.smith@company.com",
  "phoneNumber": "+1-555-5678",
  "hireDate": "2024-10-12T00:00:00",
  "salary": 80000.00,
  "departmentId": 1
}
</span></code></pre></div></div>

<p><strong>Step 11: Create Automated Testing Infrastructure</strong></p>

<p><strong>Create Test Project:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Navigate to HRM solution directory</span><span class="w">
</span><span class="n">cd</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="c"># from HRM.API to HRM</span><span class="w">

</span><span class="c"># Create test project</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">new</span><span class="w"> </span><span class="nx">xunit</span><span class="w"> </span><span class="nt">-n</span><span class="w"> </span><span class="nx">HRM.Tests</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">sln</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">HRM.Tests/HRM.Tests.csproj</span><span class="w">

</span><span class="c"># Add test packages and project reference</span><span class="w">
</span><span class="n">cd</span><span class="w"> </span><span class="nx">HRM.Tests</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">package</span><span class="w"> </span><span class="nx">Microsoft.AspNetCore.Mvc.Testing</span><span class="w"> </span><span class="nt">--version</span><span class="w"> </span><span class="nx">9.0.0</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">package</span><span class="w"> </span><span class="nx">Microsoft.EntityFrameworkCore.InMemory</span><span class="w"> </span><span class="nt">--version</span><span class="w"> </span><span class="nx">9.0.0</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">package</span><span class="w"> </span><span class="nx">FluentAssertions</span><span class="w"> </span><span class="nt">--version</span><span class="w"> </span><span class="nx">6.12.0</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">reference</span><span class="w"> </span><span class="o">..</span><span class="nx">/HRM.API/HRM.API.csproj</span><span class="w">
</span></code></pre></div></div>

<p><strong>Create Integration Test Infrastructure:</strong></p>

<p>Create <code class="language-plaintext highlighter-rouge">HRM.Tests/TestWebApplicationFactory.cs</code>:</p>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Hosting</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Mvc.Testing</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.EntityFrameworkCore</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.Extensions.DependencyInjection</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.Extensions.Logging</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API.Data</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">HRM.Tests</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">TestWebApplicationFactory</span><span class="p">&lt;</span><span class="n">TStartup</span><span class="p">&gt;</span> <span class="p">:</span> <span class="n">WebApplicationFactory</span><span class="p">&lt;</span><span class="n">TStartup</span><span class="p">&gt;</span> <span class="k">where</span> <span class="n">TStartup</span> <span class="p">:</span> <span class="k">class</span>
    <span class="err">{</span>
        <span class="nc">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">ConfigureWebHost</span><span class="p">(</span><span class="n">IWebHostBuilder</span> <span class="n">builder</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">builder</span><span class="p">.</span><span class="nf">ConfigureServices</span><span class="p">(</span><span class="n">services</span> <span class="p">=&gt;</span>
            <span class="p">{</span>
                <span class="c1">// Remove the real database context</span>
                <span class="kt">var</span> <span class="n">descriptor</span> <span class="p">=</span> <span class="n">services</span><span class="p">.</span><span class="nf">SingleOrDefault</span><span class="p">(</span>
                    <span class="n">d</span> <span class="p">=&gt;</span> <span class="n">d</span><span class="p">.</span><span class="n">ServiceType</span> <span class="p">==</span> <span class="k">typeof</span><span class="p">(</span><span class="n">DbContextOptions</span><span class="p">&lt;</span><span class="n">HrmDbContext</span><span class="p">&gt;));</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">descriptor</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">services</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="n">descriptor</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="c1">// Add in-memory database for testing</span>
                <span class="n">services</span><span class="p">.</span><span class="n">AddDbContext</span><span class="p">&lt;</span><span class="n">HrmDbContext</span><span class="p">&gt;(</span><span class="n">options</span> <span class="p">=&gt;</span>
                <span class="p">{</span>
                    <span class="n">options</span><span class="p">.</span><span class="nf">UseInMemoryDatabase</span><span class="p">(</span><span class="s">"InMemoryDbForTesting"</span><span class="p">);</span>
                <span class="p">});</span>

                <span class="c1">// Build the service provider and create the database</span>
                <span class="kt">var</span> <span class="n">sp</span> <span class="p">=</span> <span class="n">services</span><span class="p">.</span><span class="nf">BuildServiceProvider</span><span class="p">();</span>
                <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">scope</span> <span class="p">=</span> <span class="n">sp</span><span class="p">.</span><span class="nf">CreateScope</span><span class="p">())</span>
                <span class="p">{</span>
                    <span class="kt">var</span> <span class="n">scopedServices</span> <span class="p">=</span> <span class="n">scope</span><span class="p">.</span><span class="n">ServiceProvider</span><span class="p">;</span>
                    <span class="kt">var</span> <span class="n">db</span> <span class="p">=</span> <span class="n">scopedServices</span><span class="p">.</span><span class="n">GetRequiredService</span><span class="p">&lt;</span><span class="n">HrmDbContext</span><span class="p">&gt;();</span>
                    <span class="kt">var</span> <span class="n">logger</span> <span class="p">=</span> <span class="n">scopedServices</span><span class="p">.</span><span class="n">GetRequiredService</span><span class="p">&lt;</span><span class="n">ILogger</span><span class="p">&lt;</span><span class="n">TestWebApplicationFactory</span><span class="p">&lt;</span><span class="n">TStartup</span><span class="p">&gt;&gt;&gt;();</span>

                    <span class="c1">// Ensure the database is created</span>
                    <span class="n">db</span><span class="p">.</span><span class="n">Database</span><span class="p">.</span><span class="nf">EnsureCreated</span><span class="p">();</span>

                    <span class="k">try</span>
                    <span class="p">{</span>
                        <span class="c1">// Seed test data if needed</span>
                        <span class="nf">SeedTestData</span><span class="p">(</span><span class="n">db</span><span class="p">);</span>
                    <span class="p">}</span>
                    <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="n">logger</span><span class="p">.</span><span class="nf">LogError</span><span class="p">(</span><span class="n">ex</span><span class="p">,</span> <span class="s">"An error occurred seeding the database with test messages. Error: {Message}"</span><span class="p">,</span> <span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">});</span>

            <span class="n">builder</span><span class="p">.</span><span class="nf">UseEnvironment</span><span class="p">(</span><span class="s">"Testing"</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">SeedTestData</span><span class="p">(</span><span class="n">HrmDbContext</span> <span class="n">context</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Add additional test data if needed beyond what's in OnModelCreating</span>
            <span class="k">if</span> <span class="p">(!</span><span class="n">context</span><span class="p">.</span><span class="n">Departments</span><span class="p">.</span><span class="nf">Any</span><span class="p">())</span>
            <span class="p">{</span>
                <span class="n">context</span><span class="p">.</span><span class="n">Departments</span><span class="p">.</span><span class="nf">AddRange</span><span class="p">(</span>
                    <span class="k">new</span> <span class="n">HRM</span><span class="p">.</span><span class="n">API</span><span class="p">.</span><span class="n">Models</span><span class="p">.</span><span class="n">Department</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Test HR"</span><span class="p">,</span> <span class="n">Description</span> <span class="p">=</span> <span class="s">"Test HR Department"</span><span class="p">,</span> <span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span> <span class="p">},</span>
                    <span class="k">new</span> <span class="n">HRM</span><span class="p">.</span><span class="n">API</span><span class="p">.</span><span class="n">Models</span><span class="p">.</span><span class="n">Department</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Test IT"</span><span class="p">,</span> <span class="n">Description</span> <span class="p">=</span> <span class="s">"Test IT Department"</span><span class="p">,</span> <span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span> <span class="p">}</span>
                <span class="p">);</span>
                <span class="n">context</span><span class="p">.</span><span class="nf">SaveChanges</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Create Department Integration Tests:</strong></p>

<p>Create <code class="language-plaintext highlighter-rouge">HRM.Tests/IntegrationTests/DepartmentControllerTests.cs</code>:</p>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Net.Http.Json</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">FluentAssertions</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API.DTOs</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Newtonsoft.Json</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Xunit</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">HRM.Tests.IntegrationTests</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">DepartmentControllerTests</span> <span class="p">:</span> <span class="n">IClassFixture</span><span class="p">&lt;</span><span class="n">TestWebApplicationFactory</span><span class="p">&lt;</span><span class="n">Program</span><span class="p">&gt;&gt;</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">HttpClient</span> <span class="n">_client</span><span class="p">;</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">TestWebApplicationFactory</span><span class="p">&lt;</span><span class="n">Program</span><span class="p">&gt;</span> <span class="n">_factory</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">DepartmentControllerTests</span><span class="p">(</span><span class="n">TestWebApplicationFactory</span><span class="p">&lt;</span><span class="n">Program</span><span class="p">&gt;</span> <span class="n">factory</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">_factory</span> <span class="p">=</span> <span class="n">factory</span><span class="p">;</span>
            <span class="n">_client</span> <span class="p">=</span> <span class="n">_factory</span><span class="p">.</span><span class="nf">CreateClient</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">GetDepartments_ReturnsSuccessAndCorrectContentType</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"/api/departments"</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">OK</span><span class="p">);</span>
            <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">ContentType</span><span class="p">?.</span><span class="nf">ToString</span><span class="p">()</span>
                <span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Contain</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">GetDepartments_ReturnsListOfDepartments</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"/api/departments"</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">content</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">departments</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">DepartmentDto</span><span class="p">&gt;&gt;(</span><span class="n">content</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">OK</span><span class="p">);</span>
            <span class="n">departments</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">NotBeNull</span><span class="p">();</span>
            <span class="n">departments</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">HaveCountGreaterThan</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
            <span class="n">departments</span><span class="p">!.</span><span class="nf">First</span><span class="p">().</span><span class="n">Name</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">NotBeNullOrEmpty</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">GetDepartment_WithValidId_ReturnsSuccessAndCorrectDepartment</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Arrange - First get all departments to find a valid ID</span>
            <span class="kt">var</span> <span class="n">allDepartmentsResponse</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"/api/departments"</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">allDepartmentsContent</span> <span class="p">=</span> <span class="k">await</span> <span class="n">allDepartmentsResponse</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">allDepartments</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">DepartmentDto</span><span class="p">&gt;&gt;(</span><span class="n">allDepartmentsContent</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">firstDepartment</span> <span class="p">=</span> <span class="n">allDepartments</span><span class="p">!.</span><span class="nf">First</span><span class="p">();</span>

            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">$"/api/departments/</span><span class="p">{</span><span class="n">firstDepartment</span><span class="p">.</span><span class="n">DepartmentId</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">content</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">department</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">DepartmentDto</span><span class="p">&gt;(</span><span class="n">content</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">OK</span><span class="p">);</span>
            <span class="n">department</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">NotBeNull</span><span class="p">();</span>
            <span class="n">department</span><span class="p">!.</span><span class="n">DepartmentId</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">firstDepartment</span><span class="p">.</span><span class="n">DepartmentId</span><span class="p">);</span>
            <span class="n">department</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">firstDepartment</span><span class="p">.</span><span class="n">Name</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">GetDepartment_WithInvalidId_ReturnsNotFound</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"/api/departments/99999"</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">NotFound</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">CreateDepartment_WithValidData_ReturnsCreated</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Arrange</span>
            <span class="kt">var</span> <span class="n">newDepartment</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CreateDepartmentDto</span>
            <span class="p">{</span>
                <span class="n">Name</span> <span class="p">=</span> <span class="s">$"Test Department </span><span class="p">{</span><span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">()}</span><span class="s">"</span><span class="p">,</span>
                <span class="n">Description</span> <span class="p">=</span> <span class="s">"Integration test department"</span><span class="p">,</span>
                <span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span>
            <span class="p">};</span>

            <span class="kt">var</span> <span class="n">json</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="n">newDepartment</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">content</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringContent</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>

            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="s">"/api/departments"</span><span class="p">,</span> <span class="n">content</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">responseContent</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">createdDepartment</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">DepartmentDto</span><span class="p">&gt;(</span><span class="n">responseContent</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">Created</span><span class="p">);</span>
            <span class="n">createdDepartment</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">NotBeNull</span><span class="p">();</span>
            <span class="n">createdDepartment</span><span class="p">!.</span><span class="n">Name</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">newDepartment</span><span class="p">.</span><span class="n">Name</span><span class="p">);</span>
            <span class="n">createdDepartment</span><span class="p">.</span><span class="n">Description</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">newDepartment</span><span class="p">.</span><span class="n">Description</span><span class="p">);</span>
            <span class="n">createdDepartment</span><span class="p">.</span><span class="n">IsActive</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">newDepartment</span><span class="p">.</span><span class="n">IsActive</span><span class="p">);</span>
            <span class="n">createdDepartment</span><span class="p">.</span><span class="n">DepartmentId</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">BeGreaterThan</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">CreateDepartment_WithInvalidData_ReturnsBadRequest</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Arrange - Create department with missing required field</span>
            <span class="kt">var</span> <span class="n">invalidDepartment</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span> <span class="n">Description</span> <span class="p">=</span> <span class="s">"Missing name field"</span> <span class="p">};</span>
            <span class="kt">var</span> <span class="n">json</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="n">invalidDepartment</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">content</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringContent</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>

            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="s">"/api/departments"</span><span class="p">,</span> <span class="n">content</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">BadRequest</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">DeleteDepartment_WithValidId_ReturnsNoContent</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Arrange - First create a department to delete</span>
            <span class="kt">var</span> <span class="n">newDepartment</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CreateDepartmentDto</span>
            <span class="p">{</span>
                <span class="n">Name</span> <span class="p">=</span> <span class="s">$"Department to Delete </span><span class="p">{</span><span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">()}</span><span class="s">"</span><span class="p">,</span>
                <span class="n">Description</span> <span class="p">=</span> <span class="s">"Will be deleted"</span><span class="p">,</span>
                <span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span>
            <span class="p">};</span>

            <span class="kt">var</span> <span class="n">json</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="n">newDepartment</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">content</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringContent</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>

            <span class="kt">var</span> <span class="n">createResponse</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="s">"/api/departments"</span><span class="p">,</span> <span class="n">content</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">createContent</span> <span class="p">=</span> <span class="k">await</span> <span class="n">createResponse</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">createdDepartment</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">DepartmentDto</span><span class="p">&gt;(</span><span class="n">createContent</span><span class="p">);</span>

            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">deleteResponse</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">DeleteAsync</span><span class="p">(</span><span class="s">$"/api/departments/</span><span class="p">{</span><span class="n">createdDepartment</span><span class="p">!.</span><span class="n">DepartmentId</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">deleteResponse</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">NoContent</span><span class="p">);</span>

            <span class="c1">// Verify it's actually deleted</span>
            <span class="kt">var</span> <span class="n">getResponse</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">$"/api/departments/</span><span class="p">{</span><span class="n">createdDepartment</span><span class="p">.</span><span class="n">DepartmentId</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
            <span class="n">getResponse</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">NotFound</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">DeleteDepartment_WithInvalidId_ReturnsNotFound</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">DeleteAsync</span><span class="p">(</span><span class="s">"/api/departments/99999"</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">NotFound</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Create Employee Integration Tests:</strong></p>

<p>Create <code class="language-plaintext highlighter-rouge">HRM.Tests/IntegrationTests/EmployeeControllerTests.cs</code>:</p>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Net.Http.Json</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">FluentAssertions</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API.DTOs</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Newtonsoft.Json</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Xunit</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">HRM.Tests.IntegrationTests</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">EmployeeControllerTests</span> <span class="p">:</span> <span class="n">IClassFixture</span><span class="p">&lt;</span><span class="n">TestWebApplicationFactory</span><span class="p">&lt;</span><span class="n">Program</span><span class="p">&gt;&gt;</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">HttpClient</span> <span class="n">_client</span><span class="p">;</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">TestWebApplicationFactory</span><span class="p">&lt;</span><span class="n">Program</span><span class="p">&gt;</span> <span class="n">_factory</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">EmployeeControllerTests</span><span class="p">(</span><span class="n">TestWebApplicationFactory</span><span class="p">&lt;</span><span class="n">Program</span><span class="p">&gt;</span> <span class="n">factory</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">_factory</span> <span class="p">=</span> <span class="n">factory</span><span class="p">;</span>
            <span class="n">_client</span> <span class="p">=</span> <span class="n">_factory</span><span class="p">.</span><span class="nf">CreateClient</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">GetEmployees_ReturnsSuccessAndCorrectContentType</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"/api/employees"</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">OK</span><span class="p">);</span>
            <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">ContentType</span><span class="p">?.</span><span class="nf">ToString</span><span class="p">()</span>
                <span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Contain</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">GetEmployees_ReturnsListOfEmployees</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"/api/employees"</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">content</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">employees</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">EmployeeDto</span><span class="p">&gt;&gt;(</span><span class="n">content</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">OK</span><span class="p">);</span>
            <span class="n">employees</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">NotBeNull</span><span class="p">();</span>
            <span class="n">employees</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">HaveCountGreaterThan</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
            <span class="n">employees</span><span class="p">!.</span><span class="nf">First</span><span class="p">().</span><span class="n">FirstName</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">NotBeNullOrEmpty</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">CreateEmployee_WithValidData_ReturnsCreated</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Arrange - Get a valid department ID first</span>
            <span class="kt">var</span> <span class="n">departmentsResponse</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"/api/departments"</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">departmentsContent</span> <span class="p">=</span> <span class="k">await</span> <span class="n">departmentsResponse</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">departments</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">DepartmentDto</span><span class="p">&gt;&gt;(</span><span class="n">departmentsContent</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">validDepartmentId</span> <span class="p">=</span> <span class="n">departments</span><span class="p">!.</span><span class="nf">First</span><span class="p">().</span><span class="n">DepartmentId</span><span class="p">;</span>

            <span class="kt">var</span> <span class="n">newEmployee</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CreateEmployeeDto</span>
            <span class="p">{</span>
                <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"Integration"</span><span class="p">,</span>
                <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Test"</span><span class="p">,</span>
                <span class="n">Email</span> <span class="p">=</span> <span class="s">$"integration.test.</span><span class="p">{</span><span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">()}</span><span class="s">@company.com"</span><span class="p">,</span>
                <span class="n">PhoneNumber</span> <span class="p">=</span> <span class="s">"+1-555-TEST"</span><span class="p">,</span>
                <span class="n">HireDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">,</span>
                <span class="n">Salary</span> <span class="p">=</span> <span class="m">75000m</span><span class="p">,</span>
                <span class="n">DepartmentId</span> <span class="p">=</span> <span class="n">validDepartmentId</span>
            <span class="p">};</span>

            <span class="kt">var</span> <span class="n">json</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="n">newEmployee</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">content</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringContent</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>

            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="s">"/api/employees"</span><span class="p">,</span> <span class="n">content</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">responseContent</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">createdEmployee</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">EmployeeDto</span><span class="p">&gt;(</span><span class="n">responseContent</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">Created</span><span class="p">);</span>
            <span class="n">createdEmployee</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">NotBeNull</span><span class="p">();</span>
            <span class="n">createdEmployee</span><span class="p">!.</span><span class="n">FirstName</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">newEmployee</span><span class="p">.</span><span class="n">FirstName</span><span class="p">);</span>
            <span class="n">createdEmployee</span><span class="p">.</span><span class="n">LastName</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">newEmployee</span><span class="p">.</span><span class="n">LastName</span><span class="p">);</span>
            <span class="n">createdEmployee</span><span class="p">.</span><span class="n">Email</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">newEmployee</span><span class="p">.</span><span class="n">Email</span><span class="p">);</span>
            <span class="n">createdEmployee</span><span class="p">.</span><span class="n">EmployeeId</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">BeGreaterThan</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">UpdateEmployee_WithValidData_ReturnsSuccess</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Arrange - First create an employee</span>
            <span class="kt">var</span> <span class="n">departmentsResponse</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"/api/departments"</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">departmentsContent</span> <span class="p">=</span> <span class="k">await</span> <span class="n">departmentsResponse</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">departments</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">DepartmentDto</span><span class="p">&gt;&gt;(</span><span class="n">departmentsContent</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">validDepartmentId</span> <span class="p">=</span> <span class="n">departments</span><span class="p">!.</span><span class="nf">First</span><span class="p">().</span><span class="n">DepartmentId</span><span class="p">;</span>

            <span class="kt">var</span> <span class="n">newEmployee</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CreateEmployeeDto</span>
            <span class="p">{</span>
                <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"Original"</span><span class="p">,</span>
                <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Name"</span><span class="p">,</span>
                <span class="n">Email</span> <span class="p">=</span> <span class="s">$"original.</span><span class="p">{</span><span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">()}</span><span class="s">@company.com"</span><span class="p">,</span>
                <span class="n">PhoneNumber</span> <span class="p">=</span> <span class="s">"+1-555-ORIG"</span><span class="p">,</span>
                <span class="n">HireDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">,</span>
                <span class="n">Salary</span> <span class="p">=</span> <span class="m">70000m</span><span class="p">,</span>
                <span class="n">DepartmentId</span> <span class="p">=</span> <span class="n">validDepartmentId</span>
            <span class="p">};</span>

            <span class="kt">var</span> <span class="n">createJson</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="n">newEmployee</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">createContent</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringContent</span><span class="p">(</span><span class="n">createJson</span><span class="p">,</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">createResponse</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="s">"/api/employees"</span><span class="p">,</span> <span class="n">createContent</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">createResponseContent</span> <span class="p">=</span> <span class="k">await</span> <span class="n">createResponse</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">createdEmployee</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">EmployeeDto</span><span class="p">&gt;(</span><span class="n">createResponseContent</span><span class="p">);</span>

            <span class="c1">// Update the employee</span>
            <span class="kt">var</span> <span class="n">updateEmployee</span> <span class="p">=</span> <span class="k">new</span> <span class="n">UpdateEmployeeDto</span>
            <span class="p">{</span>
                <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"Updated"</span><span class="p">,</span>
                <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Name"</span><span class="p">,</span>
                <span class="n">Email</span> <span class="p">=</span> <span class="n">createdEmployee</span><span class="p">!.</span><span class="n">Email</span><span class="p">,</span> <span class="c1">// Keep same email</span>
                <span class="n">PhoneNumber</span> <span class="p">=</span> <span class="s">"+1-555-UPDT"</span><span class="p">,</span>
                <span class="n">HireDate</span> <span class="p">=</span> <span class="n">createdEmployee</span><span class="p">.</span><span class="n">HireDate</span><span class="p">,</span>
                <span class="n">Salary</span> <span class="p">=</span> <span class="m">80000m</span><span class="p">,</span>
                <span class="n">DepartmentId</span> <span class="p">=</span> <span class="n">validDepartmentId</span>
            <span class="p">};</span>

            <span class="kt">var</span> <span class="n">updateJson</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="n">updateEmployee</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">updateContent</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringContent</span><span class="p">(</span><span class="n">updateJson</span><span class="p">,</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>

            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_client</span><span class="p">.</span><span class="nf">PutAsync</span><span class="p">(</span><span class="s">$"/api/employees/</span><span class="p">{</span><span class="n">createdEmployee</span><span class="p">.</span><span class="n">EmployeeId</span><span class="p">}</span><span class="s">"</span><span class="p">,</span> <span class="n">updateContent</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">responseContent</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">updatedEmployee</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">EmployeeDto</span><span class="p">&gt;(</span><span class="n">responseContent</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">OK</span><span class="p">);</span>
            <span class="n">updatedEmployee</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">NotBeNull</span><span class="p">();</span>
            <span class="n">updatedEmployee</span><span class="p">!.</span><span class="n">FirstName</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="s">"Updated"</span><span class="p">);</span>
            <span class="n">updatedEmployee</span><span class="p">.</span><span class="n">Salary</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="m">80000m</span><span class="p">);</span>
            <span class="n">updatedEmployee</span><span class="p">.</span><span class="n">EmployeeId</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="n">createdEmployee</span><span class="p">.</span><span class="n">EmployeeId</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Create Unit Tests for Services:</strong></p>

<p>Create <code class="language-plaintext highlighter-rouge">HRM.Tests/UnitTests/DepartmentServiceTests.cs</code>:</p>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">Microsoft.EntityFrameworkCore</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">FluentAssertions</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API.Data</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API.Services</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API.Models</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">HRM.API.DTOs</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Xunit</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">HRM.Tests.UnitTests</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">DepartmentServiceTests</span> <span class="p">:</span> <span class="n">IDisposable</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">HrmDbContext</span> <span class="n">_context</span><span class="p">;</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">DepartmentService</span> <span class="n">_service</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">DepartmentServiceTests</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DbContextOptionsBuilder</span><span class="p">&lt;</span><span class="n">HrmDbContext</span><span class="p">&gt;()</span>
                <span class="p">.</span><span class="nf">UseInMemoryDatabase</span><span class="p">(</span><span class="n">databaseName</span><span class="p">:</span> <span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">().</span><span class="nf">ToString</span><span class="p">())</span>
                <span class="p">.</span><span class="n">Options</span><span class="p">;</span>

            <span class="n">_context</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HrmDbContext</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
            <span class="n">_service</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DepartmentService</span><span class="p">(</span><span class="n">_context</span><span class="p">);</span>

            <span class="c1">// Seed test data</span>
            <span class="nf">SeedTestData</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">SeedTestData</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">_context</span><span class="p">.</span><span class="n">Departments</span><span class="p">.</span><span class="nf">AddRange</span><span class="p">(</span>
                <span class="k">new</span> <span class="n">Department</span> <span class="p">{</span> <span class="n">DepartmentId</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"HR"</span><span class="p">,</span> <span class="n">Description</span> <span class="p">=</span> <span class="s">"Human Resources"</span><span class="p">,</span> <span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span> <span class="p">},</span>
                <span class="k">new</span> <span class="n">Department</span> <span class="p">{</span> <span class="n">DepartmentId</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"IT"</span><span class="p">,</span> <span class="n">Description</span> <span class="p">=</span> <span class="s">"Information Technology"</span><span class="p">,</span> <span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span> <span class="p">},</span>
                <span class="k">new</span> <span class="n">Department</span> <span class="p">{</span> <span class="n">DepartmentId</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">"Finance"</span><span class="p">,</span> <span class="n">Description</span> <span class="p">=</span> <span class="s">"Finance Department"</span><span class="p">,</span> <span class="n">IsActive</span> <span class="p">=</span> <span class="k">false</span> <span class="p">}</span>
            <span class="p">);</span>
            <span class="n">_context</span><span class="p">.</span><span class="nf">SaveChanges</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">GetAllDepartmentsAsync_ReturnsAllDepartments</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_service</span><span class="p">.</span><span class="nf">GetAllDepartmentsAsync</span><span class="p">();</span>

            <span class="c1">// Assert</span>
            <span class="n">result</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">NotBeNull</span><span class="p">();</span>
            <span class="n">result</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">HaveCount</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>
            <span class="n">result</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Contain</span><span class="p">(</span><span class="n">d</span> <span class="p">=&gt;</span> <span class="n">d</span><span class="p">.</span><span class="n">Name</span> <span class="p">==</span> <span class="s">"HR"</span><span class="p">);</span>
            <span class="n">result</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Contain</span><span class="p">(</span><span class="n">d</span> <span class="p">=&gt;</span> <span class="n">d</span><span class="p">.</span><span class="n">Name</span> <span class="p">==</span> <span class="s">"IT"</span><span class="p">);</span>
            <span class="n">result</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Contain</span><span class="p">(</span><span class="n">d</span> <span class="p">=&gt;</span> <span class="n">d</span><span class="p">.</span><span class="n">Name</span> <span class="p">==</span> <span class="s">"Finance"</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">GetDepartmentByIdAsync_WithValidId_ReturnsDepartment</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_service</span><span class="p">.</span><span class="nf">GetDepartmentByIdAsync</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">result</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">NotBeNull</span><span class="p">();</span>
            <span class="n">result</span><span class="p">!.</span><span class="n">Name</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="s">"HR"</span><span class="p">);</span>
            <span class="n">result</span><span class="p">.</span><span class="n">Description</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="s">"Human Resources"</span><span class="p">);</span>
            <span class="n">result</span><span class="p">.</span><span class="n">IsActive</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">BeTrue</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">GetDepartmentByIdAsync_WithInvalidId_ReturnsNull</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_service</span><span class="p">.</span><span class="nf">GetDepartmentByIdAsync</span><span class="p">(</span><span class="m">999</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">result</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">BeNull</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">CreateDepartmentAsync_WithValidData_CreatesDepartment</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Arrange</span>
            <span class="kt">var</span> <span class="n">createDto</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CreateDepartmentDto</span>
            <span class="p">{</span>
                <span class="n">Name</span> <span class="p">=</span> <span class="s">"New Department"</span><span class="p">,</span>
                <span class="n">Description</span> <span class="p">=</span> <span class="s">"A new test department"</span><span class="p">,</span>
                <span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span>
            <span class="p">};</span>

            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_service</span><span class="p">.</span><span class="nf">CreateDepartmentAsync</span><span class="p">(</span><span class="n">createDto</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">result</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">NotBeNull</span><span class="p">();</span>
            <span class="n">result</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="s">"New Department"</span><span class="p">);</span>
            <span class="n">result</span><span class="p">.</span><span class="n">Description</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="s">"A new test department"</span><span class="p">);</span>
            <span class="n">result</span><span class="p">.</span><span class="n">IsActive</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">BeTrue</span><span class="p">();</span>
            <span class="n">result</span><span class="p">.</span><span class="n">DepartmentId</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">BeGreaterThan</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>

            <span class="c1">// Verify it was actually saved</span>
            <span class="kt">var</span> <span class="n">savedDepartment</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_context</span><span class="p">.</span><span class="n">Departments</span><span class="p">.</span><span class="nf">FindAsync</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">DepartmentId</span><span class="p">);</span>
            <span class="n">savedDepartment</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">NotBeNull</span><span class="p">();</span>
            <span class="n">savedDepartment</span><span class="p">!.</span><span class="n">Name</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">Be</span><span class="p">(</span><span class="s">"New Department"</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">DeleteDepartmentAsync_WithValidId_DeletesDepartment</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_service</span><span class="p">.</span><span class="nf">DeleteDepartmentAsync</span><span class="p">(</span><span class="m">3</span><span class="p">);</span> <span class="c1">// Delete Finance department</span>

            <span class="c1">// Assert</span>
            <span class="n">result</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">BeTrue</span><span class="p">();</span>

            <span class="c1">// Verify it was actually deleted</span>
            <span class="kt">var</span> <span class="n">deletedDepartment</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_context</span><span class="p">.</span><span class="n">Departments</span><span class="p">.</span><span class="nf">FindAsync</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>
            <span class="n">deletedDepartment</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">BeNull</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">DeleteDepartmentAsync_WithInvalidId_ReturnsFalse</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_service</span><span class="p">.</span><span class="nf">DeleteDepartmentAsync</span><span class="p">(</span><span class="m">999</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">result</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">BeFalse</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">DepartmentExistsAsync_WithValidId_ReturnsTrue</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_service</span><span class="p">.</span><span class="nf">DepartmentExistsAsync</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">result</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">BeTrue</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">DepartmentExistsAsync_WithInvalidId_ReturnsFalse</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_service</span><span class="p">.</span><span class="nf">DepartmentExistsAsync</span><span class="p">(</span><span class="m">999</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">result</span><span class="p">.</span><span class="nf">Should</span><span class="p">().</span><span class="nf">BeFalse</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">Dispose</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">_context</span><span class="p">.</span><span class="nf">Dispose</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Run All Tests:</strong></p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Navigate to test project directory</span><span class="w">
</span><span class="n">cd</span><span class="w"> </span><span class="nx">HRM.Tests</span><span class="w">

</span><span class="c"># Run all tests</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">test</span><span class="w">

</span><span class="c"># Run tests with verbose output</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">test</span><span class="w"> </span><span class="nt">--verbosity</span><span class="w"> </span><span class="nx">normal</span><span class="w">

</span><span class="c"># Run tests and generate coverage report</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">test</span><span class="w"> </span><span class="nt">--collect</span><span class="p">:</span><span class="s2">"XPlat Code Coverage"</span><span class="w">

</span><span class="c"># Run specific test class</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">test</span><span class="w"> </span><span class="nt">--filter</span><span class="w"> </span><span class="s2">"DepartmentControllerTests"</span><span class="w">

</span><span class="c"># Run specific test method</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">test</span><span class="w"> </span><span class="nt">--filter</span><span class="w"> </span><span class="s2">"GetDepartments_ReturnsSuccessAndCorrectContentType"</span><span class="w">

</span><span class="c"># Run tests by category</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">test</span><span class="w"> </span><span class="nt">--filter</span><span class="w"> </span><span class="s2">"Category=Integration"</span><span class="w">
</span></code></pre></div></div>

<p><strong>Run Tests for Different Environments:</strong></p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Test against Development environment database</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ASPNETCORE_ENVIRONMENT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Development"</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">test</span><span class="w"> </span><span class="nt">--settings</span><span class="w"> </span><span class="nx">test.runsettings</span><span class="w">

</span><span class="c"># Test against QA environment database  </span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ASPNETCORE_ENVIRONMENT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"QA"</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">test</span><span class="w"> </span><span class="nt">--settings</span><span class="w"> </span><span class="nx">test.runsettings</span><span class="w">
</span></code></pre></div></div>

<p><strong>Create Test Configuration:</strong></p>

<p>Create <code class="language-plaintext highlighter-rouge">HRM.Tests/test.runsettings</code>:</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;RunSettings&gt;</span>
  <span class="nt">&lt;DataCollectionRunSettings&gt;</span>
    <span class="nt">&lt;DataCollectors&gt;</span>
      <span class="nt">&lt;DataCollector</span> <span class="na">friendlyName=</span><span class="s">"XPlat code coverage"</span> <span class="na">uri=</span><span class="s">"datacollector://Microsoft/CodeCoverage/2.0"</span> <span class="na">assemblyQualifiedName=</span><span class="s">"Microsoft.CodeCoverage.Extensions.DataCollectors.DotNetCodeCoverageCollector, Microsoft.CodeCoverage.Extensions, Version=15.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Configuration&gt;</span>
          <span class="nt">&lt;Format&gt;</span>json,cobertura,lcov,teamcity,opencover<span class="nt">&lt;/Format&gt;</span>
        <span class="nt">&lt;/Configuration&gt;</span>
      <span class="nt">&lt;/DataCollector&gt;</span>
    <span class="nt">&lt;/DataCollectors&gt;</span>
  <span class="nt">&lt;/DataCollectionRunSettings&gt;</span>
<span class="nt">&lt;/RunSettings&gt;</span>
</code></pre></div></div>

<p><strong>Test Output Analysis:</strong></p>

<p>Expected test results should show:</p>
<ul>
  <li>✅ <strong>Integration Tests</strong>: Verify API endpoints work correctly across environments</li>
  <li>✅ <strong>Unit Tests</strong>: Validate business logic in isolation with in-memory database</li>
  <li>✅ <strong>Code Coverage</strong>: Measure how much of your code is tested</li>
  <li>✅ <strong>Performance</strong>: Ensure tests run quickly (under 30 seconds total)</li>
</ul>

<p><strong>Benefits of This Testing Approach:</strong></p>
<ul>
  <li><strong>Isolation</strong>: Each test uses fresh in-memory database</li>
  <li><strong>Speed</strong>: Fast execution without real database overhead</li>
  <li><strong>Reliability</strong>: Consistent results across different environments</li>
  <li><strong>Coverage</strong>: Both API layer (integration) and service layer (unit) testing</li>
  <li><strong>CI/CD Ready</strong>: Can run in automated build pipelines</li>
</ul>

<p><strong>Create PowerShell Automation Script:</strong></p>

<p>Create <code class="language-plaintext highlighter-rouge">Scripts/Test-HRM-API.ps1</code>:</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">param</span><span class="p">(</span><span class="w">
    </span><span class="p">[</span><span class="n">string</span><span class="p">]</span><span class="nv">$Environment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Development"</span><span class="p">,</span><span class="w">
    </span><span class="p">[</span><span class="n">string</span><span class="p">]</span><span class="nv">$BaseUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"http://localhost:5152"</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"=======================================</span><span class="se">`n</span><span class="s2">"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Cyan</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"HRM API AUTOMATED TEST SUITE</span><span class="se">`n</span><span class="s2">"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Yellow</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"Environment: </span><span class="nv">$Environment</span><span class="se">`n</span><span class="s2">"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Green</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"Base URL: </span><span class="nv">$BaseUrl</span><span class="se">`n</span><span class="s2">"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Green</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"======================================="</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Cyan</span><span class="w">

</span><span class="nv">$tests</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">@()</span><span class="w">
</span><span class="nv">$startTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Get-Date</span><span class="w">

</span><span class="c"># Test 1: Get all departments</span><span class="w">
</span><span class="kr">try</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nv">$response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Invoke-RestMethod</span><span class="w"> </span><span class="nt">-Uri</span><span class="w"> </span><span class="s2">"</span><span class="nv">$BaseUrl</span><span class="s2">/api/departments"</span><span class="w"> </span><span class="nt">-Method</span><span class="w"> </span><span class="nx">Get</span><span class="w">
    </span><span class="nv">$tests</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">@{</span><span class="w"> </span><span class="nx">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Get Departments"</span><span class="p">;</span><span class="w"> </span><span class="nx">Status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PASS"</span><span class="p">;</span><span class="w"> </span><span class="nx">Count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$response</span><span class="err">.</span><span class="nx">Count</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"✅ Get Departments: PASSED (</span><span class="si">$(</span><span class="nv">$response</span><span class="o">.</span><span class="nf">Count</span><span class="si">)</span><span class="s2"> departments)"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Green</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="kr">catch</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nv">$tests</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">@{</span><span class="w"> </span><span class="nx">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Get Departments"</span><span class="p">;</span><span class="w"> </span><span class="nx">Status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"FAIL"</span><span class="p">;</span><span class="w"> </span><span class="nx">Error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$_</span><span class="err">.</span><span class="nx">Exception</span><span class="err">.</span><span class="nx">Message</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"❌ Get Departments: FAILED - </span><span class="si">$(</span><span class="bp">$_</span><span class="o">.</span><span class="nf">Exception</span><span class="o">.</span><span class="nf">Message</span><span class="si">)</span><span class="s2">"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Red</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="c"># Test 2: Get all employees</span><span class="w">
</span><span class="kr">try</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nv">$response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Invoke-RestMethod</span><span class="w"> </span><span class="nt">-Uri</span><span class="w"> </span><span class="s2">"</span><span class="nv">$BaseUrl</span><span class="s2">/api/employees"</span><span class="w"> </span><span class="nt">-Method</span><span class="w"> </span><span class="nx">Get</span><span class="w">
    </span><span class="nv">$tests</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">@{</span><span class="w"> </span><span class="nx">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Get Employees"</span><span class="p">;</span><span class="w"> </span><span class="nx">Status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PASS"</span><span class="p">;</span><span class="w"> </span><span class="nx">Count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$response</span><span class="err">.</span><span class="nx">Count</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"✅ Get Employees: PASSED (</span><span class="si">$(</span><span class="nv">$response</span><span class="o">.</span><span class="nf">Count</span><span class="si">)</span><span class="s2"> employees)"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Green</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="kr">catch</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nv">$tests</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">@{</span><span class="w"> </span><span class="nx">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Get Employees"</span><span class="p">;</span><span class="w"> </span><span class="nx">Status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"FAIL"</span><span class="p">;</span><span class="w"> </span><span class="nx">Error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$_</span><span class="err">.</span><span class="nx">Exception</span><span class="err">.</span><span class="nx">Message</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"❌ Get Employees: FAILED - </span><span class="si">$(</span><span class="bp">$_</span><span class="o">.</span><span class="nf">Exception</span><span class="o">.</span><span class="nf">Message</span><span class="si">)</span><span class="s2">"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Red</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="c"># Test 3: Create department</span><span class="w">
</span><span class="kr">try</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nv">$newDept</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">@{</span><span class="w">
        </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Test Department </span><span class="si">$(</span><span class="n">Get-Random</span><span class="p">)</span><span class="s2">"</span><span class="w">
        </span><span class="nx">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Automated test department"</span><span class="w">
        </span><span class="nx">isActive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$true</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ConvertTo-Json</span><span class="w">
    
    </span><span class="nv">$response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Invoke-RestMethod</span><span class="w"> </span><span class="nt">-Uri</span><span class="w"> </span><span class="s2">"</span><span class="nv">$BaseUrl</span><span class="s2">/api/departments"</span><span class="w"> </span><span class="nt">-Method</span><span class="w"> </span><span class="nx">Post</span><span class="w"> </span><span class="nt">-Body</span><span class="w"> </span><span class="nv">$newDept</span><span class="w"> </span><span class="nt">-ContentType</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
    </span><span class="nv">$tests</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">@{</span><span class="w"> </span><span class="nx">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Create Department"</span><span class="p">;</span><span class="w"> </span><span class="nx">Status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PASS"</span><span class="p">;</span><span class="w"> </span><span class="nx">Id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$response</span><span class="err">.</span><span class="nx">departmentId</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"✅ Create Department: PASSED (ID: </span><span class="si">$(</span><span class="nv">$response</span><span class="o">.</span><span class="nf">departmentId</span><span class="si">)</span><span class="s2">)"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Green</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="kr">catch</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nv">$tests</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">@{</span><span class="w"> </span><span class="nx">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Create Department"</span><span class="p">;</span><span class="w"> </span><span class="nx">Status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"FAIL"</span><span class="p">;</span><span class="w"> </span><span class="nx">Error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$_</span><span class="err">.</span><span class="nx">Exception</span><span class="err">.</span><span class="nx">Message</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"❌ Create Department: FAILED - </span><span class="si">$(</span><span class="bp">$_</span><span class="o">.</span><span class="nf">Exception</span><span class="o">.</span><span class="nf">Message</span><span class="si">)</span><span class="s2">"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Red</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="c"># Calculate summary</span><span class="w">
</span><span class="nv">$endTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Get-Date</span><span class="w">
</span><span class="nv">$duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nv">$endTime</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">$startTime</span><span class="p">)</span><span class="o">.</span><span class="nf">TotalSeconds</span><span class="w">
</span><span class="nv">$passedTests</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nv">$tests</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Where-Object</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="bp">$_</span><span class="o">.</span><span class="nf">Status</span><span class="w"> </span><span class="o">-eq</span><span class="w"> </span><span class="s2">"PASS"</span><span class="w"> </span><span class="p">})</span><span class="o">.</span><span class="nf">Count</span><span class="w">
</span><span class="nv">$failedTests</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nv">$tests</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Where-Object</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="bp">$_</span><span class="o">.</span><span class="nf">Status</span><span class="w"> </span><span class="o">-eq</span><span class="w"> </span><span class="s2">"FAIL"</span><span class="w"> </span><span class="p">})</span><span class="o">.</span><span class="nf">Count</span><span class="w">
</span><span class="nv">$successRate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">math</span><span class="p">]::</span><span class="n">Round</span><span class="p">((</span><span class="nv">$passedTests</span><span class="w"> </span><span class="n">/</span><span class="w"> </span><span class="nv">$tests</span><span class="o">.</span><span class="nf">Count</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">100</span><span class="p">,</span><span class="w"> </span><span class="nx">2</span><span class="p">)</span><span class="w">

</span><span class="c"># Display summary</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"</span><span class="se">`n</span><span class="s2">======================================="</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Cyan</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"TEST SUMMARY"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Yellow</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"======================================="</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Cyan</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"Duration: </span><span class="nv">$duration</span><span class="s2"> seconds"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">White</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"Total Tests: </span><span class="si">$(</span><span class="nv">$tests</span><span class="o">.</span><span class="nf">Count</span><span class="si">)</span><span class="s2">"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">White</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"Passed: </span><span class="nv">$passedTests</span><span class="s2">"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Green</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"Failed: </span><span class="nv">$failedTests</span><span class="s2">"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Red</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"Success Rate: </span><span class="nv">$successRate</span><span class="s2">%"</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="err">$</span><span class="p">(</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="nv">$successRate</span><span class="w"> </span><span class="o">-ge</span><span class="w"> </span><span class="mi">80</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"Green"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"Red"</span><span class="w"> </span><span class="p">})</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"======================================="</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Cyan</span><span class="w">

</span><span class="kr">return</span><span class="w"> </span><span class="nv">$successRate</span><span class="w"> </span><span class="o">-ge</span><span class="w"> </span><span class="mi">80</span><span class="w">
</span></code></pre></div></div>

<p><strong>Run Automated Tests:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Test Development environment</span><span class="w">
</span><span class="n">cd</span><span class="w"> </span><span class="nx">HRM.Tests\Scripts</span><span class="w">
</span><span class="o">.</span><span class="n">\Test-HRM-API.ps1</span><span class="w"> </span><span class="nt">-Environment</span><span class="w"> </span><span class="s2">"Development"</span><span class="w"> </span><span class="nt">-BaseUrl</span><span class="w"> </span><span class="s2">"http://localhost:5152"</span><span class="w">

</span><span class="c"># Test QA environment</span><span class="w">
</span><span class="o">.</span><span class="n">\Test-HRM-API.ps1</span><span class="w"> </span><span class="nt">-Environment</span><span class="w"> </span><span class="s2">"QA"</span><span class="w"> </span><span class="nt">-BaseUrl</span><span class="w"> </span><span class="s2">"http://localhost:5153"</span><span class="w">

</span><span class="c"># Test Production environment</span><span class="w">
</span><span class="o">.</span><span class="n">\Test-HRM-API.ps1</span><span class="w"> </span><span class="nt">-Environment</span><span class="w"> </span><span class="s2">"Production"</span><span class="w"> </span><span class="nt">-BaseUrl</span><span class="w"> </span><span class="s2">"http://localhost:5154"</span><span class="w">
</span></code></pre></div></div>

<p><strong>Step 12: Environment Diagnostics and CORS Configuration</strong></p>

<p><strong>Add Environment Diagnostics (Development only):</strong></p>
<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Add to Program.cs for debugging</span>
<span class="k">if</span> <span class="p">(</span><span class="n">app</span><span class="p">.</span><span class="n">Environment</span><span class="p">.</span><span class="nf">IsDevelopment</span><span class="p">())</span>
<span class="p">{</span>
    <span class="n">app</span><span class="p">.</span><span class="nf">MapGet</span><span class="p">(</span><span class="s">"/env"</span><span class="p">,</span> <span class="p">(</span><span class="n">IConfiguration</span> <span class="n">cfg</span><span class="p">,</span> <span class="n">IWebHostEnvironment</span> <span class="n">env</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span>
        <span class="n">Environment</span> <span class="p">=</span> <span class="n">env</span><span class="p">.</span><span class="n">EnvironmentName</span><span class="p">,</span>
        <span class="n">Connection</span> <span class="p">=</span> <span class="n">cfg</span><span class="p">.</span><span class="nf">GetConnectionString</span><span class="p">(</span><span class="s">"DefaultConnection"</span><span class="p">),</span>
        <span class="n">ApiSettings</span> <span class="p">=</span> <span class="n">cfg</span><span class="p">.</span><span class="nf">GetSection</span><span class="p">(</span><span class="s">"ApiSettings"</span><span class="p">).</span><span class="n">Get</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;()</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Configure CORS per Environment:</strong>
Update <code class="language-plaintext highlighter-rouge">appsettings.json</code> files to include CORS settings:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"SecuritySettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"EnableCors"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AllowedOrigins"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://localhost:3000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"https://localhost:3001"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Step 13: CI/CD Deployment Strategy</strong></p>

<p><strong>Build and Deployment Pipeline:</strong></p>
<ul>
  <li>Build once, promote through Dev → QA → Prod</li>
  <li>Override connection strings using environment variables in deployment</li>
  <li>Execute database migrations during deployment with proper approvals</li>
  <li>Run automated smoke tests after each deployment</li>
</ul>

<p><strong>Environment Variable Overrides:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Override connection string in production</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ConnectionStrings__DefaultConnection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Server=prod-server;Database=HRM_Prod;..."</span><span class="w">

</span><span class="c"># Override API settings</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ApiSettings__EnableSwagger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ApiSettings__EnableDetailedErrors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
</span></code></pre></div></div>

<p><strong>Post-Deployment Smoke Tests:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Verify deployment with automated tests</span><span class="w">
</span><span class="o">.</span><span class="n">\Test-HRM-API.ps1</span><span class="w"> </span><span class="nt">-Environment</span><span class="w"> </span><span class="s2">"Production"</span><span class="w"> </span><span class="nt">-BaseUrl</span><span class="w"> </span><span class="s2">"https://api.company.com"</span><span class="w">

</span><span class="c"># Expected: GET /api/departments returns 200 with seeded data</span><span class="w">
</span><span class="c"># Expected: All critical endpoints respond within acceptable time limits</span><span class="w">
</span></code></pre></div></div>

<p><strong>Step 10: Troubleshooting</strong></p>
<ul>
  <li>SQL connection errors: verify port 1433, credentials, and <code class="language-plaintext highlighter-rouge">TrustServerCertificate=true</code> (or configure certificates).</li>
  <li>Missing tables: ensure migrations applied; consider switching from <code class="language-plaintext highlighter-rouge">EnsureCreated()</code> to <code class="language-plaintext highlighter-rouge">Database.Migrate()</code>.</li>
  <li>No Swagger: available only in Development via <code class="language-plaintext highlighter-rouge">MapOpenApi()</code>.</li>
</ul>

<hr />

<p><strong>Appendix: Quick command reference (PowerShell)</strong></p>

<pre><code class="language-ps1"># Set environment
$env:ASPNETCORE_ENVIRONMENT = "Development"  # QA | Production

# Apply migrations
dotnet ef database update --project HRM.API.csproj --startup-project HRM.API.csproj

# Run
dotnet run
</code></pre>

<p>That’s it—your HRM API now has a clear, repeatable multi-environment workflow with ASP.NET Core and SQL Server.</p>

<hr />

<p><strong>Note: How to use VS Code REST Client</strong></p>

<p><strong>Step 1: Install REST Client Extension</strong></p>
<ol>
  <li>Open VS Code</li>
  <li>Go to Extensions (Ctrl+Shift+X)</li>
  <li>Search for “REST Client” by Huachao Mao</li>
  <li>Click Install</li>
</ol>

<p><strong>Step 2: Create HTTP Request Files</strong>
Create <code class="language-plaintext highlighter-rouge">HRM.API/Tests/api-tests.http</code> in your project:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">@baseUrl = http://localhost:5152
@contentType = application/json

### Development Environment Variables
# @name dev
@devUrl = http://localhost:5152

### QA Environment Variables  
# @name qa
@qaUrl = http://localhost:5153

### Production Environment Variables
# @name prod
@prodUrl = http://localhost:5154

### ============================================
### DEPARTMENT ENDPOINTS
### ============================================

### Get all departments (Development)
GET /api/departments
Accept: 

### Get all departments (QA)
GET /api/departments
Accept: 

### Get department by ID
GET /api/departments/1
Accept: 

### Create new department
POST /api/departments
Content-Type: 

{
  "name": "Quality Assurance",
  "description": "Software testing and quality control",
  "isActive": true
}

### ============================================
### EMPLOYEE ENDPOINTS  
### ============================================

### Get all employees
GET /api/employees
Accept: 

### Get employee by ID
GET /api/employees/1
Accept: 

### Create new employee
POST /api/employees
Content-Type: 

{
  "firstName": "Jane",
  "lastName": "Smith", 
  "email": "jane.smith@company.com",
  "phoneNumber": "+1-555-5678",
  "hireDate": "2024-10-12T00:00:00",
  "salary": 80000.00,
  "departmentId": 1
}

### Update employee
PUT /api/employees/1
Content-Type: 

{
  "employeeId": 1,
  "firstName": "Jane",
  "lastName": "Smith-Updated",
  "email": "jane.smith@company.com", 
  "phoneNumber": "+1-555-5678",
  "hireDate": "2024-10-12T00:00:00",
  "salary": 85000.00,
  "departmentId": 1
}

### Delete employee
DELETE /api/employees/1

### ============================================
### ENVIRONMENT-SPECIFIC TESTING
### ============================================

### Test Development Environment Health
GET /env
Accept: 

### Test QA Environment
GET /api/departments
Accept: 

### Test Production Environment  
GET /api/departments
Accept: 
</span></code></pre></div></div>

<p><strong>Step 3: Create Environment-Specific Request Files</strong></p>

<p>Create <code class="language-plaintext highlighter-rouge">HRM.API/Tests/development.http</code>:</p>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">@baseUrl = http://localhost:5152
@environment = Development

### Get all departments
GET /api/departments

### Environment diagnostics (Development only)
GET /env

### Create test department
POST /api/departments
Content-Type: application/json

{
  "name": "Test Dept ",
  "description": "Auto-generated test department",
  "isActive": true
}
</span></code></pre></div></div>

<p>Create <code class="language-plaintext highlighter-rouge">HRM.API/Tests/qa.http</code>:</p>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">@baseUrl = http://localhost:5153
@environment = QA

### Get all departments
GET /api/departments

### Get all employees
GET /api/employees

### Create QA test data
POST /api/departments
Content-Type: application/json

{
  "name": "QA Test Department",
  "description": "Department for QA testing purposes",
  "isActive": true
}
</span></code></pre></div></div>

<p><strong>Step 4: How to Use REST Client</strong></p>

<ol>
  <li><strong>Start your API in the desired environment:</strong>
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">ASPNETCORE_ENVIRONMENT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Development"</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="nt">--launch-profile</span><span class="w"> </span><span class="nx">development</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li><strong>Open the .http file in VS Code</strong></li>
  <li><strong>Click “Send Request” above any HTTP request</strong>
    <ul>
      <li>You’ll see a clickable “Send Request” link above each <code class="language-plaintext highlighter-rouge">###</code> section</li>
      <li>Or use <code class="language-plaintext highlighter-rouge">Ctrl+Alt+R</code> keyboard shortcut</li>
    </ul>
  </li>
  <li><strong>View responses in the right panel:</strong>
    <ul>
      <li>Response status, headers, and body will appear</li>
      <li>JSON responses are automatically formatted</li>
    </ul>
  </li>
  <li><strong>Use variables for different environments:</strong>
    <ul>
      <li>Change <code class="language-plaintext highlighter-rouge">@baseUrl</code> variable to switch environments</li>
      <li>Use `` for dynamic test data</li>
    </ul>
  </li>
</ol>

<p><strong>Step 5: Advanced REST Client Features</strong></p>

<p>Create <code class="language-plaintext highlighter-rouge">HRM.API/Tests/advanced-tests.http</code>:</p>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">@baseUrl = http://localhost:5152

### Create department and store ID for later use
# @name createDept
POST /api/departments
Content-Type: application/json

{
  "name": "REST Client Test Dept",
  "description": "Created via REST Client",
  "isActive": true
}

### Use the created department ID in subsequent requests
@deptId = 

### Create employee in the new department
POST /api/employees
Content-Type: application/json

{
  "firstName": "REST",
  "lastName": "Client",
  "email": "rest.client@company.com",
  "phoneNumber": "+1-555-",
  "hireDate": "",
  "salary": 75000.00,
  "departmentId": 
}

### Clean up - delete the test department
DELETE /api/departments/
</span></code></pre></div></div>

<p><strong>Step 6: REST Client Settings</strong></p>

<p>Create <code class="language-plaintext highlighter-rouge">.vscode/settings.json</code> in your HRM project:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"rest-client.environmentVariables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"development"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"baseUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:5152"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Development"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"qa"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"baseUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:5153"</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"production"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"baseUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:5154"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Production"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"rest-client.defaultHeaders"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Accept"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Step 7: Switch Between Environments</strong></p>

<ol>
  <li><strong>Use Command Palette:</strong> <code class="language-plaintext highlighter-rouge">Ctrl+Shift+P</code> → “REST Client: Switch Environment”</li>
  <li><strong>Select environment:</strong> development, qa, or production</li>
  <li><strong>All requests will use the selected environment variables</strong></li>
</ol>

<p><strong>Benefits of REST Client vs PowerShell:</strong></p>
<ul>
  <li>✅ <strong>Visual responses:</strong> Formatted JSON, status codes, headers</li>
  <li>✅ <strong>Request history:</strong> All past requests saved automatically</li>
  <li>✅ <strong>Variables:</strong> Chain requests and reuse response data</li>
  <li>✅ <strong>Environment switching:</strong> Easy toggle between Dev/QA/Prod</li>
  <li>✅ <strong>Syntax highlighting:</strong> Better readability than command line</li>
  <li>✅ <strong>Save/share:</strong> Commit .http files to version control for team sharing</li>
</ul>

<p><strong><a href="https://github.com/mahedee/code-sample02/tree/master/multi-env-app">Source code</a></strong></p>]]></content><author><name>Mahedee Hasan</name></author><category term="ASP.NET Core" /><category term="C#" /><category term="Web API" /><category term="Software Architecture" /><category term="Tutorials" /><category term="asp-net-core" /><category term="csharp" /><category term="web-api" /><category term="entity-framework" /><category term="sql-server" /><category term="configuration" /><category term="tutorial" /><category term="best-practices" /><category term="devops" /><category term="ci-cd" /><summary type="html"><![CDATA[In enterprise applications, we need to continuously switch between different environments for testing and running applications. In this article, I will show you how to create an application and configure it for testing in different environments like Dev, QA, and Prod without conflicts between environments. This is an ASP.NET Core Web API application using SQL Server with automated API testing.]]></summary></entry></feed>